!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3);e.KeyboardInput=r.KeyboardInput},function(t,e,n){var r,i;
/**
 * mainloop.js 1.0.3-20170529
 *
 * @author Isaac Sukin (http://www.isaacsukin.com/)
 * @license MIT
 */!function(o){function s(t){if(u=_(s),!(t<h+y)){for(a+=t-h,h=t,I(t,a),t>d+p&&(l=f*v*1e3/(t-d)+(1-f)*l,d=t,v=0),v++,b=0;a>=c;)if(j(c),a-=c,++b>=240){g=!0;break}T(a/c),O(l,g),g=!1}}var u,c=1e3/60,a=0,h=0,l=60,f=.9,p=1e3,d=0,v=0,b=0,y=0,m=!1,w=!1,g=!1,x="object"==typeof window?window:o,_=x.requestAnimationFrame||function(){var t,e,n=Date.now();return function(r){return t=Date.now(),e=Math.max(0,c-(t-n)),n=t+e,setTimeout(function(){r(t+e)},e)}}(),E=x.cancelAnimationFrame||clearTimeout,S=function(){},I=S,j=S,T=S,O=S;o.MainLoop={getSimulationTimestep:function(){return c},setSimulationTimestep:function(t){return c=t,this},getFPS:function(){return l},getMaxAllowedFPS:function(){return 1e3/y},setMaxAllowedFPS:function(t){return void 0===t&&(t=1/0),0===t?this.stop():y=1e3/t,this},resetFrameDelta:function(){var t=a;return a=0,t},setBegin:function(t){return I=t||I,this},setUpdate:function(t){return j=t||j,this},setDraw:function(t){return T=t||T,this},setEnd:function(t){return O=t||O,this},start:function(){return w||(w=!0,u=_(function(t){T(1),m=!0,h=t,d=t,v=0,u=_(s)})),this},stop:function(){return m=!1,w=!1,E(u),this},isRunning:function(){return m}},r=o.MainLoop,void 0===(i="function"==typeof r?r.call(e,n,e,t):r)||(t.exports=i)}(this)},function(t,e,n){t.exports=n(6)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(5),i=n(4);e.KeyboardInput=class{constructor(...t){this.value=!1,this.pressed=[],this.valueChanges=new r.Subject,this.subscription=[],this.keys=t,this.subscription.push(r.fromEvent(document,"keydown").subscribe(t=>{const e=this.pressed.length;for(let e of this.keys)e==i(t)&&-1==this.pressed.indexOf(e)&&this.pressed.push(e);0==e&&0!=this.pressed.length&&(this.value=!0,this.valueChanges.next(this.value))})),this.subscription.push(r.fromEvent(document,"keyup").subscribe(t=>{const e=this.pressed.length;for(let e of this.keys)e==i(t)&&-1!=this.pressed.indexOf(e)&&this.pressed.splice(this.pressed.indexOf(e),1);this.value&&e>0&&0==this.pressed.length&&(this.value=!1,this.valueChanges.next(this.value))}))}dispose(){this.subscription.forEach(t=>t.unsubscribe()),this.value=!1,this.valueChanges.next(!1),this.valueChanges.complete()}}},function(t,e){function n(t){if(t&&"object"==typeof t){var e=t.which||t.keyCode||t.charCode;e&&(t=e)}if("number"==typeof t)return s[t];var n,o=String(t);return(n=r[o.toLowerCase()])?n:(n=i[o.toLowerCase()])||(1===o.length?o.charCodeAt(0):void 0)}n.isEventKey=function(t,e){if(t&&"object"==typeof t){var n=t.which||t.keyCode||t.charCode;if(null==n)return!1;if("string"==typeof e){var o;if(o=r[e.toLowerCase()])return o===n;if(o=i[e.toLowerCase()])return o===n}else if("number"==typeof e)return e===n;return!1}};var r=(e=t.exports=n).code=e.codes={backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,"pause/break":19,"caps lock":20,esc:27,space:32,"page up":33,"page down":34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,command:91,"left command":91,"right command":93,"numpad *":106,"numpad +":107,"numpad -":109,"numpad .":110,"numpad /":111,"num lock":144,"scroll lock":145,"my computer":182,"my calculator":183,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},i=e.aliases={windows:91,"⇧":16,"⌥":18,"⌃":17,"⌘":91,ctl:17,control:17,option:18,pause:19,break:19,caps:20,return:13,escape:27,spc:32,spacebar:32,pgup:33,pgdn:34,ins:45,del:46,cmd:91};
/*!
 * Programatically add the following
 */
for(o=97;o<123;o++)r[String.fromCharCode(o)]=o-32;for(var o=48;o<58;o++)r[o-48]=o;for(o=1;o<13;o++)r["f"+o]=o+111;for(o=0;o<10;o++)r["numpad "+o]=o+96;var s=e.names=e.title={};for(o in r)s[r[o]]=o;for(var u in i)r[u]=i[u]},function(t,e,n){"use strict";n.r(e);
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function o(t){return"function"==typeof t}var s=!1,u={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;s=t},get useDeprecatedSynchronousErrorHandling(){return s}};function c(t){setTimeout(function(){throw t},0)}var a={closed:!0,next:function(t){},error:function(t){if(u.useDeprecatedSynchronousErrorHandling)throw t;c(t)},complete:function(){}},h=Array.isArray||function(t){return t&&"number"==typeof t.length};function l(t){return null!==t&&"object"==typeof t}function f(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}f.prototype=Object.create(Error.prototype);var p=f,d=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var s=0;s<n.length;++s){n[s].remove(this)}if(o(r))try{r.call(this)}catch(t){e=t instanceof p?v(t.errors):[t]}if(h(i)){s=-1;for(var u=i.length;++s<u;){var c=i[s];if(l(c))try{c.unsubscribe()}catch(t){e=e||[],t instanceof p?e=e.concat(v(t.errors)):e.push(t)}}}if(e)throw new p(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function v(t){return t.reduce(function(t,e){return t.concat(e instanceof p?e.errors:e)},[])}var b="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),y=function(t){function e(n,r,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=a;break;case 1:if(!n){o.destination=a;break}if("object"==typeof n){n instanceof e?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new m(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new m(o,n,r,i)}return o}return i(e,t),e.prototype[b]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(d),m=function(t){function e(e,n,r,i){var s,u=t.call(this)||this;u._parentSubscriber=e;var c=u;return o(n)?s=n:n&&(s=n.next,r=n.error,i=n.complete,n!==a&&(o((c=Object.create(n)).unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=s,u._error=r,u._complete=i,u}return i(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):c(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;c(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),u.useDeprecatedSynchronousErrorHandling)throw t;c(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!u.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return u.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(c(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(y);function w(t){for(;t;){var e=t,n=e.closed,r=e.destination,i=e.isStopped;if(n||i)return!1;t=r&&r instanceof y?r:null}return!0}var g="function"==typeof Symbol&&Symbol.observable||"@@observable";function x(){}function _(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return E(t)}function E(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:x}var S=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof y)return t;if(t[b])return t[b]()}return t||e||n?new y(t,e,n):new y(a)}(t,e,n);if(r?i.add(r.call(i,this.source)):i.add(this.source||u.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),u.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),w(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=I(e))(function(e,r){var i;i=n.subscribe(function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[g]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:E(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=I(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function I(t){if(t||(t=u.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function j(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}j.prototype=Object.create(Error.prototype);var T=j,O=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return i(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(d),k=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return i(e,t),e}(y),C=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return i(e,t),e.prototype[b]=function(){return new k(this)},e.prototype.lift=function(t){var e=new A(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new T;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new T;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new T;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new T;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new T;return this.hasError?(t.error(this.thrownError),d.EMPTY):this.isStopped?(t.complete(),d.EMPTY):(this.observers.push(t),new O(this,t))},e.prototype.asObservable=function(){var t=new S;return t.source=this,t},e.create=function(t,e){return new A(t,e)},e}(S),A=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return i(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):d.EMPTY},e}(C);var N=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new P(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),P=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return i(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(y),G=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return i(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new d).add(this.source.subscribe(new V(this.getSubject(),this))),t.closed&&(this._connection=null,t=d.EMPTY)),t},e.prototype.refCount=function(){return(t=this).lift(new N(t));var t},e}(S),F=G.prototype,V=(F._subscribe,F._isComplete,F.getSubject,F.connect,F.refCount,function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return i(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(k));var M=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.groupSubject=n,i.refCountSubscription=r,i}return i(e,t),e.prototype._subscribe=function(t){var e=new d,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&e.add(new R(n)),e.add(r.subscribe(t)),e},e}(S),R=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,e.count++,n}return i(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(d),Q=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return i(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new T;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(C),D=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return i(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return i(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(d)),Y=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return i(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(D),q=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),L=function(t){function e(n,r){void 0===r&&(r=q.now);var i=t.call(this,n,function(){return e.delegate&&e.delegate!==i?e.delegate.now():r()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return i(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(q),z=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(L))(Y),H=new S(function(t){return t.complete()});function U(t){return t?function(t){return new S(function(e){return t.schedule(function(){return e.complete()})})}(t):H}function K(t){return t&&"function"==typeof t.schedule}var W,B=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};function J(t,e){return new S(function(n){var r=new d,i=0;return r.add(e.schedule(function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()})),r})}function X(t,e){return e?J(t,e):new S(B(t))}function Z(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return K(n)?(t.pop(),J(t,n)):X(t)}function $(t,e){return new S(e?function(n){return e.schedule(tt,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function tt(t){var e=t.error;t.subscriber.error(e)}W||(W={});var et=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return Z(this.value);case"E":return $(this.error);case"C":return U()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();var nt=function(t){function e(e,n,r){void 0===r&&(r=0);var i=t.call(this,e)||this;return i.scheduler=n,i.delay=r,i}return i(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new rt(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(et.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(et.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(et.createComplete()),this.unsubscribe()},e}(y),rt=function(){return function(t,e){this.notification=t,this.destination=e}}(),it=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return i(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new ot(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new T;if(this.isStopped||this.hasError?e=d.EMPTY:(this.observers.push(t),e=new O(this,t)),i&&t.add(t=new nt(t,i)),n)for(var s=0;s<o&&!t.closed;s++)t.next(r[s]);else for(s=0;s<o&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||z).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},e}(C),ot=function(){return function(t,e){this.time=t,this.value=e}}(),st=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return i(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),d.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),d.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(C),ut=1,ct={};var at=function(t){var e=ut++;return ct[e]=t,Promise.resolve().then(function(){return function(t){var e=ct[t];e&&e()}(e)}),e},ht=function(t){delete ct[t]},lt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return i(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=at(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(ht(n),e.scheduled=void 0)},e}(D),ft=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(L))(lt),pt=new L(D),dt=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return i(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)},e}(D),vt=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(L))(dt),bt=function(t){function e(e,n){void 0===e&&(e=yt),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=t.call(this,e,function(){return r.frame})||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return i(e,t),e.prototype.flush=function(){for(var t,e,n=this.actions,r=this.maxFrames;(e=n[0])&&e.delay<=r&&(n.shift(),this.frame=e.delay,!(t=e.execute(e.state,e.delay))););if(t){for(;e=n.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(L),yt=function(t){function e(e,n,r){void 0===r&&(r=e.index+=1);var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i.index=r,i.active=!0,i.index=e.index=r,i}return i(e,t),e.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return t.prototype.schedule.call(this,n,r);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},e.prototype.requestAsyncId=function(t,n,r){void 0===r&&(r=0),this.delay=t.frame+r;var i=t.actions;return i.push(this),i.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,n){void 0===n&&(n=0)},e.prototype._execute=function(e,n){if(!0===this.active)return t.prototype._execute.call(this,e,n)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(D);function mt(t){return t}function wt(t){return!!t&&(t instanceof S||"function"==typeof t.lift&&"function"==typeof t.subscribe)}function gt(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}gt.prototype=Object.create(Error.prototype);var xt=gt;function _t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}_t.prototype=Object.create(Error.prototype);var Et=_t;function St(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}St.prototype=Object.create(Error.prototype);var It=St;function jt(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Tt(t,e))}}var Tt=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Ot(t,this.project,this.thisArg))},t}(),Ot=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return i(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(y);function kt(t,e,n){if(e){if(!K(e))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return kt(t,n).apply(void 0,r).pipe(jt(function(t){return h(t)?e.apply(void 0,t):e(t)}))};n=e}return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i,o=this,s={context:o,subject:i,callbackFunc:t,scheduler:n};return new S(function(r){if(n){var u={args:e,subscriber:r,params:s};return n.schedule(Ct,0,u)}if(!i){i=new st;try{t.apply(o,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.next(t.length<=1?t[0]:t),i.complete()}]))}catch(t){w(i)?i.error(t):console.warn(t)}}return i.subscribe(r)})}}function Ct(t){var e=this,n=t.args,r=t.subscriber,i=t.params,o=i.callbackFunc,s=i.context,u=i.scheduler,c=i.subject;if(!c){c=i.subject=new st;try{o.apply(s,n.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length<=1?t[0]:t;e.add(u.schedule(At,0,{value:r,subject:c}))}]))}catch(t){c.error(t)}}this.add(c.subscribe(r))}function At(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function Nt(t,e,n){if(e){if(!K(e))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return Nt(t,n).apply(void 0,r).pipe(jt(function(t){return h(t)?e.apply(void 0,t):e(t)}))};n=e}return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i={subject:void 0,args:e,callbackFunc:t,scheduler:n,context:this};return new S(function(r){var o=i.context,s=i.subject;if(n)return n.schedule(Pt,0,{params:i,subscriber:r,context:o});if(!s){s=i.subject=new st;try{t.apply(o,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.shift();n?s.error(n):(s.next(t.length<=1?t[0]:t),s.complete())}]))}catch(t){w(s)?s.error(t):console.warn(t)}}return s.subscribe(r)})}}function Pt(t){var e=this,n=t.params,r=t.subscriber,i=t.context,o=n.callbackFunc,s=n.args,u=n.scheduler,c=n.subject;if(!c){c=n.subject=new st;try{o.apply(i,s.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.shift();if(r)e.add(u.schedule(Ft,0,{err:r,subject:c}));else{var i=t.length<=1?t[0]:t;e.add(u.schedule(Gt,0,{value:i,subject:c}))}}]))}catch(t){this.add(u.schedule(Ft,0,{err:t,subject:c}))}}this.add(c.subscribe(r))}function Gt(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function Ft(t){var e=t.err;t.subject.error(e)}var Vt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(y),Mt=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return i(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(y);function Rt(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var Qt=Rt(),Dt=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function Yt(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var qt=function(t){if(t&&"function"==typeof t[g])return r=t,function(t){var e=r[g]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Dt(t))return B(t);if(Yt(t))return n=t,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,c),t};if(t&&"function"==typeof t[Qt])return e=t,function(t){for(var n=e[Qt]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,r,i=l(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+i+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function Lt(t,e,n,r,i){if(void 0===i&&(i=new Mt(t,n,r)),!i.closed)return e instanceof S?e.subscribe(i):qt(e)(i)}var zt={};function Ht(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return K(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&h(t[0])&&(t=t[0]),X(t,r).lift(new Ut(n))}var Ut=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Kt(t,this.resultSelector))},t}(),Kt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return i(e,t),e.prototype._next=function(t){this.values.push(zt),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Lt(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,s=o[n],u=this.toRespond?s===zt?--this.toRespond:this.toRespond:0;o[n]=e,0===u&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(Vt);function Wt(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[g]}(t))return function(t,e){return new S(function(n){var r=new d;return r.add(e.schedule(function(){var i=t[g]();r.add(i.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r})}(t,e);if(Yt(t))return function(t,e){return new S(function(n){var r=new d;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r})}(t,e);if(Dt(t))return J(t,e);if(function(t){return t&&"function"==typeof t[Qt]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new S(function(n){var r,i=new d;return i.add(function(){r&&"function"==typeof r.return&&r.return()}),i.add(e.schedule(function(){r=t[Qt](),i.add(e.schedule(function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}}))})),i})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function Bt(t,e){return e?Wt(t,e):t instanceof S?t:new S(qt(t))}var Jt=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new Xt(t,this.project,this.concurrent))},t}(),Xt=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new Mt(this,void 0,void 0);this.destination.add(r),Lt(this,t,e,n,r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(Vt);function Zt(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),function t(e,n,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof n?function(i){return i.pipe(t(function(t,r){return Bt(e(t,r)).pipe(jt(function(e,i){return n(t,e,r,i)}))},r))}:("number"==typeof n&&(r=n),function(t){return t.lift(new Jt(e,r))})}(mt,t)}function $t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Zt(1)(Z.apply(void 0,t))}function te(t){return new S(function(e){var n;try{n=t()}catch(t){return void e.error(t)}return(n?Bt(n):U()).subscribe(e)})}function ee(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){var n=t[0];if(h(n))return ne(n,null);if(l(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return ne(r.map(function(t){return n[t]}),r)}}if("function"==typeof t[t.length-1]){var i=t.pop();return ne(t=1===t.length&&h(t[0])?t[0]:t,null).pipe(jt(function(t){return i.apply(void 0,t)}))}return ne(t,null)}function ne(t,e){return new S(function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,s=0,u=function(u){var c=Bt(t[u]),a=!1;n.add(c.subscribe({next:function(t){a||(a=!0,s++),i[u]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&a||(s===r&&n.next(e?e.reduce(function(t,e,n){return t[e]=i[n],t},{}):i),n.complete())}}))},c=0;c<r;c++)u(c);else n.complete()})}Object.prototype.toString;function re(t,e,n,r){return o(n)&&(r=n,n=void 0),r?re(t,e,n).pipe(jt(function(t){return h(t)?r.apply(void 0,t):r(t)})):new S(function(r){!function t(e,n,r,i,o){var s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var u=e;e.addEventListener(n,r,o),s=function(){return u.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var c=e;e.on(n,r),s=function(){return c.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var a=e;e.addListener(n,r),s=function(){return a.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var h=0,l=e.length;h<l;h++)t(e[h],n,r,i,o)}i.add(s)}(t,e,function(t){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(t)},r,n)})}function ie(t,e,n){return n?ie(t,e).pipe(jt(function(t){return h(t)?n.apply(void 0,t):n(t)})):new S(function(n){var r,i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.next(1===t.length?t[0]:t)};try{r=t(i)}catch(t){return void n.error(t)}if(o(e))return function(){return e(i,r)}})}function oe(t,e,n,r,i){var o,s;if(1==arguments.length){var u=t;s=u.initialState,e=u.condition,n=u.iterate,o=u.resultSelector||mt,i=u.scheduler}else void 0===r||K(r)?(s=t,o=mt,i=r):(s=t,o=r);return new S(function(t){var r=s;if(i)return i.schedule(se,0,{subscriber:t,iterate:n,condition:e,resultSelector:o,state:r});for(;;){if(e){var u=void 0;try{u=e(r)}catch(e){return void t.error(e)}if(!u){t.complete();break}}var c=void 0;try{c=o(r)}catch(e){return void t.error(e)}if(t.next(c),t.closed)break;try{r=n(r)}catch(e){return void t.error(e)}}})}function se(t){var e=t.subscriber,n=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(n){var r=void 0;try{r=n(t.state)}catch(t){return void e.error(t)}if(!r)return void e.complete();if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function ue(t,e,n){return void 0===e&&(e=H),void 0===n&&(n=H),te(function(){return t()?e:n})}function ce(t){return!h(t)&&t-parseFloat(t)+1>=0}function ae(t,e){return void 0===t&&(t=0),void 0===e&&(e=pt),(!ce(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=pt),new S(function(n){return n.add(e.schedule(he,t,{subscriber:n,counter:0,period:t})),n})}function he(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}function le(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,i=t[t.length-1];return K(i)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof i&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof S?t[0]:Zt(n)(X(t,r))}var fe=new S(x);function pe(){return fe}function de(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return H;var n=t[0],r=t.slice(1);return 1===t.length&&h(n)?de.apply(void 0,n):new S(function(t){var e=function(){return t.add(de.apply(void 0,r).subscribe(t))};return Bt(n).subscribe({next:function(e){t.next(e)},error:e,complete:e})})}function ve(t,e){return new S(e?function(n){var r=Object.keys(t),i=new d;return i.add(e.schedule(be,0,{keys:r,index:0,subscriber:n,subscription:i,obj:t})),i}:function(e){for(var n=Object.keys(t),r=0;r<n.length&&!e.closed;r++){var i=n[r];t.hasOwnProperty(i)&&e.next([i,t[i]])}e.complete()})}function be(t){var e=t.keys,n=t.index,r=t.subscriber,i=t.subscription,o=t.obj;if(!r.closed)if(n<e.length){var s=e[n];r.next([s,o[s]]),i.add(this.schedule({keys:e,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}function ye(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}function me(t,e){return function(n){return n.lift(new we(t,e))}}var we=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new ge(t,this.predicate,this.thisArg))},t}(),ge=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return i(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(y);function xe(t,e,n){return[me(e,n)(new S(qt(t))),me(ye(e,n))(new S(qt(t)))]}function _e(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!h(t[0]))return t[0];t=t[0]}return X(t,void 0).lift(new Ee)}var Ee=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Se(t))},t}(),Se=function(t){function e(e){var n=t.call(this,e)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return i(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=t[n],i=Lt(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)},e}(Vt);function Ie(t,e,n){return void 0===t&&(t=0),new S(function(r){void 0===e&&(e=t,t=0);var i=0,o=t;if(n)return n.schedule(je,0,{index:i,count:e,start:t,subscriber:r});for(;;){if(i++>=e){r.complete();break}if(r.next(o++),r.closed)break}})}function je(t){var e=t.start,n=t.index,r=t.count,i=t.subscriber;n>=r?i.complete():(i.next(e),i.closed||(t.index=n+1,t.start=e+1,this.schedule(t)))}function Te(t,e,n){void 0===t&&(t=0);var r=-1;return ce(e)?r=Number(e)<1?1:Number(e):K(e)&&(n=e),K(n)||(n=pt),new S(function(e){var i=ce(t)?t:+t-n.now();return n.schedule(Oe,i,{index:0,period:r,subscriber:e})})}function Oe(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function ke(t,e){return new S(function(n){var r,i;try{r=t()}catch(t){return void n.error(t)}try{i=e(r)}catch(t){return void n.error(t)}var o=(i?Bt(i):H).subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}})}function Ce(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),X(t,void 0).lift(new Ae(n))}var Ae=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new Ne(t,this.resultSelector))},t}(),Ne=function(t){function e(e,n,r){void 0===r&&(r=Object.create(null));var i=t.call(this,e)||this;return i.iterators=[],i.active=0,i.resultSelector="function"==typeof n?n:null,i.values=r,i}return i(e,t),e.prototype._next=function(t){var e=this.iterators;h(t)?e.push(new Ge(t)):"function"==typeof t[Qt]?e.push(new Pe(t[Qt]())):e.push(new Fe(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];if(r.stillUnsubscribed)this.destination.add(r.subscribe(r,n));else this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){if("function"==typeof(s=t[r]).hasValue&&!s.hasValue())return}var i=!1,o=[];for(r=0;r<e;r++){var s,u=(s=t[r]).next();if(s.hasCompleted()&&(i=!0),u.done)return void n.complete();o.push(u.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(y),Pe=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),Ge=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[Qt]=function(){return this},t.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),Fe=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return i(e,t),e.prototype[Qt]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return Lt(this,this.observable,this,e)},e}(Vt);n.d(e,"Observable",function(){return S}),n.d(e,"ConnectableObservable",function(){return G}),n.d(e,"GroupedObservable",function(){return M}),n.d(e,"observable",function(){return g}),n.d(e,"Subject",function(){return C}),n.d(e,"BehaviorSubject",function(){return Q}),n.d(e,"ReplaySubject",function(){return it}),n.d(e,"AsyncSubject",function(){return st}),n.d(e,"asapScheduler",function(){return ft}),n.d(e,"asyncScheduler",function(){return pt}),n.d(e,"queueScheduler",function(){return z}),n.d(e,"animationFrameScheduler",function(){return vt}),n.d(e,"VirtualTimeScheduler",function(){return bt}),n.d(e,"VirtualAction",function(){return yt}),n.d(e,"Scheduler",function(){return q}),n.d(e,"Subscription",function(){return d}),n.d(e,"Subscriber",function(){return y}),n.d(e,"Notification",function(){return et}),n.d(e,"NotificationKind",function(){return W}),n.d(e,"pipe",function(){return _}),n.d(e,"noop",function(){return x}),n.d(e,"identity",function(){return mt}),n.d(e,"isObservable",function(){return wt}),n.d(e,"ArgumentOutOfRangeError",function(){return xt}),n.d(e,"EmptyError",function(){return Et}),n.d(e,"ObjectUnsubscribedError",function(){return T}),n.d(e,"UnsubscriptionError",function(){return p}),n.d(e,"TimeoutError",function(){return It}),n.d(e,"bindCallback",function(){return kt}),n.d(e,"bindNodeCallback",function(){return Nt}),n.d(e,"combineLatest",function(){return Ht}),n.d(e,"concat",function(){return $t}),n.d(e,"defer",function(){return te}),n.d(e,"empty",function(){return U}),n.d(e,"forkJoin",function(){return ee}),n.d(e,"from",function(){return Bt}),n.d(e,"fromEvent",function(){return re}),n.d(e,"fromEventPattern",function(){return ie}),n.d(e,"generate",function(){return oe}),n.d(e,"iif",function(){return ue}),n.d(e,"interval",function(){return ae}),n.d(e,"merge",function(){return le}),n.d(e,"never",function(){return pe}),n.d(e,"of",function(){return Z}),n.d(e,"onErrorResumeNext",function(){return de}),n.d(e,"pairs",function(){return ve}),n.d(e,"partition",function(){return xe}),n.d(e,"race",function(){return _e}),n.d(e,"range",function(){return Ie}),n.d(e,"throwError",function(){return $}),n.d(e,"timer",function(){return Te}),n.d(e,"using",function(){return ke}),n.d(e,"zip",function(){return Ce}),n.d(e,"scheduled",function(){return Wt}),n.d(e,"EMPTY",function(){return H}),n.d(e,"NEVER",function(){return fe}),n.d(e,"config",function(){return u})},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){s(t,e,n[e])})}return t}function c(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.r(e);var a={groupEvents:!1,changeDetection:"manual"},h={id:0,components:{}};function l(t){if("*"===t)return!0;for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var s=o[i];if(t.includes(s))return!0}return!1}function f(t,e){arguments.length>2&&void 0!==arguments[2]&&arguments[2]&&(t.sort(),e.sort());for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function p(t,e){var n,r=[],i=!0,o=!1,s=void 0;try{for(var u,a=e.inputsFrom[Symbol.iterator]();!(i=(u=a.next()).done);i=!0){var h=u.value,l=t.QueryGraph[h];l.acceptsInputs?r.push.apply(r,c(p(t,l))):r.push(h)}}catch(t){o=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(o)throw s}}return n=r,Array.from(new Set(n).values())}var d=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r(this,t),s(this,"eventQueue",{addEntity:[],removeEntity:[],addComponents:[],updateComponents:[]}),s(this,"addedResolver",!1),s(this,"activeResolvers",[]),s(this,"lastId",0),s(this,"options",void 0),s(this,"entities",{}),s(this,"entitiesToGraphInputTable",{}),s(this,"QueryGraph",{}),s(this,"GraphInputs",[]);var n=u({},a,e);this.options=n}return o(t,[{key:"addEntity",value:function(){var t=this.lastId++;return this.pushEventToQueue("addEntity",u({},h,{id:t})),t}},{key:"resolve",value:function(){for(var t in this.activeResolvers=[],this.addedResolver=!1,this.eventQueue){var e=t;this.handleEvent.apply(this,[e].concat(c(this.eventQueue[e]))),this.eventQueue[e]=[]}return this}},{key:"pushEventToQueue",value:function(t){for(var e,n=this,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];if((e=this.eventQueue[t]).push.apply(e,i),this.options.groupEvents){if(!this.addedResolver){var s=this.lastId++;this.activeResolvers.push(s),this.addedResolver=!0,Promise.resolve().then(function(){n.activeResolvers.includes(s)&&n.resolve()})}}else this.resolve();return this}},{key:"updateComplexNode",value:function(t,e){var n=this.QueryGraph[e];if(n&&n.acceptsInputs){var r=!0,i=!0,o=!1,s=void 0;try{for(var u,c=n.inputsFrom[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var a=u.value,h=this.QueryGraph[a];if(h&&!h.snapshot.has(t)){n.snapshot.delete(t),r=!1;break}}}catch(t){o=!0,s=t}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}r&&n.snapshot.add(t)}return this}},{key:"updateInputNode",value:function(t){for(var e=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=this.entitiesToGraphInputTable[t];if(o){var s=new Set;Array.from(o.values()).map(function(t){return e.QueryGraph[t]}).forEach(function(e){var n=!1,i=!0,o=!1,u=void 0;try{for(var c,a=e.filters[Symbol.iterator]();!(i=(c=a.next()).done);i=!0){var h=c.value;if(l.apply(void 0,[h.caresAbout].concat(r))){var f=h.test(t);f!==h.lastValues[t]&&(h.lastValues[t]=f,n=!0)}}}catch(t){o=!0,u=t}finally{try{i||null==a.return||a.return()}finally{if(o)throw u}}if(n){var p=e.snapshot.size;if(e.filters.find(function(e){return!1===e.lastValues[t]})?e.snapshot.delete(t):e.snapshot.add(t),e.snapshot.size!==p){var d=!0,v=!1,b=void 0;try{for(var y,m=e.outputsTo[Symbol.iterator]();!(d=(y=m.next()).done);d=!0){var w=y.value;s.add(w)}}catch(t){v=!0,b=t}finally{try{d||null==m.return||m.return()}finally{if(v)throw b}}}}}),s.size&&s.forEach(function(n){e.updateComplexNode(t,n)})}return this}},{key:"afterAddingComponent",value:function(t){for(var e=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var o=this.entitiesToGraphInputTable[t];if(!o){var s=new Set;this.entitiesToGraphInputTable[t]=s,o=s}return this.GraphInputs.filter(function(t){return!o.has(t)}).map(function(t){return e.QueryGraph[t]}).forEach(function(t){l.apply(void 0,[t.dependencies].concat(r))&&o.add(t.id)}),this.updateInputNode.apply(this,[t].concat(r))}},{key:"handleEvent",value:function(t){for(var e=this,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];switch(t){case"addEntity":r.forEach(function(t){e.entities[t.id]=t;var n=Object.keys(t.components);n.length&&e.afterAddingComponent.apply(e,[t.id].concat(c(n)))});break;case"addComponents":r.forEach(function(t){e.entities[t.id].components=u({},e.entities[t.id].components,t.components);var n=Object.keys(t.components);n.length&&e.afterAddingComponent.apply(e,[t.id].concat(c(n)))});break;case"updateComponents":r.forEach(function(t){var n=Object.keys(t.components);n.length&&e.updateInputNode.apply(e,[t.id].concat(c(n)))})}return this}},{key:"addComponentTo",value:function(t,e){return this.pushEventToQueue("addComponents",{id:t,components:e}),this}},{key:"addInputNodeToQueryGraph",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.map(function(t){return t.name}),i=!0,o=!1,s=void 0;try{for(var u,a=this.GraphInputs[Symbol.iterator]();!(i=(u=a.next()).done);i=!0){var h=u.value;if(f(this.QueryGraph[h].filters.map(function(t){return t.name}),r))return h}}catch(t){o=!0,s=t}finally{try{i||null==a.return||a.return()}finally{if(o)throw s}}var l=this.lastId++,p=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=e.map(function(t){return t.caresAbout}),i="*";return r.includes("*")||(i=Array.from(new Set(r.reduce(function(t,e){return[].concat(c(t),c(e))})).values())),i}.apply(void 0,e);return this.QueryGraph[l]={id:l,dependencies:p,outputsTo:[],inputsFrom:[],acceptsInputs:!1,snapshot:new Set,filters:e},this.GraphInputs.push(l),l}},{key:"addComplexNode",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var i=p(this,{inputsFrom:n}),o=0,s=Object.values(this.QueryGraph);o<s.length;o++){var u=s[o];if(u.acceptsInputs&&f(i,p(this,{inputsFrom:this.QueryGraph[u.id].inputsFrom}),!0))return u.id}var c=this.lastId++,a={};n.map(function(e){return t.QueryGraph[e]}).forEach(function(t){t.outputsTo.push(c);var e=!0,n=!1,r=void 0;try{for(var i,o=t.snapshot[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var s=i.value;a[s]?a[s]++:a[s]=1}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}});var h=Object.keys(a).filter(function(t){return a[t]===n.length}).map(function(t){return t});return this.QueryGraph[c]={dependencies:[],id:c,outputsTo:[],inputsFrom:n,acceptsInputs:!0,snapshot:new Set(h),filters:[]},c}},{key:"has",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.addInputNodeToQueryGraph.apply(this,c(n.map(function(e){return{name:"has(".concat(e,")"),test:function(n){return!t.entities[n].components[e]},caresAbout:[e],lastValues:{}}}))),this}}]),t}(),v=function(){function t(e,n){r(this,t),s(this,"ecsGraph",void 0),s(this,"node",void 0),this.ecsGraph=e,this.node=n}return o(t,[{key:"snapshot",value:function(){var t=[],e=!0,n=!1,r=void 0;try{for(var i,o=this.node.snapshot.values()[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var s=i.value;t.push(this.ecsGraph.entities[s])}}catch(t){n=!0,r=t}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}return t}},{key:"each",value:function(t){var e=this;this.snapshot().forEach(function(n){var r=t(n.components);if("manual"===e.ecsGraph.options.changeDetection&&void 0!==r){var i=[];r instanceof Array&&r.length?i=r:"string"==typeof r&&"*"!==r?i=[r]:"*"!==r&&!0!==r||(i=Object.keys(n.components));var o={};i.forEach(function(t){o[t]=!0}),e.ecsGraph.pushEventToQueue("updateComponents",{id:n.id,components:o})}})}}]),t}(),b=function(){function t(e,n){r(this,t),s(this,"ecsGraph",void 0),s(this,"parent",void 0),s(this,"components",void 0),s(this,"snapshot",void 0),this.ecsGraph=e,this.parent=n,this.parent?this.snapshot=this.parent.snapshot:this.snapshot=new Set}return o(t,[{key:"flag",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return this.pipe.apply(this,[{name:function(t){return"flag(".concat(t,")")},test:function(t,e){return function(n){var r=t.entities[n];return!!r&&!!r.components[e]}}}].concat(e))}},{key:"pipe",value:function(e){for(var n=this,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var s=i.map(function(t){return n.ecsGraph.addInputNodeToQueryGraph({name:e.name(t),test:e.test(n.ecsGraph,t),caresAbout:[t],lastValues:{}})});if(this.parent&&!s.includes(this.parent.id)&&s.push(this.parent.id),1===s.length)return new t(this.ecsGraph,this.ecsGraph.QueryGraph[s[0]]);if(s.length>1){var u=this.ecsGraph.addComplexNode(s[0],s[1]),a=new t(this.ecsGraph,this.ecsGraph.QueryGraph[u]);return 2===s.length?a:a.flag.apply(a,c(i.slice(2)))}return this}},{key:"get",value:function(){if(!this.parent)throw new Error("Cannot get component on query node with no parent");return this.components?this.components:(this.components=new v(this.ecsGraph,this.parent),this.components)}}]),t}(),y=function(){function t(e){r(this,t),s(this,"ecsGraph",void 0),s(this,"all",void 0),this.ecsGraph=new d(e),this.all=new b(this.ecsGraph)}return o(t,[{key:"addEntity",value:function(t){var e=this.ecsGraph.addEntity();return this.ecsGraph.addComponentTo(e,t),e}}]),t}(),m=n(0),w=n(1),g=n.n(w);const x=[new m.KeyboardInput("down","s"),new m.KeyboardInput("right","d"),new m.KeyboardInput("up","w","space"),new m.KeyboardInput("left","a")],_=document.getElementById("canvas"),E=_.getContext("2d"),S=[window.innerWidth,window.innerHeight],I=[0,.005],j=.85,T={none:"blue",fall:"black",up:"green",down:"red",wall:"yellow"};_.width=S[0],_.height=S[1];const O=new y({groupEvents:!1,changeDetection:"manual"});g.a.setDraw((()=>{const t=O.all.flag("renderable").get();return()=>{E.clearRect(0,0,1e4,1e4),t.each(t=>(E.fillStyle=t.color,E.fillRect(t.position[0],t.position[1],t.size[0],t.size[1]),!1))}})()).setUpdate((()=>{const t=O.all.flag("rigidbody").get();let e=0;return x[2].valueChanges.subscribe(t=>{t&&e++}),new m.KeyboardInput("q").valueChanges.subscribe(e=>{e&&t.each(t=>(t.renderable=!1,"renderable"))}),n=>{const r=n*j;t.each(t=>(t.speed=t.speed.map((e,n)=>{let i="none";return(t.position[0]<10||t.position[0]+t.size[0]>S[0]-10)&&t.speed[1]>0?i="wall":x[0].value&&t.speed[n]>0?i="down":x[2].value&&t.speed[n]<0?i="up":t.speed[n]>0&&(i="fall"),t.state=i,t.color=T[i],e+I[n]*t.gravityMultiplyer[i]*r}),t.position=t.position.map((n,i)=>{let o=n+r*t.speed[i],s=!1,u=0;if(o<0?(s=!0,u=-1,o=0):o+t.size[i]>S[i]&&(s=!0,u=1,o=S[i]-t.size[i]),t.collisionDirections[i]=u,s===t.collided[i]&&0!==i||(t.collided[i]=s,s&&1===i&&(t.landed=performance.now())),s&&(t.speed[i]=0,1===i&&x[2].value&&s&&1===u&&performance.now()-t.landed>t.jumpOffset&&0!==e&&(t.speed[i]=t.jumpForce,e=0)),1===i&&x[2].value&&"wall"===t.state&&0!==e){let n=-1;t.position[0]>10&&(n=1),t.speed[1]=t.jumpForce/1.3,t.speed[0]=n*t.jumpForce/3,t.hitTheSide=performance.now(),e=0}if(0===i&&performance.now()-t.hitTheSide>t.wallJumpOffest){let e=Number(x[1].value)-Number(x[3].value),n="ground";t.collided[1]||(n="air"),e!==u&&(t.speed[i]=t.sideWaysForce[n]*e),0===e&&"ground"===n&&(t.speed[i]=0)}return o}),["position","speed","landed","collided","color"]))}})()).start();const k={position:[100,100],size:[50,50],color:"blue",renderable:!0,rigidbody:!0,speed:[0,0],jumpForce:-1.5,sideWaysForce:{ground:.75,air:.45},collided:[!1,!1],collisionDirections:[0,0],landed:performance.now(),jumpOffset:200,gravityMultiplyer:{up:.5,fall:1.5,down:3,none:1,wall:.1},wallJumpOffest:500,hitTheSide:performance.now(),state:"none"};O.addEntity(k)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BlaXgvaW5wdXQvZGlzdC9tYWluLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tYWlubG9vcC5qcy9idWlsZC9tYWlubG9vcC5taW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BlaXgvaW5wdXQvZGlzdC9rZXlib2FyZC9LZXlib2FyZElucHV0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9rZXljb2RlL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc0Z1bmN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL2NvbmZpZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2hvc3RSZXBvcnRFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9PYnNlcnZlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc09iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvU3Vic2NyaXB0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3N5bWJvbC9yeFN1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2NhblJlcG9ydEVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3N5bWJvbC9vYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvbm9vcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3BpcGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3RvU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL09iamVjdFVuc3Vic2NyaWJlZEVycm9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL1N1YmplY3RTdWJzY3JpcHRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvU3ViamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvcmVmQ291bnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9Db25uZWN0YWJsZU9ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL2dyb3VwQnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvQmVoYXZpb3JTdWJqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9Bc3luY0FjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9RdWV1ZUFjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9TY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL0FzeW5jU2NoZWR1bGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9xdWV1ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvUXVldWVTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9lbXB0eS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzU2NoZWR1bGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG9BcnJheS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9Ob3RpZmljYXRpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9vZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL3Rocm93RXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL29ic2VydmVPbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9SZXBsYXlTdWJqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL0FzeW5jU3ViamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL0ltbWVkaWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQXNhcEFjdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvYXNhcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQXNhcFNjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvYXN5bmMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL0FuaW1hdGlvbkZyYW1lQWN0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlci9hbmltYXRpb25GcmFtZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL1ZpcnR1YWxUaW1lU2NoZWR1bGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaWRlbnRpdHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc09ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9Bcmd1bWVudE91dE9mUmFuZ2VFcnJvci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL0VtcHR5RXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9UaW1lb3V0RXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL21hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2JpbmRDYWxsYmFjay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2JpbmROb2RlQ2FsbGJhY2suanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvT3V0ZXJTdWJzY3JpYmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL0lubmVyU3Vic2NyaWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zeW1ib2wvaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc0FycmF5TGlrZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL2lzUHJvbWlzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3N1YnNjcmliZVRvLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG9PYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG9Qcm9taXNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvc3Vic2NyaWJlVG9JdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL3N1YnNjcmliZVRvUmVzdWx0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvY29tYmluZUxhdGVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVPYnNlcnZhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZVByb21pc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvdXRpbC9pc0l0ZXJhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZUl0ZXJhYmxlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VNYXAuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL21lcmdlQWxsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvY29uY2F0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29wZXJhdG9ycy9jb25jYXRBbGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9kZWZlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2ZvcmtKb2luLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbUV2ZW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvZnJvbUV2ZW50UGF0dGVybi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2dlbmVyYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvaWlmLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL3V0aWwvaXNOdW1lcmljLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvaW50ZXJ2YWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9tZXJnZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL25ldmVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvb25FcnJvclJlc3VtZU5leHQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9wYWlycy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC91dGlsL25vdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvZmlsdGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvcGFydGl0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvcmFjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL3JhbmdlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvdGltZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS91c2luZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL3ppcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vQzovVXNlcnMvbGFyeW0vcmVwb3MvQGVpeC9jb3JlL2Rpc3QvYnVuZGxlLmVzbS5qcyIsIndlYnBhY2s6Ly8vLi9pbmRleC50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIktleWJvYXJkSW5wdXRfMSIsIktleWJvYXJkSW5wdXQiLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9GQUNUT1JZX18iLCJfX1dFQlBBQ0tfQU1EX0RFRklORV9SRVNVTFRfXyIsImEiLCJiIiwieCIsInEiLCJlIiwiaCIsImYiLCJnIiwiaiIsImsiLCJ1IiwidiIsInciLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJEYXRlIiwibm93IiwiTWF0aCIsIm1heCIsInNldFRpbWVvdXQiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImNsZWFyVGltZW91dCIsIk1haW5Mb29wIiwiZ2V0U2ltdWxhdGlvblRpbWVzdGVwIiwic2V0U2ltdWxhdGlvblRpbWVzdGVwIiwidGhpcyIsImdldEZQUyIsImdldE1heEFsbG93ZWRGUFMiLCJzZXRNYXhBbGxvd2VkRlBTIiwic3RvcCIsInJlc2V0RnJhbWVEZWx0YSIsInNldEJlZ2luIiwic2V0VXBkYXRlIiwic2V0RHJhdyIsInNldEVuZCIsInN0YXJ0IiwiaXNSdW5uaW5nIiwidW5kZWZpbmVkIiwicnhqc18xIiwia2V5Y29kZSIsIltvYmplY3QgT2JqZWN0XSIsInBhcmFtcyIsInByZXNzZWQiLCJ2YWx1ZUNoYW5nZXMiLCJTdWJqZWN0Iiwic3Vic2NyaXB0aW9uIiwia2V5cyIsInB1c2giLCJmcm9tRXZlbnQiLCJkb2N1bWVudCIsInN1YnNjcmliZSIsImxhc3QiLCJsZW5ndGgiLCJpbmRleE9mIiwibmV4dCIsInNwbGljZSIsImZvckVhY2giLCJ1bnN1YnNjcmliZSIsImNvbXBsZXRlIiwia2V5Q29kZSIsInNlYXJjaElucHV0IiwiaGFzS2V5Q29kZSIsIndoaWNoIiwiY2hhckNvZGUiLCJuYW1lcyIsImZvdW5kTmFtZWRLZXkiLCJzZWFyY2giLCJTdHJpbmciLCJjb2RlcyIsInRvTG93ZXJDYXNlIiwiYWxpYXNlcyIsImNoYXJDb2RlQXQiLCJpc0V2ZW50S2V5IiwiZXZlbnQiLCJuYW1lT3JDb2RlIiwiY29kZSIsImJhY2tzcGFjZSIsInRhYiIsImVudGVyIiwic2hpZnQiLCJjdHJsIiwiYWx0IiwicGF1c2UvYnJlYWsiLCJjYXBzIGxvY2siLCJlc2MiLCJzcGFjZSIsInBhZ2UgdXAiLCJwYWdlIGRvd24iLCJlbmQiLCJob21lIiwibGVmdCIsInVwIiwicmlnaHQiLCJkb3duIiwiaW5zZXJ0IiwiZGVsZXRlIiwiY29tbWFuZCIsImxlZnQgY29tbWFuZCIsInJpZ2h0IGNvbW1hbmQiLCJudW1wYWQgKiIsIm51bXBhZCArIiwibnVtcGFkIC0iLCJudW1wYWQgLiIsIm51bXBhZCAvIiwibnVtIGxvY2siLCJzY3JvbGwgbG9jayIsIm15IGNvbXB1dGVyIiwibXkgY2FsY3VsYXRvciIsIjsiLCI9IiwiLCIsIi0iLCIuIiwiLyIsImAiLCJbIiwiXFwiLCJdIiwiJyIsIndpbmRvd3MiLCLih6ciLCLijKUiLCLijIMiLCLijJgiLCJjdGwiLCJjb250cm9sIiwib3B0aW9uIiwicGF1c2UiLCJicmVhayIsImNhcHMiLCJyZXR1cm4iLCJlc2NhcGUiLCJzcGMiLCJzcGFjZWJhciIsInBndXAiLCJwZ2RuIiwiaW5zIiwiZGVsIiwiY21kIiwiZnJvbUNoYXJDb2RlIiwidGl0bGUiLCJhbGlhcyIsImV4dGVuZFN0YXRpY3MiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwiX19leHRlbmRzIiwiX18iLCJjb25zdHJ1Y3RvciIsImlzRnVuY3Rpb24iLCJfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MiLCJjb25maWciLCJQcm9taXNlIiwidXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyIsIkVycm9yIiwic3RhY2siLCJob3N0UmVwb3J0RXJyb3IiLCJlcnIiLCJlbXB0eSIsImNsb3NlZCIsImVycm9yIiwiaXNBcnJheSIsImlzT2JqZWN0IiwiVW5zdWJzY3JpcHRpb25FcnJvckltcGwiLCJlcnJvcnMiLCJtZXNzYWdlIiwibWFwIiwidG9TdHJpbmciLCJqb2luIiwiVW5zdWJzY3JpcHRpb25FcnJvciIsIlN1YnNjcmlwdGlvbl9TdWJzY3JpcHRpb24iLCJTdWJzY3JpcHRpb24iLCJfcGFyZW50T3JQYXJlbnRzIiwiX3N1YnNjcmlwdGlvbnMiLCJfdW5zdWJzY3JpYmUiLCJyZW1vdmUiLCJpbmRleCIsImZsYXR0ZW5VbnN1YnNjcmlwdGlvbkVycm9ycyIsImxlbiIsInN1YiIsImNvbmNhdCIsImFkZCIsInRlYXJkb3duIiwiRU1QVFkiLCJ0bXAiLCJzdWJzY3JpcHRpb25zIiwic3Vic2NyaXB0aW9uSW5kZXgiLCJyZWR1Y2UiLCJlcnJzIiwicnhTdWJzY3JpYmVyIiwicmFuZG9tIiwiU3Vic2NyaWJlcl9TdWJzY3JpYmVyIiwiX3N1cGVyIiwiU3Vic2NyaWJlciIsImRlc3RpbmF0aW9uT3JOZXh0IiwiX3RoaXMiLCJzeW5jRXJyb3JWYWx1ZSIsInN5bmNFcnJvclRocm93biIsInN5bmNFcnJvclRocm93YWJsZSIsImlzU3RvcHBlZCIsImFyZ3VtZW50cyIsImRlc3RpbmF0aW9uIiwiU3Vic2NyaWJlcl9TYWZlU3Vic2NyaWJlciIsInN1YnNjcmliZXIiLCJfbmV4dCIsIl9lcnJvciIsIl9jb21wbGV0ZSIsIl91bnN1YnNjcmliZUFuZFJlY3ljbGUiLCJTYWZlU3Vic2NyaWJlciIsIl9wYXJlbnRTdWJzY3JpYmVyIiwib2JzZXJ2ZXJPck5leHQiLCJjb250ZXh0IiwiX2NvbnRleHQiLCJfX3RyeU9yU2V0RXJyb3IiLCJfX3RyeU9yVW5zdWIiLCJ3cmFwcGVkQ29tcGxldGUiLCJmbiIsInBhcmVudCIsImNhblJlcG9ydEVycm9yIiwib2JzZXJ2ZXIiLCJfYSIsImNsb3NlZF8xIiwib2JzZXJ2YWJsZV9vYnNlcnZhYmxlIiwib2JzZXJ2YWJsZSIsIm5vb3AiLCJwaXBlIiwiZm5zIiwiX2kiLCJwaXBlRnJvbUFycmF5IiwiaW5wdXQiLCJwcmV2IiwiT2JzZXJ2YWJsZV9PYnNlcnZhYmxlIiwiT2JzZXJ2YWJsZSIsIl9pc1NjYWxhciIsIl9zdWJzY3JpYmUiLCJsaWZ0Iiwib3BlcmF0b3IiLCJzb3VyY2UiLCJzaW5rIiwibmV4dE9yT2JzZXJ2ZXIiLCJ0b1N1YnNjcmliZXIiLCJfdHJ5U3Vic2NyaWJlIiwiY29uc29sZSIsIndhcm4iLCJwcm9taXNlQ3RvciIsImdldFByb21pc2VDdG9yIiwicmVzb2x2ZSIsInJlamVjdCIsIm9wZXJhdGlvbnMiLCJ0b1Byb21pc2UiLCJPYmplY3RVbnN1YnNjcmliZWRFcnJvckltcGwiLCJPYmplY3RVbnN1YnNjcmliZWRFcnJvciIsIlN1YmplY3RTdWJzY3JpcHRpb25fU3ViamVjdFN1YnNjcmlwdGlvbiIsIlN1YmplY3RTdWJzY3JpcHRpb24iLCJzdWJqZWN0Iiwib2JzZXJ2ZXJzIiwic3Vic2NyaWJlckluZGV4IiwiU3ViamVjdF9TdWJqZWN0U3Vic2NyaWJlciIsIlN1YmplY3RTdWJzY3JpYmVyIiwiU3ViamVjdF9TdWJqZWN0IiwiaGFzRXJyb3IiLCJ0aHJvd25FcnJvciIsIlN1YmplY3RfQW5vbnltb3VzU3ViamVjdCIsImNvcHkiLCJzbGljZSIsImFzT2JzZXJ2YWJsZSIsIkFub255bW91c1N1YmplY3QiLCJSZWZDb3VudE9wZXJhdG9yIiwiY29ubmVjdGFibGUiLCJfcmVmQ291bnQiLCJyZWZDb3VudGVyIiwicmVmQ291bnRfUmVmQ291bnRTdWJzY3JpYmVyIiwiY29ubmVjdGlvbiIsImNvbm5lY3QiLCJSZWZDb3VudFN1YnNjcmliZXIiLCJyZWZDb3VudCIsInNoYXJlZENvbm5lY3Rpb24iLCJfY29ubmVjdGlvbiIsIkNvbm5lY3RhYmxlT2JzZXJ2YWJsZV9Db25uZWN0YWJsZU9ic2VydmFibGUiLCJDb25uZWN0YWJsZU9ic2VydmFibGUiLCJzdWJqZWN0RmFjdG9yeSIsIl9pc0NvbXBsZXRlIiwiZ2V0U3ViamVjdCIsIl9zdWJqZWN0IiwiQ29ubmVjdGFibGVPYnNlcnZhYmxlX0Nvbm5lY3RhYmxlU3Vic2NyaWJlciIsImNvbm5lY3RhYmxlUHJvdG8iLCJDb25uZWN0YWJsZVN1YnNjcmliZXIiLCJncm91cEJ5X0dyb3VwZWRPYnNlcnZhYmxlIiwiR3JvdXBlZE9ic2VydmFibGUiLCJncm91cFN1YmplY3QiLCJyZWZDb3VudFN1YnNjcmlwdGlvbiIsImdyb3VwQnlfSW5uZXJSZWZDb3VudFN1YnNjcmlwdGlvbiIsIklubmVyUmVmQ291bnRTdWJzY3JpcHRpb24iLCJjb3VudCIsImF0dGVtcHRlZFRvVW5zdWJzY3JpYmUiLCJCZWhhdmlvclN1YmplY3RfQmVoYXZpb3JTdWJqZWN0IiwiQmVoYXZpb3JTdWJqZWN0IiwiX3ZhbHVlIiwiZ2V0VmFsdWUiLCJjb25maWd1cmFibGUiLCJBc3luY0FjdGlvbl9Bc3luY0FjdGlvbiIsIkFzeW5jQWN0aW9uIiwic2NoZWR1bGVyIiwid29yayIsInBlbmRpbmciLCJzY2hlZHVsZSIsInN0YXRlIiwiZGVsYXkiLCJpZCIsInJlY3ljbGVBc3luY0lkIiwicmVxdWVzdEFzeW5jSWQiLCJzZXRJbnRlcnZhbCIsImZsdXNoIiwiY2xlYXJJbnRlcnZhbCIsImV4ZWN1dGUiLCJfZXhlY3V0ZSIsImVycm9yZWQiLCJlcnJvclZhbHVlIiwiYWN0aW9ucyIsIkFjdGlvbiIsIlF1ZXVlQWN0aW9uX1F1ZXVlQWN0aW9uIiwiUXVldWVBY3Rpb24iLCJTY2hlZHVsZXIiLCJTY2hlZHVsZXJBY3Rpb24iLCJBc3luY1NjaGVkdWxlcl9Bc3luY1NjaGVkdWxlciIsIkFzeW5jU2NoZWR1bGVyIiwiZGVsZWdhdGUiLCJhY3RpdmUiLCJzY2hlZHVsZWQiLCJhY3Rpb24iLCJxdWV1ZSIsIlF1ZXVlU2NoZWR1bGVyIiwiYXBwbHkiLCJlbXB0eV9lbXB0eSIsImVtcHR5U2NoZWR1bGVkIiwiaXNTY2hlZHVsZXIiLCJOb3RpZmljYXRpb25LaW5kIiwic3Vic2NyaWJlVG9BcnJheSIsImFycmF5Iiwic2NoZWR1bGVBcnJheSIsImZyb21BcnJheSIsIm9mIiwiYXJncyIsInBvcCIsInRocm93RXJyb3IiLCJkaXNwYXRjaCIsIk5vdGlmaWNhdGlvbl9Ob3RpZmljYXRpb24iLCJOb3RpZmljYXRpb24iLCJraW5kIiwiaGFzVmFsdWUiLCJvYnNlcnZlIiwiZG8iLCJhY2NlcHQiLCJ0b09ic2VydmFibGUiLCJjcmVhdGVOZXh0IiwidW5kZWZpbmVkVmFsdWVOb3RpZmljYXRpb24iLCJjcmVhdGVFcnJvciIsImNyZWF0ZUNvbXBsZXRlIiwiY29tcGxldGVOb3RpZmljYXRpb24iLCJvYnNlcnZlT25fT2JzZXJ2ZU9uU3Vic2NyaWJlciIsIk9ic2VydmVPblN1YnNjcmliZXIiLCJhcmciLCJub3RpZmljYXRpb24iLCJzY2hlZHVsZU1lc3NhZ2UiLCJPYnNlcnZlT25NZXNzYWdlIiwiUmVwbGF5U3ViamVjdF9SZXBsYXlTdWJqZWN0IiwiUmVwbGF5U3ViamVjdCIsImJ1ZmZlclNpemUiLCJ3aW5kb3dUaW1lIiwiTnVtYmVyIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJfZXZlbnRzIiwiX2luZmluaXRlVGltZVdpbmRvdyIsIl9idWZmZXJTaXplIiwiX3dpbmRvd1RpbWUiLCJuZXh0SW5maW5pdGVUaW1lV2luZG93IiwibmV4dFRpbWVXaW5kb3ciLCJSZXBsYXlFdmVudCIsIl9nZXROb3ciLCJfdHJpbUJ1ZmZlclRoZW5HZXRFdmVudHMiLCJldmVudHNDb3VudCIsInNwbGljZUNvdW50IiwidGltZSIsIkFzeW5jU3ViamVjdF9Bc3luY1N1YmplY3QiLCJBc3luY1N1YmplY3QiLCJoYXNOZXh0IiwiaGFzQ29tcGxldGVkIiwibmV4dEhhbmRsZSIsInRhc2tzQnlIYW5kbGUiLCJJbW1lZGlhdGUiLCJjYiIsImhhbmRsZSIsInRoZW4iLCJydW5JZlByZXNlbnQiLCJBc2FwQWN0aW9uX0FzYXBBY3Rpb24iLCJBc2FwQWN0aW9uIiwiYXNhcCIsIkFzYXBTY2hlZHVsZXIiLCJhc3luY19hc3luYyIsIkFuaW1hdGlvbkZyYW1lQWN0aW9uX0FuaW1hdGlvbkZyYW1lQWN0aW9uIiwiQW5pbWF0aW9uRnJhbWVBY3Rpb24iLCJhbmltYXRpb25GcmFtZSIsIkFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyIiwiVmlydHVhbFRpbWVTY2hlZHVsZXJfVmlydHVhbFRpbWVTY2hlZHVsZXIiLCJWaXJ0dWFsVGltZVNjaGVkdWxlciIsIm1heEZyYW1lcyIsIlZpcnR1YWxUaW1lU2NoZWR1bGVyX1ZpcnR1YWxBY3Rpb24iLCJmcmFtZSIsImZyYW1lVGltZUZhY3RvciIsIlZpcnR1YWxBY3Rpb24iLCJzb3J0Iiwic29ydEFjdGlvbnMiLCJpZGVudGl0eSIsImlzT2JzZXJ2YWJsZSIsIm9iaiIsIkFyZ3VtZW50T3V0T2ZSYW5nZUVycm9ySW1wbCIsIkFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yIiwiRW1wdHlFcnJvckltcGwiLCJFbXB0eUVycm9yIiwiVGltZW91dEVycm9ySW1wbCIsIlRpbWVvdXRFcnJvciIsInByb2plY3QiLCJ0aGlzQXJnIiwiVHlwZUVycm9yIiwiTWFwT3BlcmF0b3IiLCJtYXBfTWFwU3Vic2NyaWJlciIsIk1hcFN1YnNjcmliZXIiLCJyZXN1bHQiLCJiaW5kQ2FsbGJhY2siLCJjYWxsYmFja0Z1bmMiLCJyZXN1bHRTZWxlY3RvciIsImJpbmRDYWxsYmFja19kaXNwYXRjaCIsImlubmVyQXJncyIsImRpc3BhdGNoTmV4dCIsImJpbmROb2RlQ2FsbGJhY2siLCJiaW5kTm9kZUNhbGxiYWNrX2Rpc3BhdGNoIiwiYmluZE5vZGVDYWxsYmFja19kaXNwYXRjaEVycm9yIiwiYmluZE5vZGVDYWxsYmFja19kaXNwYXRjaE5leHQiLCJPdXRlclN1YnNjcmliZXJfT3V0ZXJTdWJzY3JpYmVyIiwiT3V0ZXJTdWJzY3JpYmVyIiwibm90aWZ5TmV4dCIsIm91dGVyVmFsdWUiLCJpbm5lclZhbHVlIiwib3V0ZXJJbmRleCIsImlubmVySW5kZXgiLCJpbm5lclN1YiIsIm5vdGlmeUVycm9yIiwibm90aWZ5Q29tcGxldGUiLCJJbm5lclN1YnNjcmliZXJfSW5uZXJTdWJzY3JpYmVyIiwiSW5uZXJTdWJzY3JpYmVyIiwiZ2V0U3ltYm9sSXRlcmF0b3IiLCJpdGVyYXRvciIsIml0ZXJhdG9yX2l0ZXJhdG9yIiwiaXNBcnJheUxpa2UiLCJpc1Byb21pc2UiLCJzdWJzY3JpYmVUbyIsIm9icyIsInByb21pc2UiLCJpdGVyYWJsZSIsIml0ZW0iLCJkb25lIiwic3Vic2NyaWJlVG9SZXN1bHQiLCJvdXRlclN1YnNjcmliZXIiLCJOT05FIiwiY29tYmluZUxhdGVzdCIsIm9ic2VydmFibGVzIiwiQ29tYmluZUxhdGVzdE9wZXJhdG9yIiwiY29tYmluZUxhdGVzdF9Db21iaW5lTGF0ZXN0U3Vic2NyaWJlciIsIkNvbWJpbmVMYXRlc3RTdWJzY3JpYmVyIiwidmFsdWVzIiwidG9SZXNwb25kIiwidW51c2VkIiwib2xkVmFsIiwiX3RyeVJlc3VsdFNlbGVjdG9yIiwiaXNJbnRlcm9wT2JzZXJ2YWJsZSIsInNjaGVkdWxlT2JzZXJ2YWJsZSIsInNjaGVkdWxlUHJvbWlzZSIsImlzSXRlcmFibGUiLCJzY2hlZHVsZUl0ZXJhYmxlIiwiZnJvbSIsIk1lcmdlTWFwT3BlcmF0b3IiLCJjb25jdXJyZW50IiwibWVyZ2VNYXBfTWVyZ2VNYXBTdWJzY3JpYmVyIiwiTWVyZ2VNYXBTdWJzY3JpYmVyIiwiYnVmZmVyIiwiX3RyeU5leHQiLCJfaW5uZXJTdWIiLCJpc2giLCJpbm5lclN1YnNjcmliZXIiLCJtZXJnZUFsbCIsIm1lcmdlTWFwIiwiaWkiLCJjb25jYXRBbGwiLCJkZWZlciIsIm9ic2VydmFibGVGYWN0b3J5IiwiZm9ya0pvaW4iLCJzb3VyY2VzIiwiZmlyc3RfMSIsImZvcmtKb2luSW50ZXJuYWwiLCJnZXRQcm90b3R5cGVPZiIsInJlc3VsdFNlbGVjdG9yXzEiLCJjb21wbGV0ZWQiLCJlbWl0dGVkIiwiX2xvb3BfMSIsInRhcmdldCIsImV2ZW50TmFtZSIsIm9wdGlvbnMiLCJzZXR1cFN1YnNjcmlwdGlvbiIsInNvdXJjZU9iaiIsImhhbmRsZXIiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImlzRXZlbnRUYXJnZXQiLCJzb3VyY2VfMSIsIm9uIiwib2ZmIiwiaXNKUXVlcnlTdHlsZUV2ZW50RW1pdHRlciIsInNvdXJjZV8yIiwiYWRkTGlzdGVuZXIiLCJyZW1vdmVMaXN0ZW5lciIsImlzTm9kZVN0eWxlRXZlbnRFbWl0dGVyIiwic291cmNlXzMiLCJmcm9tRXZlbnRQYXR0ZXJuIiwiYWRkSGFuZGxlciIsInJlbW92ZUhhbmRsZXIiLCJyZXRWYWx1ZSIsImdlbmVyYXRlIiwiaW5pdGlhbFN0YXRlT3JPcHRpb25zIiwiY29uZGl0aW9uIiwiaXRlcmF0ZSIsInJlc3VsdFNlbGVjdG9yT3JPYnNlcnZhYmxlIiwiaW5pdGlhbFN0YXRlIiwiZ2VuZXJhdGVfZGlzcGF0Y2giLCJjb25kaXRpb25SZXN1bHQiLCJuZWVkSXRlcmF0ZSIsImlpZiIsInRydWVSZXN1bHQiLCJmYWxzZVJlc3VsdCIsImlzTnVtZXJpYyIsInZhbCIsInBhcnNlRmxvYXQiLCJpbnRlcnZhbCIsInBlcmlvZCIsImludGVydmFsX2Rpc3BhdGNoIiwiY291bnRlciIsIm1lcmdlIiwiTkVWRVIiLCJuZXZlciIsIm9uRXJyb3JSZXN1bWVOZXh0IiwiZmlyc3QiLCJyZW1haW5kZXIiLCJzdWJOZXh0IiwicGFpcnMiLCJwYWlyc19kaXNwYXRjaCIsIm5vdCIsInByZWQiLCJub3RQcmVkIiwiZmlsdGVyIiwicHJlZGljYXRlIiwiRmlsdGVyT3BlcmF0b3IiLCJmaWx0ZXJfRmlsdGVyU3Vic2NyaWJlciIsIkZpbHRlclN1YnNjcmliZXIiLCJwYXJ0aXRpb24iLCJyYWNlIiwiUmFjZU9wZXJhdG9yIiwicmFjZV9SYWNlU3Vic2NyaWJlciIsIlJhY2VTdWJzY3JpYmVyIiwiaGFzRmlyc3QiLCJyYW5nZSIsImN1cnJlbnQiLCJyYW5nZV9kaXNwYXRjaCIsInRpbWVyIiwiZHVlVGltZSIsInBlcmlvZE9yU2NoZWR1bGVyIiwiZHVlIiwidGltZXJfZGlzcGF0Y2giLCJ1c2luZyIsInJlc291cmNlRmFjdG9yeSIsInJlc291cmNlIiwiemlwIiwiWmlwT3BlcmF0b3IiLCJ6aXBfWmlwU3Vic2NyaWJlciIsIlppcFN1YnNjcmliZXIiLCJpdGVyYXRvcnMiLCJ6aXBfU3RhdGljQXJyYXlJdGVyYXRvciIsIlN0YXRpY0l0ZXJhdG9yIiwiemlwX1ppcEJ1ZmZlckl0ZXJhdG9yIiwic3RpbGxVbnN1YnNjcmliZWQiLCJub3RpZnlJbmFjdGl2ZSIsImNoZWNrSXRlcmF0b3JzIiwic2hvdWxkQ29tcGxldGUiLCJfdHJ5cmVzdWx0U2VsZWN0b3IiLCJuZXh0UmVzdWx0IiwiU3RhdGljQXJyYXlJdGVyYXRvciIsIlppcEJ1ZmZlckl0ZXJhdG9yIiwiaXNDb21wbGV0ZSIsIl9fd2VicGFja19leHBvcnRzX18iLCJ3cml0YWJsZSIsImdldE93blByb3BlcnR5U3ltYm9scyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImdyb3VwRXZlbnRzIiwiY2hhbmdlRGV0ZWN0aW9uIiwiY29tcG9uZW50cyIsImluY2x1ZGVzIiwiaW5wdXRzRnJvbSIsIlF1ZXJ5R3JhcGgiLCJhY2NlcHRzSW5wdXRzIiwiU2V0IiwiYWRkRW50aXR5IiwicmVtb3ZlRW50aXR5IiwiYWRkQ29tcG9uZW50cyIsInVwZGF0ZUNvbXBvbmVudHMiLCJsYXN0SWQiLCJwdXNoRXZlbnRUb1F1ZXVlIiwiYWN0aXZlUmVzb2x2ZXJzIiwiYWRkZWRSZXNvbHZlciIsImV2ZW50UXVldWUiLCJoYW5kbGVFdmVudCIsInNuYXBzaG90IiwiaGFzIiwiZW50aXRpZXNUb0dyYXBoSW5wdXRUYWJsZSIsImZpbHRlcnMiLCJjYXJlc0Fib3V0IiwidGVzdCIsImxhc3RWYWx1ZXMiLCJzaXplIiwiZmluZCIsInkiLCJvdXRwdXRzVG8iLCJ1cGRhdGVDb21wbGV4Tm9kZSIsIkdyYXBoSW5wdXRzIiwiZGVwZW5kZW5jaWVzIiwidXBkYXRlSW5wdXROb2RlIiwiZW50aXRpZXMiLCJhZnRlckFkZGluZ0NvbXBvbmVudCIsImFkZElucHV0Tm9kZVRvUXVlcnlHcmFwaCIsImVjc0dyYXBoIiwibm9kZSIsImFkZENvbXBsZXhOb2RlIiwiZmxhZyIsImFsbCIsImFkZENvbXBvbmVudFRvIiwiZGlyZWN0aW9ucyIsIm1haW4iLCJjYW52YXMiLCJnZXRFbGVtZW50QnlJZCIsImN0eCIsImdldENvbnRleHQiLCJzY3JlZW5TaXplIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwicGh5c2ljcyIsImNvbG9ycyIsIm5vbmUiLCJmYWxsIiwid2FsbCIsIndpZHRoIiwiaGVpZ2h0IiwiZWNzIiwibWFpbmxvb3BfbWluX2RlZmF1bHQiLCJyZW5kZXJhYmxlIiwiY2xlYXJSZWN0IiwiZWFjaCIsImVudGl0eSIsImZpbGxTdHlsZSIsImNvbG9yIiwiZmlsbFJlY3QiLCJwb3NpdGlvbiIsInJlbmRlciIsInRvVXBkYXRlIiwianVtcENvdW50IiwiZGVsdGEiLCJzcGVlZCIsImdyYXZpdHlNdWx0aXBseWVyIiwiY29sbGlzaW9uIiwiY29sbGlzaW9uRGlyZWN0aW9uIiwiY29sbGlzaW9uRGlyZWN0aW9ucyIsImNvbGxpZGVkIiwibGFuZGVkIiwicGVyZm9ybWFuY2UiLCJqdW1wT2Zmc2V0IiwianVtcEZvcmNlIiwiZGlyZWN0aW9uIiwiaGl0VGhlU2lkZSIsIndhbGxKdW1wT2ZmZXN0Iiwic2lkZXdheXNNb3ZlbWVudCIsInNpZGVXYXlzU2F0ZSIsInNpZGVXYXlzRm9yY2UiLCJ1cGRhdGUiLCJpbml0aWFsRGF0YSIsInJpZ2lkYm9keSIsImdyb3VuZCIsImFpciJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIsRUFBQWlCLE9BQUFDLFlBQUEsQ0FBd0RDLE1BQUEsV0FFeERQLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURtQixPQUFBLEtBUWpEckIsRUFBQXNCLEVBQUEsU0FBQUQsRUFBQUUsR0FFQSxHQURBLEVBQUFBLElBQUFGLEVBQUFyQixFQUFBcUIsSUFDQSxFQUFBRSxFQUFBLE9BQUFGLEVBQ0EsS0FBQUUsR0FBQSxpQkFBQUYsUUFBQUcsV0FBQSxPQUFBSCxFQUNBLElBQUFJLEVBQUFYLE9BQUFZLE9BQUEs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MmUsSUFHSixDQUFDLFdBQVksUUFBUyxTQUFVLFdBQVksYUFNaERxQixJQUNWN29CLFFBRUwsTUFBTThvQixFQUFzQixDQUN4QnRCLFNBQVUsQ0FBQyxJQUFLLEtBQ2hCMUMsS0FBTSxDQUFDLEdBQUksSUFDWHdDLE1BQU8sT0FDUEwsWUFBWSxFQUNaOEIsV0FBVyxFQUNYbEIsTUFBTyxDQUFDLEVBQUcsR0FDWFMsV0FBWSxJQUNaTSxjQUFlLENBQ1hJLE9BQVEsSUFDUkMsSUFBSyxLQUVUZixTQUFVLEVBQUMsR0FBTyxHQUNsQkQsb0JBQXFCLENBQUMsRUFBRyxHQUN6QkUsT0FBUUMsWUFBWXZwQixNQUNwQndwQixXQUFZLElBQ1pQLGtCQUFtQixDQUNmdGtCLEdBQUksR0FDSm1qQixLQUFNLElBQ05qakIsS0FBTSxFQUNOZ2pCLEtBQU0sRUFDTkUsS0FBTSxJQUVWNkIsZUFBZ0IsSUFDaEJELFdBQVlKLFlBQVl2cEIsTUFDeEJrUyxNQUFPLFFBR1hnVyxFQUFJbEQsVUFBVWlGIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMik7XG4iLCJcInVzZSBzdHJpY3RcIjtcclxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xyXG52YXIgS2V5Ym9hcmRJbnB1dF8xID0gcmVxdWlyZShcIi4va2V5Ym9hcmQvS2V5Ym9hcmRJbnB1dFwiKTtcclxuZXhwb3J0cy5LZXlib2FyZElucHV0ID0gS2V5Ym9hcmRJbnB1dF8xLktleWJvYXJkSW5wdXQ7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1haW4uanMubWFwIiwiLyoqXG4gKiBtYWlubG9vcC5qcyAxLjAuMy0yMDE3MDUyOVxuICpcbiAqIEBhdXRob3IgSXNhYWMgU3VraW4gKGh0dHA6Ly93d3cuaXNhYWNzdWtpbi5jb20vKVxuICogQGxpY2Vuc2UgTUlUXG4gKi9cblxuIWZ1bmN0aW9uKGEpe2Z1bmN0aW9uIGIoYSl7aWYoeD1xKGIpLCEoYTxlK2wpKXtmb3IoZCs9YS1lLGU9YSx0KGEsZCksYT5pK2gmJihmPWcqaioxZTMvKGEtaSkrKDEtZykqZixpPWEsaj0wKSxqKyssaz0wO2Q+PWM7KWlmKHUoYyksZC09YywrK2s+PTI0MCl7bz0hMDticmVha312KGQvYyksdyhmLG8pLG89ITF9fXZhciBjPTFlMy82MCxkPTAsZT0wLGY9NjAsZz0uOSxoPTFlMyxpPTAsaj0wLGs9MCxsPTAsbT0hMSxuPSExLG89ITEscD1cIm9iamVjdFwiPT10eXBlb2Ygd2luZG93P3dpbmRvdzphLHE9cC5yZXF1ZXN0QW5pbWF0aW9uRnJhbWV8fGZ1bmN0aW9uKCl7dmFyIGE9RGF0ZS5ub3coKSxiLGQ7cmV0dXJuIGZ1bmN0aW9uKGUpe3JldHVybiBiPURhdGUubm93KCksZD1NYXRoLm1heCgwLGMtKGItYSkpLGE9YitkLHNldFRpbWVvdXQoZnVuY3Rpb24oKXtlKGIrZCl9LGQpfX0oKSxyPXAuY2FuY2VsQW5pbWF0aW9uRnJhbWV8fGNsZWFyVGltZW91dCxzPWZ1bmN0aW9uKCl7fSx0PXMsdT1zLHY9cyx3PXMseDthLk1haW5Mb29wPXtnZXRTaW11bGF0aW9uVGltZXN0ZXA6ZnVuY3Rpb24oKXtyZXR1cm4gY30sc2V0U2ltdWxhdGlvblRpbWVzdGVwOmZ1bmN0aW9uKGEpe3JldHVybiBjPWEsdGhpc30sZ2V0RlBTOmZ1bmN0aW9uKCl7cmV0dXJuIGZ9LGdldE1heEFsbG93ZWRGUFM6ZnVuY3Rpb24oKXtyZXR1cm4gMWUzL2x9LHNldE1heEFsbG93ZWRGUFM6ZnVuY3Rpb24oYSl7cmV0dXJuXCJ1bmRlZmluZWRcIj09dHlwZW9mIGEmJihhPTEvMCksMD09PWE/dGhpcy5zdG9wKCk6bD0xZTMvYSx0aGlzfSxyZXNldEZyYW1lRGVsdGE6ZnVuY3Rpb24oKXt2YXIgYT1kO3JldHVybiBkPTAsYX0sc2V0QmVnaW46ZnVuY3Rpb24oYSl7cmV0dXJuIHQ9YXx8dCx0aGlzfSxzZXRVcGRhdGU6ZnVuY3Rpb24oYSl7cmV0dXJuIHU9YXx8dSx0aGlzfSxzZXREcmF3OmZ1bmN0aW9uKGEpe3JldHVybiB2PWF8fHYsdGhpc30sc2V0RW5kOmZ1bmN0aW9uKGEpe3JldHVybiB3PWF8fHcsdGhpc30sc3RhcnQ6ZnVuY3Rpb24oKXtyZXR1cm4gbnx8KG49ITAseD1xKGZ1bmN0aW9uKGEpe3YoMSksbT0hMCxlPWEsaT1hLGo9MCx4PXEoYil9KSksdGhpc30sc3RvcDpmdW5jdGlvbigpe3JldHVybiBtPSExLG49ITEscih4KSx0aGlzfSxpc1J1bm5pbmc6ZnVuY3Rpb24oKXtyZXR1cm4gbX19LFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZD9kZWZpbmUoYS5NYWluTG9vcCk6XCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSYmbnVsbCE9PW1vZHVsZSYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZS5leHBvcnRzJiYobW9kdWxlLmV4cG9ydHM9YS5NYWluTG9vcCl9KHRoaXMpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFpbmxvb3AubWluLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbmNvbnN0IHJ4anNfMSA9IHJlcXVpcmUoXCJyeGpzXCIpO1xyXG5jb25zdCBrZXljb2RlID0gcmVxdWlyZShcImtleWNvZGVcIik7XHJcbmNsYXNzIEtleWJvYXJkSW5wdXQge1xyXG4gICAgY29uc3RydWN0b3IoLi4ucGFyYW1zKSB7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucHJlc3NlZCA9IFtdO1xyXG4gICAgICAgIHRoaXMudmFsdWVDaGFuZ2VzID0gbmV3IHJ4anNfMS5TdWJqZWN0KCk7XHJcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb24gPSBbXTtcclxuICAgICAgICB0aGlzLmtleXMgPSBwYXJhbXM7XHJcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb24ucHVzaChyeGpzXzEuZnJvbUV2ZW50KGRvY3VtZW50LCBcImtleWRvd25cIilcclxuICAgICAgICAgICAgLnN1YnNjcmliZSgoZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBsYXN0ID0gdGhpcy5wcmVzc2VkLmxlbmd0aDtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSBvZiB0aGlzLmtleXMpXHJcbiAgICAgICAgICAgICAgICBpZiAoaSA9PSBrZXljb2RlKGUpICYmIHRoaXMucHJlc3NlZC5pbmRleE9mKGkpID09IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZC5wdXNoKGkpO1xyXG4gICAgICAgICAgICBpZiAobGFzdCA9PSAwICYmIHRoaXMucHJlc3NlZC5sZW5ndGggIT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlQ2hhbmdlcy5uZXh0KHRoaXMudmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkpO1xyXG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9uLnB1c2gocnhqc18xLmZyb21FdmVudChkb2N1bWVudCwgXCJrZXl1cFwiKVxyXG4gICAgICAgICAgICAuc3Vic2NyaWJlKChlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxhc3QgPSB0aGlzLnByZXNzZWQubGVuZ3RoO1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpIG9mIHRoaXMua2V5cylcclxuICAgICAgICAgICAgICAgIGlmIChpID09IGtleWNvZGUoZSkgJiYgdGhpcy5wcmVzc2VkLmluZGV4T2YoaSkgIT0gLTEpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkLnNwbGljZSh0aGlzLnByZXNzZWQuaW5kZXhPZihpKSwgMSk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlICYmIGxhc3QgPiAwICYmIHRoaXMucHJlc3NlZC5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy52YWx1ZUNoYW5nZXMubmV4dCh0aGlzLnZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pKTtcclxuICAgIH1cclxuICAgIGRpc3Bvc2UoKSB7XHJcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb24uZm9yRWFjaChlID0+IGUudW5zdWJzY3JpYmUoKSk7XHJcbiAgICAgICAgdGhpcy52YWx1ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMudmFsdWVDaGFuZ2VzLm5leHQoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMudmFsdWVDaGFuZ2VzLmNvbXBsZXRlKCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0cy5LZXlib2FyZElucHV0ID0gS2V5Ym9hcmRJbnB1dDtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9S2V5Ym9hcmRJbnB1dC5qcy5tYXAiLCIvLyBTb3VyY2U6IGh0dHA6Ly9qc2ZpZGRsZS5uZXQvdld4OFYvXG4vLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzU2MDMxOTUvZnVsbC1saXN0LW9mLWphdmFzY3JpcHQta2V5Y29kZXNcblxuLyoqXG4gKiBDb25lbmllbmNlIG1ldGhvZCByZXR1cm5zIGNvcnJlc3BvbmRpbmcgdmFsdWUgZm9yIGdpdmVuIGtleU5hbWUgb3Iga2V5Q29kZS5cbiAqXG4gKiBAcGFyYW0ge01peGVkfSBrZXlDb2RlIHtOdW1iZXJ9IG9yIGtleU5hbWUge1N0cmluZ31cbiAqIEByZXR1cm4ge01peGVkfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5mdW5jdGlvbiBrZXlDb2RlKHNlYXJjaElucHV0KSB7XG4gIC8vIEtleWJvYXJkIEV2ZW50c1xuICBpZiAoc2VhcmNoSW5wdXQgJiYgJ29iamVjdCcgPT09IHR5cGVvZiBzZWFyY2hJbnB1dCkge1xuICAgIHZhciBoYXNLZXlDb2RlID0gc2VhcmNoSW5wdXQud2hpY2ggfHwgc2VhcmNoSW5wdXQua2V5Q29kZSB8fCBzZWFyY2hJbnB1dC5jaGFyQ29kZVxuICAgIGlmIChoYXNLZXlDb2RlKSBzZWFyY2hJbnB1dCA9IGhhc0tleUNvZGVcbiAgfVxuXG4gIC8vIE51bWJlcnNcbiAgaWYgKCdudW1iZXInID09PSB0eXBlb2Ygc2VhcmNoSW5wdXQpIHJldHVybiBuYW1lc1tzZWFyY2hJbnB1dF1cblxuICAvLyBFdmVyeXRoaW5nIGVsc2UgKGNhc3QgdG8gc3RyaW5nKVxuICB2YXIgc2VhcmNoID0gU3RyaW5nKHNlYXJjaElucHV0KVxuXG4gIC8vIGNoZWNrIGNvZGVzXG4gIHZhciBmb3VuZE5hbWVkS2V5ID0gY29kZXNbc2VhcmNoLnRvTG93ZXJDYXNlKCldXG4gIGlmIChmb3VuZE5hbWVkS2V5KSByZXR1cm4gZm91bmROYW1lZEtleVxuXG4gIC8vIGNoZWNrIGFsaWFzZXNcbiAgdmFyIGZvdW5kTmFtZWRLZXkgPSBhbGlhc2VzW3NlYXJjaC50b0xvd2VyQ2FzZSgpXVxuICBpZiAoZm91bmROYW1lZEtleSkgcmV0dXJuIGZvdW5kTmFtZWRLZXlcblxuICAvLyB3ZWlyZCBjaGFyYWN0ZXI/XG4gIGlmIChzZWFyY2gubGVuZ3RoID09PSAxKSByZXR1cm4gc2VhcmNoLmNoYXJDb2RlQXQoMClcblxuICByZXR1cm4gdW5kZWZpbmVkXG59XG5cbi8qKlxuICogQ29tcGFyZXMgYSBrZXlib2FyZCBldmVudCB3aXRoIGEgZ2l2ZW4ga2V5Q29kZSBvciBrZXlOYW1lLlxuICpcbiAqIEBwYXJhbSB7RXZlbnR9IGV2ZW50IEtleWJvYXJkIGV2ZW50IHRoYXQgc2hvdWxkIGJlIHRlc3RlZFxuICogQHBhcmFtIHtNaXhlZH0ga2V5Q29kZSB7TnVtYmVyfSBvciBrZXlOYW1lIHtTdHJpbmd9XG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwdWJsaWNcbiAqL1xua2V5Q29kZS5pc0V2ZW50S2V5ID0gZnVuY3Rpb24gaXNFdmVudEtleShldmVudCwgbmFtZU9yQ29kZSkge1xuICBpZiAoZXZlbnQgJiYgJ29iamVjdCcgPT09IHR5cGVvZiBldmVudCkge1xuICAgIHZhciBrZXlDb2RlID0gZXZlbnQud2hpY2ggfHwgZXZlbnQua2V5Q29kZSB8fCBldmVudC5jaGFyQ29kZVxuICAgIGlmIChrZXlDb2RlID09PSBudWxsIHx8IGtleUNvZGUgPT09IHVuZGVmaW5lZCkgeyByZXR1cm4gZmFsc2U7IH1cbiAgICBpZiAodHlwZW9mIG5hbWVPckNvZGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBjaGVjayBjb2Rlc1xuICAgICAgdmFyIGZvdW5kTmFtZWRLZXkgPSBjb2Rlc1tuYW1lT3JDb2RlLnRvTG93ZXJDYXNlKCldXG4gICAgICBpZiAoZm91bmROYW1lZEtleSkgeyByZXR1cm4gZm91bmROYW1lZEtleSA9PT0ga2V5Q29kZTsgfVxuICAgIFxuICAgICAgLy8gY2hlY2sgYWxpYXNlc1xuICAgICAgdmFyIGZvdW5kTmFtZWRLZXkgPSBhbGlhc2VzW25hbWVPckNvZGUudG9Mb3dlckNhc2UoKV1cbiAgICAgIGlmIChmb3VuZE5hbWVkS2V5KSB7IHJldHVybiBmb3VuZE5hbWVkS2V5ID09PSBrZXlDb2RlOyB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgbmFtZU9yQ29kZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiBuYW1lT3JDb2RlID09PSBrZXlDb2RlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0ga2V5Q29kZTtcblxuLyoqXG4gKiBHZXQgYnkgbmFtZVxuICpcbiAqICAgZXhwb3J0cy5jb2RlWydlbnRlciddIC8vID0+IDEzXG4gKi9cblxudmFyIGNvZGVzID0gZXhwb3J0cy5jb2RlID0gZXhwb3J0cy5jb2RlcyA9IHtcbiAgJ2JhY2tzcGFjZSc6IDgsXG4gICd0YWInOiA5LFxuICAnZW50ZXInOiAxMyxcbiAgJ3NoaWZ0JzogMTYsXG4gICdjdHJsJzogMTcsXG4gICdhbHQnOiAxOCxcbiAgJ3BhdXNlL2JyZWFrJzogMTksXG4gICdjYXBzIGxvY2snOiAyMCxcbiAgJ2VzYyc6IDI3LFxuICAnc3BhY2UnOiAzMixcbiAgJ3BhZ2UgdXAnOiAzMyxcbiAgJ3BhZ2UgZG93bic6IDM0LFxuICAnZW5kJzogMzUsXG4gICdob21lJzogMzYsXG4gICdsZWZ0JzogMzcsXG4gICd1cCc6IDM4LFxuICAncmlnaHQnOiAzOSxcbiAgJ2Rvd24nOiA0MCxcbiAgJ2luc2VydCc6IDQ1LFxuICAnZGVsZXRlJzogNDYsXG4gICdjb21tYW5kJzogOTEsXG4gICdsZWZ0IGNvbW1hbmQnOiA5MSxcbiAgJ3JpZ2h0IGNvbW1hbmQnOiA5MyxcbiAgJ251bXBhZCAqJzogMTA2LFxuICAnbnVtcGFkICsnOiAxMDcsXG4gICdudW1wYWQgLSc6IDEwOSxcbiAgJ251bXBhZCAuJzogMTEwLFxuICAnbnVtcGFkIC8nOiAxMTEsXG4gICdudW0gbG9jayc6IDE0NCxcbiAgJ3Njcm9sbCBsb2NrJzogMTQ1LFxuICAnbXkgY29tcHV0ZXInOiAxODIsXG4gICdteSBjYWxjdWxhdG9yJzogMTgzLFxuICAnOyc6IDE4NixcbiAgJz0nOiAxODcsXG4gICcsJzogMTg4LFxuICAnLSc6IDE4OSxcbiAgJy4nOiAxOTAsXG4gICcvJzogMTkxLFxuICAnYCc6IDE5MixcbiAgJ1snOiAyMTksXG4gICdcXFxcJzogMjIwLFxuICAnXSc6IDIyMSxcbiAgXCInXCI6IDIyMlxufVxuXG4vLyBIZWxwZXIgYWxpYXNlc1xuXG52YXIgYWxpYXNlcyA9IGV4cG9ydHMuYWxpYXNlcyA9IHtcbiAgJ3dpbmRvd3MnOiA5MSxcbiAgJ+KHpyc6IDE2LFxuICAn4oylJzogMTgsXG4gICfijIMnOiAxNyxcbiAgJ+KMmCc6IDkxLFxuICAnY3RsJzogMTcsXG4gICdjb250cm9sJzogMTcsXG4gICdvcHRpb24nOiAxOCxcbiAgJ3BhdXNlJzogMTksXG4gICdicmVhayc6IDE5LFxuICAnY2Fwcyc6IDIwLFxuICAncmV0dXJuJzogMTMsXG4gICdlc2NhcGUnOiAyNyxcbiAgJ3NwYyc6IDMyLFxuICAnc3BhY2ViYXInOiAzMixcbiAgJ3BndXAnOiAzMyxcbiAgJ3BnZG4nOiAzNCxcbiAgJ2lucyc6IDQ1LFxuICAnZGVsJzogNDYsXG4gICdjbWQnOiA5MVxufVxuXG4vKiFcbiAqIFByb2dyYW1hdGljYWxseSBhZGQgdGhlIGZvbGxvd2luZ1xuICovXG5cbi8vIGxvd2VyIGNhc2UgY2hhcnNcbmZvciAoaSA9IDk3OyBpIDwgMTIzOyBpKyspIGNvZGVzW1N0cmluZy5mcm9tQ2hhckNvZGUoaSldID0gaSAtIDMyXG5cbi8vIG51bWJlcnNcbmZvciAodmFyIGkgPSA0ODsgaSA8IDU4OyBpKyspIGNvZGVzW2kgLSA0OF0gPSBpXG5cbi8vIGZ1bmN0aW9uIGtleXNcbmZvciAoaSA9IDE7IGkgPCAxMzsgaSsrKSBjb2Rlc1snZicraV0gPSBpICsgMTExXG5cbi8vIG51bXBhZCBrZXlzXG5mb3IgKGkgPSAwOyBpIDwgMTA7IGkrKykgY29kZXNbJ251bXBhZCAnK2ldID0gaSArIDk2XG5cbi8qKlxuICogR2V0IGJ5IGNvZGVcbiAqXG4gKiAgIGV4cG9ydHMubmFtZVsxM10gLy8gPT4gJ0VudGVyJ1xuICovXG5cbnZhciBuYW1lcyA9IGV4cG9ydHMubmFtZXMgPSBleHBvcnRzLnRpdGxlID0ge30gLy8gdGl0bGUgZm9yIGJhY2t3YXJkIGNvbXBhdFxuXG4vLyBDcmVhdGUgcmV2ZXJzZSBtYXBwaW5nXG5mb3IgKGkgaW4gY29kZXMpIG5hbWVzW2NvZGVzW2ldXSA9IGlcblxuLy8gQWRkIGFsaWFzZXNcbmZvciAodmFyIGFsaWFzIGluIGFsaWFzZXMpIHtcbiAgY29kZXNbYWxpYXNdID0gYWxpYXNlc1thbGlhc11cbn1cbiIsIi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHggPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0Z1bmN0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xudmFyIF9lbmFibGVfc3VwZXJfZ3Jvc3NfbW9kZV90aGF0X3dpbGxfY2F1c2VfYmFkX3RoaW5ncyA9IGZhbHNlO1xuZXhwb3J0IHZhciBjb25maWcgPSB7XG4gICAgUHJvbWlzZTogdW5kZWZpbmVkLFxuICAgIHNldCB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIGVycm9yID0gLypAX19QVVJFX18qLyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgIC8qQF9fUFVSRV9fKi8gY29uc29sZS53YXJuKCdERVBSRUNBVEVEISBSeEpTIHdhcyBzZXQgdG8gdXNlIGRlcHJlY2F0ZWQgc3luY2hyb25vdXMgZXJyb3IgaGFuZGxpbmcgYmVoYXZpb3IgYnkgY29kZSBhdDogXFxuJyArIGVycm9yLnN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MpIHtcbiAgICAgICAgICAgIC8qQF9fUFVSRV9fKi8gY29uc29sZS5sb2coJ1J4SlM6IEJhY2sgdG8gYSBiZXR0ZXIgZXJyb3IgYmVoYXZpb3IuIFRoYW5rIHlvdS4gPDMnKTtcbiAgICAgICAgfVxuICAgICAgICBfZW5hYmxlX3N1cGVyX2dyb3NzX21vZGVfdGhhdF93aWxsX2NhdXNlX2JhZF90aGluZ3MgPSB2YWx1ZTtcbiAgICB9LFxuICAgIGdldCB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKCkge1xuICAgICAgICByZXR1cm4gX2VuYWJsZV9zdXBlcl9ncm9zc19tb2RlX3RoYXRfd2lsbF9jYXVzZV9iYWRfdGhpbmdzO1xuICAgIH0sXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uZmlnLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhvc3RSZXBvcnRFcnJvcihlcnIpIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgdGhyb3cgZXJyOyB9LCAwKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhvc3RSZXBvcnRFcnJvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX2NvbmZpZyxfdXRpbF9ob3N0UmVwb3J0RXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgaG9zdFJlcG9ydEVycm9yIH0gZnJvbSAnLi91dGlsL2hvc3RSZXBvcnRFcnJvcic7XG5leHBvcnQgdmFyIGVtcHR5ID0ge1xuICAgIGNsb3NlZDogdHJ1ZSxcbiAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHsgfSxcbiAgICBlcnJvcjogZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkgeyB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JzZXJ2ZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5IHx8IChmdW5jdGlvbiAoeCkgeyByZXR1cm4geCAmJiB0eXBlb2YgeC5sZW5ndGggPT09ICdudW1iZXInOyB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXJyYXkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaXNPYmplY3QoeCkge1xuICAgIHJldHVybiB4ICE9PSBudWxsICYmIHR5cGVvZiB4ID09PSAnb2JqZWN0Jztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzT2JqZWN0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCAgUFVSRV9JTVBPUlRTX0VORCAqL1xuZnVuY3Rpb24gVW5zdWJzY3JpcHRpb25FcnJvckltcGwoZXJyb3JzKSB7XG4gICAgRXJyb3IuY2FsbCh0aGlzKTtcbiAgICB0aGlzLm1lc3NhZ2UgPSBlcnJvcnMgP1xuICAgICAgICBlcnJvcnMubGVuZ3RoICsgXCIgZXJyb3JzIG9jY3VycmVkIGR1cmluZyB1bnN1YnNjcmlwdGlvbjpcXG5cIiArIGVycm9ycy5tYXAoZnVuY3Rpb24gKGVyciwgaSkgeyByZXR1cm4gaSArIDEgKyBcIikgXCIgKyBlcnIudG9TdHJpbmcoKTsgfSkuam9pbignXFxuICAnKSA6ICcnO1xuICAgIHRoaXMubmFtZSA9ICdVbnN1YnNjcmlwdGlvbkVycm9yJztcbiAgICB0aGlzLmVycm9ycyA9IGVycm9ycztcbiAgICByZXR1cm4gdGhpcztcbn1cblVuc3Vic2NyaXB0aW9uRXJyb3JJbXBsLnByb3RvdHlwZSA9IC8qQF9fUFVSRV9fKi8gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuZXhwb3J0IHZhciBVbnN1YnNjcmlwdGlvbkVycm9yID0gVW5zdWJzY3JpcHRpb25FcnJvckltcGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1VbnN1YnNjcmlwdGlvbkVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfdXRpbF9pc0FycmF5LF91dGlsX2lzT2JqZWN0LF91dGlsX2lzRnVuY3Rpb24sX3V0aWxfVW5zdWJzY3JpcHRpb25FcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tICcuL3V0aWwvaXNPYmplY3QnO1xuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IFVuc3Vic2NyaXB0aW9uRXJyb3IgfSBmcm9tICcuL3V0aWwvVW5zdWJzY3JpcHRpb25FcnJvcic7XG52YXIgU3Vic2NyaXB0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN1YnNjcmlwdGlvbih1bnN1YnNjcmliZSkge1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYXJlbnRPclBhcmVudHMgPSBudWxsO1xuICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zID0gbnVsbDtcbiAgICAgICAgaWYgKHVuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLl91bnN1YnNjcmliZSA9IHVuc3Vic2NyaWJlO1xuICAgICAgICB9XG4gICAgfVxuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBlcnJvcnM7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIF9wYXJlbnRPclBhcmVudHMgPSBfYS5fcGFyZW50T3JQYXJlbnRzLCBfdW5zdWJzY3JpYmUgPSBfYS5fdW5zdWJzY3JpYmUsIF9zdWJzY3JpcHRpb25zID0gX2EuX3N1YnNjcmlwdGlvbnM7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5fcGFyZW50T3JQYXJlbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fc3Vic2NyaXB0aW9ucyA9IG51bGw7XG4gICAgICAgIGlmIChfcGFyZW50T3JQYXJlbnRzIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgICBfcGFyZW50T3JQYXJlbnRzLnJlbW92ZSh0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChfcGFyZW50T3JQYXJlbnRzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpbmRleCA9IDA7IGluZGV4IDwgX3BhcmVudE9yUGFyZW50cy5sZW5ndGg7ICsraW5kZXgpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFyZW50XzEgPSBfcGFyZW50T3JQYXJlbnRzW2luZGV4XTtcbiAgICAgICAgICAgICAgICBwYXJlbnRfMS5yZW1vdmUodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oX3Vuc3Vic2NyaWJlKSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBfdW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JzID0gZSBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IgPyBmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMoZS5lcnJvcnMpIDogW2VdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc0FycmF5KF9zdWJzY3JpcHRpb25zKSkge1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gLTE7XG4gICAgICAgICAgICB2YXIgbGVuID0gX3N1YnNjcmlwdGlvbnMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgICAgICB2YXIgc3ViID0gX3N1YnNjcmlwdGlvbnNbaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmIChpc09iamVjdChzdWIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdChmbGF0dGVuVW5zdWJzY3JpcHRpb25FcnJvcnMoZS5lcnJvcnMpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvcnMpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVbnN1YnNjcmlwdGlvbkVycm9yKGVycm9ycyk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHRlYXJkb3duKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSB0ZWFyZG93bjtcbiAgICAgICAgaWYgKCF0ZWFyZG93bikge1xuICAgICAgICAgICAgcmV0dXJuIFN1YnNjcmlwdGlvbi5FTVBUWTtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHR5cGVvZiB0ZWFyZG93bikge1xuICAgICAgICAgICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24odGVhcmRvd24pO1xuICAgICAgICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaXB0aW9uID09PSB0aGlzIHx8IHN1YnNjcmlwdGlvbi5jbG9zZWQgfHwgdHlwZW9mIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIShzdWJzY3JpcHRpb24gaW5zdGFuY2VvZiBTdWJzY3JpcHRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0bXAgPSBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLl9zdWJzY3JpcHRpb25zID0gW3RtcF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndW5yZWNvZ25pemVkIHRlYXJkb3duICcgKyB0ZWFyZG93biArICcgYWRkZWQgdG8gU3Vic2NyaXB0aW9uLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBfcGFyZW50T3JQYXJlbnRzID0gc3Vic2NyaXB0aW9uLl9wYXJlbnRPclBhcmVudHM7XG4gICAgICAgIGlmIChfcGFyZW50T3JQYXJlbnRzID09PSBudWxsKSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24uX3BhcmVudE9yUGFyZW50cyA9IHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX3BhcmVudE9yUGFyZW50cyBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgaWYgKF9wYXJlbnRPclBhcmVudHMgPT09IHRoaXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLl9wYXJlbnRPclBhcmVudHMgPSBbX3BhcmVudE9yUGFyZW50cywgdGhpc107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoX3BhcmVudE9yUGFyZW50cy5pbmRleE9mKHRoaXMpID09PSAtMSkge1xuICAgICAgICAgICAgX3BhcmVudE9yUGFyZW50cy5wdXNoKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3Vic2NyaXB0aW9ucyA9IHRoaXMuX3N1YnNjcmlwdGlvbnM7XG4gICAgICAgIGlmIChzdWJzY3JpcHRpb25zID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpcHRpb25zID0gW3N1YnNjcmlwdGlvbl07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25zLnB1c2goc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb25zID0gdGhpcy5fc3Vic2NyaXB0aW9ucztcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbnMpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb25JbmRleCA9IHN1YnNjcmlwdGlvbnMuaW5kZXhPZihzdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgaWYgKHN1YnNjcmlwdGlvbkluZGV4ICE9PSAtMSkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMuc3BsaWNlKHN1YnNjcmlwdGlvbkluZGV4LCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaXB0aW9uLkVNUFRZID0gKGZ1bmN0aW9uIChlbXB0eSkge1xuICAgICAgICBlbXB0eS5jbG9zZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gZW1wdHk7XG4gICAgfShuZXcgU3Vic2NyaXB0aW9uKCkpKTtcbiAgICByZXR1cm4gU3Vic2NyaXB0aW9uO1xufSgpKTtcbmV4cG9ydCB7IFN1YnNjcmlwdGlvbiB9O1xuZnVuY3Rpb24gZmxhdHRlblVuc3Vic2NyaXB0aW9uRXJyb3JzKGVycm9ycykge1xuICAgIHJldHVybiBlcnJvcnMucmVkdWNlKGZ1bmN0aW9uIChlcnJzLCBlcnIpIHsgcmV0dXJuIGVycnMuY29uY2F0KChlcnIgaW5zdGFuY2VvZiBVbnN1YnNjcmlwdGlvbkVycm9yKSA/IGVyci5lcnJvcnMgOiBlcnIpOyB9LCBbXSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TdWJzY3JpcHRpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgdmFyIHJ4U3Vic2NyaWJlciA9IHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbidcbiAgICA/IC8qQF9fUFVSRV9fKi8gU3ltYm9sKCdyeFN1YnNjcmliZXInKVxuICAgIDogJ0BAcnhTdWJzY3JpYmVyXycgKyAvKkBfX1BVUkVfXyovIE1hdGgucmFuZG9tKCk7XG5leHBvcnQgdmFyICQkcnhTdWJzY3JpYmVyID0gcnhTdWJzY3JpYmVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cnhTdWJzY3JpYmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfdXRpbF9pc0Z1bmN0aW9uLF9PYnNlcnZlcixfU3Vic2NyaXB0aW9uLF9pbnRlcm5hbF9zeW1ib2xfcnhTdWJzY3JpYmVyLF9jb25maWcsX3V0aWxfaG9zdFJlcG9ydEVycm9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgZW1wdHkgYXMgZW1wdHlPYnNlcnZlciB9IGZyb20gJy4vT2JzZXJ2ZXInO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgcnhTdWJzY3JpYmVyIGFzIHJ4U3Vic2NyaWJlclN5bWJvbCB9IGZyb20gJy4uL2ludGVybmFsL3N5bWJvbC9yeFN1YnNjcmliZXInO1xuaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi9jb25maWcnO1xuaW1wb3J0IHsgaG9zdFJlcG9ydEVycm9yIH0gZnJvbSAnLi91dGlsL2hvc3RSZXBvcnRFcnJvcic7XG52YXIgU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YnNjcmliZXIoZGVzdGluYXRpb25Pck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zeW5jRXJyb3JWYWx1ZSA9IG51bGw7XG4gICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93biA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaXNTdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHN3aXRjaCAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZW1wdHlPYnNlcnZlcjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICBpZiAoIWRlc3RpbmF0aW9uT3JOZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZW1wdHlPYnNlcnZlcjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGVzdGluYXRpb25Pck5leHQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXN0aW5hdGlvbk9yTmV4dCBpbnN0YW5jZW9mIFN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLnN5bmNFcnJvclRocm93YWJsZSA9IGRlc3RpbmF0aW9uT3JOZXh0LnN5bmNFcnJvclRocm93YWJsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb25Pck5leHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbk9yTmV4dC5hZGQoX3RoaXMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMuc3luY0Vycm9yVGhyb3dhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gbmV3IFNhZmVTdWJzY3JpYmVyKF90aGlzLCBkZXN0aW5hdGlvbk9yTmV4dCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBfdGhpcy5zeW5jRXJyb3JUaHJvd2FibGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIF90aGlzLmRlc3RpbmF0aW9uID0gbmV3IFNhZmVTdWJzY3JpYmVyKF90aGlzLCBkZXN0aW5hdGlvbk9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN1YnNjcmliZXIucHJvdG90eXBlW3J4U3Vic2NyaWJlclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9O1xuICAgIFN1YnNjcmliZXIuY3JlYXRlID0gZnVuY3Rpb24gKG5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgc3Vic2NyaWJlciA9IG5ldyBTdWJzY3JpYmVyKG5leHQsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgIHN1YnNjcmliZXIuc3luY0Vycm9yVGhyb3dhYmxlID0gZmFsc2U7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuaXNTdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2Vycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgIH07XG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmVBbmRSZWN5Y2xlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3BhcmVudE9yUGFyZW50cyA9IHRoaXMuX3BhcmVudE9yUGFyZW50cztcbiAgICAgICAgdGhpcy5fcGFyZW50T3JQYXJlbnRzID0gbnVsbDtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICB0aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9wYXJlbnRPclBhcmVudHMgPSBfcGFyZW50T3JQYXJlbnRzO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHJldHVybiBTdWJzY3JpYmVyO1xufShTdWJzY3JpcHRpb24pKTtcbmV4cG9ydCB7IFN1YnNjcmliZXIgfTtcbnZhciBTYWZlU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTYWZlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBTYWZlU3Vic2NyaWJlcihfcGFyZW50U3Vic2NyaWJlciwgb2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fcGFyZW50U3Vic2NyaWJlciA9IF9wYXJlbnRTdWJzY3JpYmVyO1xuICAgICAgICB2YXIgbmV4dDtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBfdGhpcztcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob2JzZXJ2ZXJPck5leHQpKSB7XG4gICAgICAgICAgICBuZXh0ID0gb2JzZXJ2ZXJPck5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAob2JzZXJ2ZXJPck5leHQpIHtcbiAgICAgICAgICAgIG5leHQgPSBvYnNlcnZlck9yTmV4dC5uZXh0O1xuICAgICAgICAgICAgZXJyb3IgPSBvYnNlcnZlck9yTmV4dC5lcnJvcjtcbiAgICAgICAgICAgIGNvbXBsZXRlID0gb2JzZXJ2ZXJPck5leHQuY29tcGxldGU7XG4gICAgICAgICAgICBpZiAob2JzZXJ2ZXJPck5leHQgIT09IGVtcHR5T2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgICAgICBjb250ZXh0ID0gT2JqZWN0LmNyZWF0ZShvYnNlcnZlck9yTmV4dCk7XG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oY29udGV4dC51bnN1YnNjcmliZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuYWRkKGNvbnRleHQudW5zdWJzY3JpYmUuYmluZChjb250ZXh0KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnRleHQudW5zdWJzY3JpYmUgPSBfdGhpcy51bnN1YnNjcmliZS5iaW5kKF90aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5fY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIF90aGlzLl9uZXh0ID0gbmV4dDtcbiAgICAgICAgX3RoaXMuX2Vycm9yID0gZXJyb3I7XG4gICAgICAgIF90aGlzLl9jb21wbGV0ZSA9IGNvbXBsZXRlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQgJiYgdGhpcy5fbmV4dCkge1xuICAgICAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgICAgIGlmICghY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfHwgIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX190cnlPclVuc3ViKHRoaXMuX25leHQsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuX190cnlPclNldEVycm9yKF9wYXJlbnRTdWJzY3JpYmVyLCB0aGlzLl9uZXh0LCB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFNhZmVTdWJzY3JpYmVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgICAgIHZhciB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nID0gY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmc7XG4gICAgICAgICAgICBpZiAodGhpcy5fZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfHwgIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9lcnJvciwgZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fX3RyeU9yU2V0RXJyb3IoX3BhcmVudFN1YnNjcmliZXIsIHRoaXMuX2Vycm9yLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICBpZiAodXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgX3BhcmVudFN1YnNjcmliZXIuc3luY0Vycm9yVmFsdWUgPSBlcnI7XG4gICAgICAgICAgICAgICAgICAgIF9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBob3N0UmVwb3J0RXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICghdGhpcy5pc1N0b3BwZWQpIHtcbiAgICAgICAgICAgIHZhciBfcGFyZW50U3Vic2NyaWJlciA9IHRoaXMuX3BhcmVudFN1YnNjcmliZXI7XG4gICAgICAgICAgICBpZiAodGhpcy5fY29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgd3JhcHBlZENvbXBsZXRlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuX2NvbXBsZXRlLmNhbGwoX3RoaXMuX2NvbnRleHQpOyB9O1xuICAgICAgICAgICAgICAgIGlmICghY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcgfHwgIV9wYXJlbnRTdWJzY3JpYmVyLnN5bmNFcnJvclRocm93YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JVbnN1Yih3cmFwcGVkQ29tcGxldGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9fdHJ5T3JTZXRFcnJvcihfcGFyZW50U3Vic2NyaWJlciwgd3JhcHBlZENvbXBsZXRlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLl9fdHJ5T3JVbnN1YiA9IGZ1bmN0aW9uIChmbiwgdmFsdWUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZuLmNhbGwodGhpcy5fY29udGV4dCwgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhvc3RSZXBvcnRFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBTYWZlU3Vic2NyaWJlci5wcm90b3R5cGUuX190cnlPclNldEVycm9yID0gZnVuY3Rpb24gKHBhcmVudCwgZm4sIHZhbHVlKSB7XG4gICAgICAgIGlmICghY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignYmFkIGNhbGwnKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm4uY2FsbCh0aGlzLl9jb250ZXh0LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICAgICAgcGFyZW50LnN5bmNFcnJvclZhbHVlID0gZXJyO1xuICAgICAgICAgICAgICAgIHBhcmVudC5zeW5jRXJyb3JUaHJvd24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaG9zdFJlcG9ydEVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgU2FmZVN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9wYXJlbnRTdWJzY3JpYmVyID0gdGhpcy5fcGFyZW50U3Vic2NyaWJlcjtcbiAgICAgICAgdGhpcy5fY29udGV4dCA9IG51bGw7XG4gICAgICAgIHRoaXMuX3BhcmVudFN1YnNjcmliZXIgPSBudWxsO1xuICAgICAgICBfcGFyZW50U3Vic2NyaWJlci51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIFNhZmVTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBTYWZlU3Vic2NyaWJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3Vic2NyaWJlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGNhblJlcG9ydEVycm9yKG9ic2VydmVyKSB7XG4gICAgd2hpbGUgKG9ic2VydmVyKSB7XG4gICAgICAgIHZhciBfYSA9IG9ic2VydmVyLCBjbG9zZWRfMSA9IF9hLmNsb3NlZCwgZGVzdGluYXRpb24gPSBfYS5kZXN0aW5hdGlvbiwgaXNTdG9wcGVkID0gX2EuaXNTdG9wcGVkO1xuICAgICAgICBpZiAoY2xvc2VkXzEgfHwgaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGVzdGluYXRpb24gJiYgZGVzdGluYXRpb24gaW5zdGFuY2VvZiBTdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICBvYnNlcnZlciA9IGRlc3RpbmF0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgb2JzZXJ2ZXIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FuUmVwb3J0RXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgdmFyIG9ic2VydmFibGUgPSB0eXBlb2YgU3ltYm9sID09PSAnZnVuY3Rpb24nICYmIFN5bWJvbC5vYnNlcnZhYmxlIHx8ICdAQG9ic2VydmFibGUnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2JzZXJ2YWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBub29wKCkgeyB9XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub29wLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfbm9vcCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi9ub29wJztcbmV4cG9ydCBmdW5jdGlvbiBwaXBlKCkge1xuICAgIHZhciBmbnMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBmbnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgcmV0dXJuIHBpcGVGcm9tQXJyYXkoZm5zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwaXBlRnJvbUFycmF5KGZucykge1xuICAgIGlmICghZm5zKSB7XG4gICAgICAgIHJldHVybiBub29wO1xuICAgIH1cbiAgICBpZiAoZm5zLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gZm5zWzBdO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gcGlwZWQoaW5wdXQpIHtcbiAgICAgICAgcmV0dXJuIGZucy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGZuKSB7IHJldHVybiBmbihwcmV2KTsgfSwgaW5wdXQpO1xuICAgIH07XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1waXBlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfdXRpbF9jYW5SZXBvcnRFcnJvcixfdXRpbF90b1N1YnNjcmliZXIsX3N5bWJvbF9vYnNlcnZhYmxlLF91dGlsX3BpcGUsX2NvbmZpZyBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBjYW5SZXBvcnRFcnJvciB9IGZyb20gJy4vdXRpbC9jYW5SZXBvcnRFcnJvcic7XG5pbXBvcnQgeyB0b1N1YnNjcmliZXIgfSBmcm9tICcuL3V0aWwvdG9TdWJzY3JpYmVyJztcbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuL3N5bWJvbC9vYnNlcnZhYmxlJztcbmltcG9ydCB7IHBpcGVGcm9tQXJyYXkgfSBmcm9tICcuL3V0aWwvcGlwZSc7XG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XG52YXIgT2JzZXJ2YWJsZSA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBPYnNlcnZhYmxlKHN1YnNjcmliZSkge1xuICAgICAgICB0aGlzLl9pc1NjYWxhciA9IGZhbHNlO1xuICAgICAgICBpZiAoc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICB0aGlzLl9zdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUubGlmdCA9IGZ1bmN0aW9uIChvcGVyYXRvcikge1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgICAgIG9ic2VydmFibGUuc291cmNlID0gdGhpcztcbiAgICAgICAgb2JzZXJ2YWJsZS5vcGVyYXRvciA9IG9wZXJhdG9yO1xuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChvYnNlcnZlck9yTmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBvcGVyYXRvciA9IHRoaXMub3BlcmF0b3I7XG4gICAgICAgIHZhciBzaW5rID0gdG9TdWJzY3JpYmVyKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpO1xuICAgICAgICBpZiAob3BlcmF0b3IpIHtcbiAgICAgICAgICAgIHNpbmsuYWRkKG9wZXJhdG9yLmNhbGwoc2luaywgdGhpcy5zb3VyY2UpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHNpbmsuYWRkKHRoaXMuc291cmNlIHx8IChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyAmJiAhc2luay5zeW5jRXJyb3JUaHJvd2FibGUpID9cbiAgICAgICAgICAgICAgICB0aGlzLl9zdWJzY3JpYmUoc2luaykgOlxuICAgICAgICAgICAgICAgIHRoaXMuX3RyeVN1YnNjcmliZShzaW5rKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKSB7XG4gICAgICAgICAgICBpZiAoc2luay5zeW5jRXJyb3JUaHJvd2FibGUpIHtcbiAgICAgICAgICAgICAgICBzaW5rLnN5bmNFcnJvclRocm93YWJsZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChzaW5rLnN5bmNFcnJvclRocm93bikge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBzaW5rLnN5bmNFcnJvclZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2luaztcbiAgICB9O1xuICAgIE9ic2VydmFibGUucHJvdG90eXBlLl90cnlTdWJzY3JpYmUgPSBmdW5jdGlvbiAoc2luaykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3N1YnNjcmliZShzaW5rKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcbiAgICAgICAgICAgICAgICBzaW5rLnN5bmNFcnJvclRocm93biA9IHRydWU7XG4gICAgICAgICAgICAgICAgc2luay5zeW5jRXJyb3JWYWx1ZSA9IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjYW5SZXBvcnRFcnJvcihzaW5rKSkge1xuICAgICAgICAgICAgICAgIHNpbmsuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKG5leHQsIHByb21pc2VDdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHByb21pc2VDdG9yID0gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpO1xuICAgICAgICByZXR1cm4gbmV3IHByb21pc2VDdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciBzdWJzY3JpcHRpb247XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBfdGhpcy5zdWJzY3JpYmUoZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgcmVqZWN0LCByZXNvbHZlKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICByZXR1cm4gc291cmNlICYmIHNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfTtcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZVtTeW1ib2xfb2JzZXJ2YWJsZV0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUucGlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9wZXJhdGlvbnMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIG9wZXJhdGlvbnNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3BlcmF0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwaXBlRnJvbUFycmF5KG9wZXJhdGlvbnMpKHRoaXMpO1xuICAgIH07XG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUudG9Qcm9taXNlID0gZnVuY3Rpb24gKHByb21pc2VDdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHByb21pc2VDdG9yID0gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpO1xuICAgICAgICByZXR1cm4gbmV3IHByb21pc2VDdG9yKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgICAgIF90aGlzLnN1YnNjcmliZShmdW5jdGlvbiAoeCkgeyByZXR1cm4gdmFsdWUgPSB4OyB9LCBmdW5jdGlvbiAoZXJyKSB7IHJldHVybiByZWplY3QoZXJyKTsgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVzb2x2ZSh2YWx1ZSk7IH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE9ic2VydmFibGUuY3JlYXRlID0gZnVuY3Rpb24gKHN1YnNjcmliZSkge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoc3Vic2NyaWJlKTtcbiAgICB9O1xuICAgIHJldHVybiBPYnNlcnZhYmxlO1xufSgpKTtcbmV4cG9ydCB7IE9ic2VydmFibGUgfTtcbmZ1bmN0aW9uIGdldFByb21pc2VDdG9yKHByb21pc2VDdG9yKSB7XG4gICAgaWYgKCFwcm9taXNlQ3Rvcikge1xuICAgICAgICBwcm9taXNlQ3RvciA9IGNvbmZpZy5Qcm9taXNlIHx8IFByb21pc2U7XG4gICAgfVxuICAgIGlmICghcHJvbWlzZUN0b3IpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdubyBQcm9taXNlIGltcGwgZm91bmQnKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2VDdG9yO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9T2JzZXJ2YWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX1N1YnNjcmliZXIsX3N5bWJvbF9yeFN1YnNjcmliZXIsX09ic2VydmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IHJ4U3Vic2NyaWJlciBhcyByeFN1YnNjcmliZXJTeW1ib2wgfSBmcm9tICcuLi9zeW1ib2wvcnhTdWJzY3JpYmVyJztcbmltcG9ydCB7IGVtcHR5IGFzIGVtcHR5T2JzZXJ2ZXIgfSBmcm9tICcuLi9PYnNlcnZlcic7XG5leHBvcnQgZnVuY3Rpb24gdG9TdWJzY3JpYmVyKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpIHtcbiAgICBpZiAobmV4dE9yT2JzZXJ2ZXIpIHtcbiAgICAgICAgaWYgKG5leHRPck9ic2VydmVyIGluc3RhbmNlb2YgU3Vic2NyaWJlcikge1xuICAgICAgICAgICAgcmV0dXJuIG5leHRPck9ic2VydmVyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuZXh0T3JPYnNlcnZlcltyeFN1YnNjcmliZXJTeW1ib2xdKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV4dE9yT2JzZXJ2ZXJbcnhTdWJzY3JpYmVyU3ltYm9sXSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghbmV4dE9yT2JzZXJ2ZXIgJiYgIWVycm9yICYmICFjb21wbGV0ZSkge1xuICAgICAgICByZXR1cm4gbmV3IFN1YnNjcmliZXIoZW1wdHlPYnNlcnZlcik7XG4gICAgfVxuICAgIHJldHVybiBuZXcgU3Vic2NyaWJlcihuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRvU3Vic2NyaWJlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmZ1bmN0aW9uIE9iamVjdFVuc3Vic2NyaWJlZEVycm9ySW1wbCgpIHtcbiAgICBFcnJvci5jYWxsKHRoaXMpO1xuICAgIHRoaXMubWVzc2FnZSA9ICdvYmplY3QgdW5zdWJzY3JpYmVkJztcbiAgICB0aGlzLm5hbWUgPSAnT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xuICAgIHJldHVybiB0aGlzO1xufVxuT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3JJbXBsLnByb3RvdHlwZSA9IC8qQF9fUFVSRV9fKi8gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuZXhwb3J0IHZhciBPYmplY3RVbnN1YnNjcmliZWRFcnJvciA9IE9iamVjdFVuc3Vic2NyaWJlZEVycm9ySW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9iamVjdFVuc3Vic2NyaWJlZEVycm9yLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaXB0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XG52YXIgU3ViamVjdFN1YnNjcmlwdGlvbiA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhTdWJqZWN0U3Vic2NyaXB0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YmplY3RTdWJzY3JpcHRpb24oc3ViamVjdCwgc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zdWJqZWN0ID0gc3ViamVjdDtcbiAgICAgICAgX3RoaXMuc3Vic2NyaWJlciA9IHN1YnNjcmliZXI7XG4gICAgICAgIF90aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN1YmplY3RTdWJzY3JpcHRpb24ucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNsb3NlZCA9IHRydWU7XG4gICAgICAgIHZhciBzdWJqZWN0ID0gdGhpcy5zdWJqZWN0O1xuICAgICAgICB2YXIgb2JzZXJ2ZXJzID0gc3ViamVjdC5vYnNlcnZlcnM7XG4gICAgICAgIHRoaXMuc3ViamVjdCA9IG51bGw7XG4gICAgICAgIGlmICghb2JzZXJ2ZXJzIHx8IG9ic2VydmVycy5sZW5ndGggPT09IDAgfHwgc3ViamVjdC5pc1N0b3BwZWQgfHwgc3ViamVjdC5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3Vic2NyaWJlckluZGV4ID0gb2JzZXJ2ZXJzLmluZGV4T2YodGhpcy5zdWJzY3JpYmVyKTtcbiAgICAgICAgaWYgKHN1YnNjcmliZXJJbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgIG9ic2VydmVycy5zcGxpY2Uoc3Vic2NyaWJlckluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFN1YmplY3RTdWJzY3JpcHRpb247XG59KFN1YnNjcmlwdGlvbikpO1xuZXhwb3J0IHsgU3ViamVjdFN1YnNjcmlwdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3ViamVjdFN1YnNjcmlwdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX09ic2VydmFibGUsX1N1YnNjcmliZXIsX1N1YnNjcmlwdGlvbixfdXRpbF9PYmplY3RVbnN1YnNjcmliZWRFcnJvcixfU3ViamVjdFN1YnNjcmlwdGlvbixfaW50ZXJuYWxfc3ltYm9sX3J4U3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbmltcG9ydCB7IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yIH0gZnJvbSAnLi91dGlsL09iamVjdFVuc3Vic2NyaWJlZEVycm9yJztcbmltcG9ydCB7IFN1YmplY3RTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YmplY3RTdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgcnhTdWJzY3JpYmVyIGFzIHJ4U3Vic2NyaWJlclN5bWJvbCB9IGZyb20gJy4uL2ludGVybmFsL3N5bWJvbC9yeFN1YnNjcmliZXInO1xudmFyIFN1YmplY3RTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN1YmplY3RTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFN1YmplY3RTdWJzY3JpYmVyKGRlc3RpbmF0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIHJldHVybiBTdWJqZWN0U3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgU3ViamVjdFN1YnNjcmliZXIgfTtcbnZhciBTdWJqZWN0ID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFN1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gU3ViamVjdCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMub2JzZXJ2ZXJzID0gW107XG4gICAgICAgIF90aGlzLmNsb3NlZCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuaGFzRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMudGhyb3duRXJyb3IgPSBudWxsO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFN1YmplY3QucHJvdG90eXBlW3J4U3Vic2NyaWJlclN5bWJvbF0gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU3ViamVjdFN1YnNjcmliZXIodGhpcyk7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5saWZ0ID0gZnVuY3Rpb24gKG9wZXJhdG9yKSB7XG4gICAgICAgIHZhciBzdWJqZWN0ID0gbmV3IEFub255bW91c1N1YmplY3QodGhpcywgdGhpcyk7XG4gICAgICAgIHN1YmplY3Qub3BlcmF0b3IgPSBvcGVyYXRvcjtcbiAgICAgICAgcmV0dXJuIHN1YmplY3Q7XG4gICAgfTtcbiAgICBTdWJqZWN0LnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdmFyIG9ic2VydmVycyA9IHRoaXMub2JzZXJ2ZXJzO1xuICAgICAgICAgICAgdmFyIGxlbiA9IG9ic2VydmVycy5sZW5ndGg7XG4gICAgICAgICAgICB2YXIgY29weSA9IG9ic2VydmVycy5zbGljZSgpO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGNvcHlbaV0ubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICB0aGlzLnRocm93bkVycm9yID0gZXJyO1xuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHZhciBvYnNlcnZlcnMgPSB0aGlzLm9ic2VydmVycztcbiAgICAgICAgdmFyIGxlbiA9IG9ic2VydmVycy5sZW5ndGg7XG4gICAgICAgIHZhciBjb3B5ID0gb2JzZXJ2ZXJzLnNsaWNlKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGNvcHlbaV0uZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9ic2VydmVycy5sZW5ndGggPSAwO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xuICAgICAgICB2YXIgb2JzZXJ2ZXJzID0gdGhpcy5vYnNlcnZlcnM7XG4gICAgICAgIHZhciBsZW4gPSBvYnNlcnZlcnMubGVuZ3RoO1xuICAgICAgICB2YXIgY29weSA9IG9ic2VydmVycy5zbGljZSgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBjb3B5W2ldLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vYnNlcnZlcnMubGVuZ3RoID0gMDtcbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XG4gICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMgPSBudWxsO1xuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuX3RyeVN1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlLmNhbGwodGhpcywgc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFN1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaGFzRXJyb3IpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IodGhpcy50aHJvd25FcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlcnMucHVzaChzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU3ViamVjdFN1YnNjcmlwdGlvbih0aGlzLCBzdWJzY3JpYmVyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU3ViamVjdC5wcm90b3R5cGUuYXNPYnNlcnZhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XG4gICAgICAgIG9ic2VydmFibGUuc291cmNlID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG9ic2VydmFibGU7XG4gICAgfTtcbiAgICBTdWJqZWN0LmNyZWF0ZSA9IGZ1bmN0aW9uIChkZXN0aW5hdGlvbiwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQW5vbnltb3VzU3ViamVjdChkZXN0aW5hdGlvbiwgc291cmNlKTtcbiAgICB9O1xuICAgIHJldHVybiBTdWJqZWN0O1xufShPYnNlcnZhYmxlKSk7XG5leHBvcnQgeyBTdWJqZWN0IH07XG52YXIgQW5vbnltb3VzU3ViamVjdCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBbm9ueW1vdXNTdWJqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFub255bW91c1N1YmplY3QoZGVzdGluYXRpb24sIHNvdXJjZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IGRlc3RpbmF0aW9uO1xuICAgICAgICBfdGhpcy5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBpZiAoZGVzdGluYXRpb24gJiYgZGVzdGluYXRpb24ubmV4dCkge1xuICAgICAgICAgICAgZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFub255bW91c1N1YmplY3QucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBpZiAoZGVzdGluYXRpb24gJiYgZGVzdGluYXRpb24uZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQW5vbnltb3VzU3ViamVjdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGlmIChkZXN0aW5hdGlvbiAmJiBkZXN0aW5hdGlvbi5jb21wbGV0ZSkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBbm9ueW1vdXNTdWJqZWN0LnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHNvdXJjZSA9IHRoaXMuc291cmNlO1xuICAgICAgICBpZiAoc291cmNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zb3VyY2Uuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFN1YnNjcmlwdGlvbi5FTVBUWTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFub255bW91c1N1YmplY3Q7XG59KFN1YmplY3QpKTtcbmV4cG9ydCB7IEFub255bW91c1N1YmplY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVN1YmplY3QuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gcmVmQ291bnQoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIHJlZkNvdW50T3BlcmF0b3JGdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBSZWZDb3VudE9wZXJhdG9yKHNvdXJjZSkpO1xuICAgIH07XG59XG52YXIgUmVmQ291bnRPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWZDb3VudE9wZXJhdG9yKGNvbm5lY3RhYmxlKSB7XG4gICAgICAgIHRoaXMuY29ubmVjdGFibGUgPSBjb25uZWN0YWJsZTtcbiAgICB9XG4gICAgUmVmQ291bnRPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgdmFyIGNvbm5lY3RhYmxlID0gdGhpcy5jb25uZWN0YWJsZTtcbiAgICAgICAgY29ubmVjdGFibGUuX3JlZkNvdW50Kys7XG4gICAgICAgIHZhciByZWZDb3VudGVyID0gbmV3IFJlZkNvdW50U3Vic2NyaWJlcihzdWJzY3JpYmVyLCBjb25uZWN0YWJsZSk7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSBzb3VyY2Uuc3Vic2NyaWJlKHJlZkNvdW50ZXIpO1xuICAgICAgICBpZiAoIXJlZkNvdW50ZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICByZWZDb3VudGVyLmNvbm5lY3Rpb24gPSBjb25uZWN0YWJsZS5jb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICB9O1xuICAgIHJldHVybiBSZWZDb3VudE9wZXJhdG9yO1xufSgpKTtcbnZhciBSZWZDb3VudFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoUmVmQ291bnRTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlZkNvdW50U3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgY29ubmVjdGFibGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNvbm5lY3RhYmxlID0gY29ubmVjdGFibGU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUmVmQ291bnRTdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb25uZWN0YWJsZSA9IHRoaXMuY29ubmVjdGFibGU7XG4gICAgICAgIGlmICghY29ubmVjdGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25uZWN0YWJsZSA9IG51bGw7XG4gICAgICAgIHZhciByZWZDb3VudCA9IGNvbm5lY3RhYmxlLl9yZWZDb3VudDtcbiAgICAgICAgaWYgKHJlZkNvdW50IDw9IDApIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29ubmVjdGFibGUuX3JlZkNvdW50ID0gcmVmQ291bnQgLSAxO1xuICAgICAgICBpZiAocmVmQ291bnQgPiAxKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb25uZWN0aW9uID0gdGhpcy5jb25uZWN0aW9uO1xuICAgICAgICB2YXIgc2hhcmVkQ29ubmVjdGlvbiA9IGNvbm5lY3RhYmxlLl9jb25uZWN0aW9uO1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICBpZiAoc2hhcmVkQ29ubmVjdGlvbiAmJiAoIWNvbm5lY3Rpb24gfHwgc2hhcmVkQ29ubmVjdGlvbiA9PT0gY29ubmVjdGlvbikpIHtcbiAgICAgICAgICAgIHNoYXJlZENvbm5lY3Rpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFJlZkNvdW50U3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVmQ291bnQuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJqZWN0LF9PYnNlcnZhYmxlLF9TdWJzY3JpYmVyLF9TdWJzY3JpcHRpb24sX29wZXJhdG9yc19yZWZDb3VudCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3ViamVjdFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJqZWN0JztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5pbXBvcnQgeyByZWZDb3VudCBhcyBoaWdoZXJPcmRlclJlZkNvdW50IH0gZnJvbSAnLi4vb3BlcmF0b3JzL3JlZkNvdW50JztcbnZhciBDb25uZWN0YWJsZU9ic2VydmFibGUgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQ29ubmVjdGFibGVPYnNlcnZhYmxlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIENvbm5lY3RhYmxlT2JzZXJ2YWJsZShzb3VyY2UsIHN1YmplY3RGYWN0b3J5KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNvdXJjZSA9IHNvdXJjZTtcbiAgICAgICAgX3RoaXMuc3ViamVjdEZhY3RvcnkgPSBzdWJqZWN0RmFjdG9yeTtcbiAgICAgICAgX3RoaXMuX3JlZkNvdW50ID0gMDtcbiAgICAgICAgX3RoaXMuX2lzQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBDb25uZWN0YWJsZU9ic2VydmFibGUucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRTdWJqZWN0KCkuc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgIH07XG4gICAgQ29ubmVjdGFibGVPYnNlcnZhYmxlLnByb3RvdHlwZS5nZXRTdWJqZWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3ViamVjdCA9IHRoaXMuX3N1YmplY3Q7XG4gICAgICAgIGlmICghc3ViamVjdCB8fCBzdWJqZWN0LmlzU3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5fc3ViamVjdCA9IHRoaXMuc3ViamVjdEZhY3RvcnkoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fc3ViamVjdDtcbiAgICB9O1xuICAgIENvbm5lY3RhYmxlT2JzZXJ2YWJsZS5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbm5lY3Rpb24gPSB0aGlzLl9jb25uZWN0aW9uO1xuICAgICAgICBpZiAoIWNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuX2lzQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbm5lY3Rpb24gPSB0aGlzLl9jb25uZWN0aW9uID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICAgICAgY29ubmVjdGlvbi5hZGQodGhpcy5zb3VyY2VcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKG5ldyBDb25uZWN0YWJsZVN1YnNjcmliZXIodGhpcy5nZXRTdWJqZWN0KCksIHRoaXMpKSk7XG4gICAgICAgICAgICBpZiAoY29ubmVjdGlvbi5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb25uZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uID0gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb25uZWN0aW9uO1xuICAgIH07XG4gICAgQ29ubmVjdGFibGVPYnNlcnZhYmxlLnByb3RvdHlwZS5yZWZDb3VudCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGhpZ2hlck9yZGVyUmVmQ291bnQoKSh0aGlzKTtcbiAgICB9O1xuICAgIHJldHVybiBDb25uZWN0YWJsZU9ic2VydmFibGU7XG59KE9ic2VydmFibGUpKTtcbmV4cG9ydCB7IENvbm5lY3RhYmxlT2JzZXJ2YWJsZSB9O1xudmFyIGNvbm5lY3RhYmxlUHJvdG8gPSBDb25uZWN0YWJsZU9ic2VydmFibGUucHJvdG90eXBlO1xuZXhwb3J0IHZhciBjb25uZWN0YWJsZU9ic2VydmFibGVEZXNjcmlwdG9yID0ge1xuICAgIG9wZXJhdG9yOiB7IHZhbHVlOiBudWxsIH0sXG4gICAgX3JlZkNvdW50OiB7IHZhbHVlOiAwLCB3cml0YWJsZTogdHJ1ZSB9LFxuICAgIF9zdWJqZWN0OiB7IHZhbHVlOiBudWxsLCB3cml0YWJsZTogdHJ1ZSB9LFxuICAgIF9jb25uZWN0aW9uOiB7IHZhbHVlOiBudWxsLCB3cml0YWJsZTogdHJ1ZSB9LFxuICAgIF9zdWJzY3JpYmU6IHsgdmFsdWU6IGNvbm5lY3RhYmxlUHJvdG8uX3N1YnNjcmliZSB9LFxuICAgIF9pc0NvbXBsZXRlOiB7IHZhbHVlOiBjb25uZWN0YWJsZVByb3RvLl9pc0NvbXBsZXRlLCB3cml0YWJsZTogdHJ1ZSB9LFxuICAgIGdldFN1YmplY3Q6IHsgdmFsdWU6IGNvbm5lY3RhYmxlUHJvdG8uZ2V0U3ViamVjdCB9LFxuICAgIGNvbm5lY3Q6IHsgdmFsdWU6IGNvbm5lY3RhYmxlUHJvdG8uY29ubmVjdCB9LFxuICAgIHJlZkNvdW50OiB7IHZhbHVlOiBjb25uZWN0YWJsZVByb3RvLnJlZkNvdW50IH1cbn07XG52YXIgQ29ubmVjdGFibGVTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKENvbm5lY3RhYmxlU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBDb25uZWN0YWJsZVN1YnNjcmliZXIoZGVzdGluYXRpb24sIGNvbm5lY3RhYmxlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5jb25uZWN0YWJsZSA9IGNvbm5lY3RhYmxlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIENvbm5lY3RhYmxlU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aGlzLl91bnN1YnNjcmliZSgpO1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLl9lcnJvci5jYWxsKHRoaXMsIGVycik7XG4gICAgfTtcbiAgICBDb25uZWN0YWJsZVN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0YWJsZS5faXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuX3Vuc3Vic2NyaWJlKCk7XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUuX2NvbXBsZXRlLmNhbGwodGhpcyk7XG4gICAgfTtcbiAgICBDb25uZWN0YWJsZVN1YnNjcmliZXIucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbm5lY3RhYmxlID0gdGhpcy5jb25uZWN0YWJsZTtcbiAgICAgICAgaWYgKGNvbm5lY3RhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3RhYmxlID0gbnVsbDtcbiAgICAgICAgICAgIHZhciBjb25uZWN0aW9uID0gY29ubmVjdGFibGUuX2Nvbm5lY3Rpb247XG4gICAgICAgICAgICBjb25uZWN0YWJsZS5fcmVmQ291bnQgPSAwO1xuICAgICAgICAgICAgY29ubmVjdGFibGUuX3N1YmplY3QgPSBudWxsO1xuICAgICAgICAgICAgY29ubmVjdGFibGUuX2Nvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgaWYgKGNvbm5lY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBjb25uZWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBDb25uZWN0YWJsZVN1YnNjcmliZXI7XG59KFN1YmplY3RTdWJzY3JpYmVyKSk7XG52YXIgUmVmQ291bnRPcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZWZDb3VudE9wZXJhdG9yKGNvbm5lY3RhYmxlKSB7XG4gICAgICAgIHRoaXMuY29ubmVjdGFibGUgPSBjb25uZWN0YWJsZTtcbiAgICB9XG4gICAgUmVmQ291bnRPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgdmFyIGNvbm5lY3RhYmxlID0gdGhpcy5jb25uZWN0YWJsZTtcbiAgICAgICAgY29ubmVjdGFibGUuX3JlZkNvdW50Kys7XG4gICAgICAgIHZhciByZWZDb3VudGVyID0gbmV3IFJlZkNvdW50U3Vic2NyaWJlcihzdWJzY3JpYmVyLCBjb25uZWN0YWJsZSk7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSBzb3VyY2Uuc3Vic2NyaWJlKHJlZkNvdW50ZXIpO1xuICAgICAgICBpZiAoIXJlZkNvdW50ZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICByZWZDb3VudGVyLmNvbm5lY3Rpb24gPSBjb25uZWN0YWJsZS5jb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICB9O1xuICAgIHJldHVybiBSZWZDb3VudE9wZXJhdG9yO1xufSgpKTtcbnZhciBSZWZDb3VudFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoUmVmQ291bnRTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJlZkNvdW50U3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgY29ubmVjdGFibGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmNvbm5lY3RhYmxlID0gY29ubmVjdGFibGU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUmVmQ291bnRTdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb25uZWN0YWJsZSA9IHRoaXMuY29ubmVjdGFibGU7XG4gICAgICAgIGlmICghY29ubmVjdGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25uZWN0YWJsZSA9IG51bGw7XG4gICAgICAgIHZhciByZWZDb3VudCA9IGNvbm5lY3RhYmxlLl9yZWZDb3VudDtcbiAgICAgICAgaWYgKHJlZkNvdW50IDw9IDApIHtcbiAgICAgICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29ubmVjdGFibGUuX3JlZkNvdW50ID0gcmVmQ291bnQgLSAxO1xuICAgICAgICBpZiAocmVmQ291bnQgPiAxKSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjb25uZWN0aW9uID0gdGhpcy5jb25uZWN0aW9uO1xuICAgICAgICB2YXIgc2hhcmVkQ29ubmVjdGlvbiA9IGNvbm5lY3RhYmxlLl9jb25uZWN0aW9uO1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBudWxsO1xuICAgICAgICBpZiAoc2hhcmVkQ29ubmVjdGlvbiAmJiAoIWNvbm5lY3Rpb24gfHwgc2hhcmVkQ29ubmVjdGlvbiA9PT0gY29ubmVjdGlvbikpIHtcbiAgICAgICAgICAgIHNoYXJlZENvbm5lY3Rpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFJlZkNvdW50U3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29ubmVjdGFibGVPYnNlcnZhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlcixfU3Vic2NyaXB0aW9uLF9PYnNlcnZhYmxlLF9TdWJqZWN0IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4uL1N1YmplY3QnO1xuZXhwb3J0IGZ1bmN0aW9uIGdyb3VwQnkoa2V5U2VsZWN0b3IsIGVsZW1lbnRTZWxlY3RvciwgZHVyYXRpb25TZWxlY3Rvciwgc3ViamVjdFNlbGVjdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBHcm91cEJ5T3BlcmF0b3Ioa2V5U2VsZWN0b3IsIGVsZW1lbnRTZWxlY3RvciwgZHVyYXRpb25TZWxlY3Rvciwgc3ViamVjdFNlbGVjdG9yKSk7XG4gICAgfTtcbn1cbnZhciBHcm91cEJ5T3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gR3JvdXBCeU9wZXJhdG9yKGtleVNlbGVjdG9yLCBlbGVtZW50U2VsZWN0b3IsIGR1cmF0aW9uU2VsZWN0b3IsIHN1YmplY3RTZWxlY3Rvcikge1xuICAgICAgICB0aGlzLmtleVNlbGVjdG9yID0ga2V5U2VsZWN0b3I7XG4gICAgICAgIHRoaXMuZWxlbWVudFNlbGVjdG9yID0gZWxlbWVudFNlbGVjdG9yO1xuICAgICAgICB0aGlzLmR1cmF0aW9uU2VsZWN0b3IgPSBkdXJhdGlvblNlbGVjdG9yO1xuICAgICAgICB0aGlzLnN1YmplY3RTZWxlY3RvciA9IHN1YmplY3RTZWxlY3RvcjtcbiAgICB9XG4gICAgR3JvdXBCeU9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgR3JvdXBCeVN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5rZXlTZWxlY3RvciwgdGhpcy5lbGVtZW50U2VsZWN0b3IsIHRoaXMuZHVyYXRpb25TZWxlY3RvciwgdGhpcy5zdWJqZWN0U2VsZWN0b3IpKTtcbiAgICB9O1xuICAgIHJldHVybiBHcm91cEJ5T3BlcmF0b3I7XG59KCkpO1xudmFyIEdyb3VwQnlTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEdyb3VwQnlTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEdyb3VwQnlTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBrZXlTZWxlY3RvciwgZWxlbWVudFNlbGVjdG9yLCBkdXJhdGlvblNlbGVjdG9yLCBzdWJqZWN0U2VsZWN0b3IpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmtleVNlbGVjdG9yID0ga2V5U2VsZWN0b3I7XG4gICAgICAgIF90aGlzLmVsZW1lbnRTZWxlY3RvciA9IGVsZW1lbnRTZWxlY3RvcjtcbiAgICAgICAgX3RoaXMuZHVyYXRpb25TZWxlY3RvciA9IGR1cmF0aW9uU2VsZWN0b3I7XG4gICAgICAgIF90aGlzLnN1YmplY3RTZWxlY3RvciA9IHN1YmplY3RTZWxlY3RvcjtcbiAgICAgICAgX3RoaXMuZ3JvdXBzID0gbnVsbDtcbiAgICAgICAgX3RoaXMuYXR0ZW1wdGVkVG9VbnN1YnNjcmliZSA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgR3JvdXBCeVN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBrZXk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBrZXkgPSB0aGlzLmtleVNlbGVjdG9yKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fZ3JvdXAodmFsdWUsIGtleSk7XG4gICAgfTtcbiAgICBHcm91cEJ5U3Vic2NyaWJlci5wcm90b3R5cGUuX2dyb3VwID0gZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgdmFyIGdyb3VwcyA9IHRoaXMuZ3JvdXBzO1xuICAgICAgICBpZiAoIWdyb3Vwcykge1xuICAgICAgICAgICAgZ3JvdXBzID0gdGhpcy5ncm91cHMgPSBuZXcgTWFwKCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGdyb3VwID0gZ3JvdXBzLmdldChrZXkpO1xuICAgICAgICB2YXIgZWxlbWVudDtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudFNlbGVjdG9yKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQgPSB0aGlzLmVsZW1lbnRTZWxlY3Rvcih2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZ3JvdXApIHtcbiAgICAgICAgICAgIGdyb3VwID0gKHRoaXMuc3ViamVjdFNlbGVjdG9yID8gdGhpcy5zdWJqZWN0U2VsZWN0b3IoKSA6IG5ldyBTdWJqZWN0KCkpO1xuICAgICAgICAgICAgZ3JvdXBzLnNldChrZXksIGdyb3VwKTtcbiAgICAgICAgICAgIHZhciBncm91cGVkT2JzZXJ2YWJsZSA9IG5ldyBHcm91cGVkT2JzZXJ2YWJsZShrZXksIGdyb3VwLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChncm91cGVkT2JzZXJ2YWJsZSk7XG4gICAgICAgICAgICBpZiAodGhpcy5kdXJhdGlvblNlbGVjdG9yKSB7XG4gICAgICAgICAgICAgICAgdmFyIGR1cmF0aW9uID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGR1cmF0aW9uID0gdGhpcy5kdXJhdGlvblNlbGVjdG9yKG5ldyBHcm91cGVkT2JzZXJ2YWJsZShrZXksIGdyb3VwKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuYWRkKGR1cmF0aW9uLnN1YnNjcmliZShuZXcgR3JvdXBEdXJhdGlvblN1YnNjcmliZXIoa2V5LCBncm91cCwgdGhpcykpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWdyb3VwLmNsb3NlZCkge1xuICAgICAgICAgICAgZ3JvdXAubmV4dChlbGVtZW50KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgR3JvdXBCeVN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgdmFyIGdyb3VwcyA9IHRoaXMuZ3JvdXBzO1xuICAgICAgICBpZiAoZ3JvdXBzKSB7XG4gICAgICAgICAgICBncm91cHMuZm9yRWFjaChmdW5jdGlvbiAoZ3JvdXAsIGtleSkge1xuICAgICAgICAgICAgICAgIGdyb3VwLmVycm9yKGVycik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGdyb3Vwcy5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICB9O1xuICAgIEdyb3VwQnlTdWJzY3JpYmVyLnByb3RvdHlwZS5fY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBncm91cHMgPSB0aGlzLmdyb3VwcztcbiAgICAgICAgaWYgKGdyb3Vwcykge1xuICAgICAgICAgICAgZ3JvdXBzLmZvckVhY2goZnVuY3Rpb24gKGdyb3VwLCBrZXkpIHtcbiAgICAgICAgICAgICAgICBncm91cC5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBncm91cHMuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICBHcm91cEJ5U3Vic2NyaWJlci5wcm90b3R5cGUucmVtb3ZlR3JvdXAgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHRoaXMuZ3JvdXBzLmRlbGV0ZShrZXkpO1xuICAgIH07XG4gICAgR3JvdXBCeVN1YnNjcmliZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIXRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aGlzLmF0dGVtcHRlZFRvVW5zdWJzY3JpYmUgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuY291bnQgPT09IDApIHtcbiAgICAgICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBHcm91cEJ5U3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xudmFyIEdyb3VwRHVyYXRpb25TdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEdyb3VwRHVyYXRpb25TdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEdyb3VwRHVyYXRpb25TdWJzY3JpYmVyKGtleSwgZ3JvdXAsIHBhcmVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBncm91cCkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMua2V5ID0ga2V5O1xuICAgICAgICBfdGhpcy5ncm91cCA9IGdyb3VwO1xuICAgICAgICBfdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgR3JvdXBEdXJhdGlvblN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuY29tcGxldGUoKTtcbiAgICB9O1xuICAgIEdyb3VwRHVyYXRpb25TdWJzY3JpYmVyLnByb3RvdHlwZS5fdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIHBhcmVudCA9IF9hLnBhcmVudCwga2V5ID0gX2Eua2V5O1xuICAgICAgICB0aGlzLmtleSA9IHRoaXMucGFyZW50ID0gbnVsbDtcbiAgICAgICAgaWYgKHBhcmVudCkge1xuICAgICAgICAgICAgcGFyZW50LnJlbW92ZUdyb3VwKGtleSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBHcm91cER1cmF0aW9uU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xudmFyIEdyb3VwZWRPYnNlcnZhYmxlID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEdyb3VwZWRPYnNlcnZhYmxlLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEdyb3VwZWRPYnNlcnZhYmxlKGtleSwgZ3JvdXBTdWJqZWN0LCByZWZDb3VudFN1YnNjcmlwdGlvbikge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5rZXkgPSBrZXk7XG4gICAgICAgIF90aGlzLmdyb3VwU3ViamVjdCA9IGdyb3VwU3ViamVjdDtcbiAgICAgICAgX3RoaXMucmVmQ291bnRTdWJzY3JpcHRpb24gPSByZWZDb3VudFN1YnNjcmlwdGlvbjtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBHcm91cGVkT2JzZXJ2YWJsZS5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIHJlZkNvdW50U3Vic2NyaXB0aW9uID0gX2EucmVmQ291bnRTdWJzY3JpcHRpb24sIGdyb3VwU3ViamVjdCA9IF9hLmdyb3VwU3ViamVjdDtcbiAgICAgICAgaWYgKHJlZkNvdW50U3Vic2NyaXB0aW9uICYmICFyZWZDb3VudFN1YnNjcmlwdGlvbi5jbG9zZWQpIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5hZGQobmV3IElubmVyUmVmQ291bnRTdWJzY3JpcHRpb24ocmVmQ291bnRTdWJzY3JpcHRpb24pKTtcbiAgICAgICAgfVxuICAgICAgICBzdWJzY3JpcHRpb24uYWRkKGdyb3VwU3ViamVjdC5zdWJzY3JpYmUoc3Vic2NyaWJlcikpO1xuICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgIH07XG4gICAgcmV0dXJuIEdyb3VwZWRPYnNlcnZhYmxlO1xufShPYnNlcnZhYmxlKSk7XG5leHBvcnQgeyBHcm91cGVkT2JzZXJ2YWJsZSB9O1xudmFyIElubmVyUmVmQ291bnRTdWJzY3JpcHRpb24gPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoSW5uZXJSZWZDb3VudFN1YnNjcmlwdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBJbm5lclJlZkNvdW50U3Vic2NyaXB0aW9uKHBhcmVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIHBhcmVudC5jb3VudCsrO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIElubmVyUmVmQ291bnRTdWJzY3JpcHRpb24ucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcGFyZW50ID0gdGhpcy5wYXJlbnQ7XG4gICAgICAgIGlmICghcGFyZW50LmNsb3NlZCAmJiAhdGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKTtcbiAgICAgICAgICAgIHBhcmVudC5jb3VudCAtPSAxO1xuICAgICAgICAgICAgaWYgKHBhcmVudC5jb3VudCA9PT0gMCAmJiBwYXJlbnQuYXR0ZW1wdGVkVG9VbnN1YnNjcmliZSkge1xuICAgICAgICAgICAgICAgIHBhcmVudC51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gSW5uZXJSZWZDb3VudFN1YnNjcmlwdGlvbjtcbn0oU3Vic2NyaXB0aW9uKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ncm91cEJ5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3ViamVjdCxfdXRpbF9PYmplY3RVbnN1YnNjcmliZWRFcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJy4vU3ViamVjdCc7XG5pbXBvcnQgeyBPYmplY3RVbnN1YnNjcmliZWRFcnJvciB9IGZyb20gJy4vdXRpbC9PYmplY3RVbnN1YnNjcmliZWRFcnJvcic7XG52YXIgQmVoYXZpb3JTdWJqZWN0ID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEJlaGF2aW9yU3ViamVjdCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBCZWhhdmlvclN1YmplY3QoX3ZhbHVlKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLl92YWx1ZSA9IF92YWx1ZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQmVoYXZpb3JTdWJqZWN0LnByb3RvdHlwZSwgXCJ2YWx1ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmFsdWUoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgQmVoYXZpb3JTdWJqZWN0LnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IF9zdXBlci5wcm90b3R5cGUuX3N1YnNjcmliZS5jYWxsKHRoaXMsIHN1YnNjcmliZXIpO1xuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uICYmICFzdWJzY3JpcHRpb24uY2xvc2VkKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodGhpcy5fdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJzY3JpcHRpb247XG4gICAgfTtcbiAgICBCZWhhdmlvclN1YmplY3QucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5oYXNFcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgdGhpcy50aHJvd25FcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmNsb3NlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9iamVjdFVuc3Vic2NyaWJlZEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEJlaGF2aW9yU3ViamVjdC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBfc3VwZXIucHJvdG90eXBlLm5leHQuY2FsbCh0aGlzLCB0aGlzLl92YWx1ZSA9IHZhbHVlKTtcbiAgICB9O1xuICAgIHJldHVybiBCZWhhdmlvclN1YmplY3Q7XG59KFN1YmplY3QpKTtcbmV4cG9ydCB7IEJlaGF2aW9yU3ViamVjdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QmVoYXZpb3JTdWJqZWN0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfQWN0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBBY3Rpb24gfSBmcm9tICcuL0FjdGlvbic7XG52YXIgQXN5bmNBY3Rpb24gPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQXN5bmNBY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXN5bmNBY3Rpb24oc2NoZWR1bGVyLCB3b3JrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHNjaGVkdWxlciwgd29yaykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICBfdGhpcy53b3JrID0gd29yaztcbiAgICAgICAgX3RoaXMucGVuZGluZyA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdmFyIGlkID0gdGhpcy5pZDtcbiAgICAgICAgdmFyIHNjaGVkdWxlciA9IHRoaXMuc2NoZWR1bGVyO1xuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQoc2NoZWR1bGVyLCBpZCwgZGVsYXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGVuZGluZyA9IHRydWU7XG4gICAgICAgIHRoaXMuZGVsYXkgPSBkZWxheTtcbiAgICAgICAgdGhpcy5pZCA9IHRoaXMuaWQgfHwgdGhpcy5yZXF1ZXN0QXN5bmNJZChzY2hlZHVsZXIsIHRoaXMuaWQsIGRlbGF5KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUucmVxdWVzdEFzeW5jSWQgPSBmdW5jdGlvbiAoc2NoZWR1bGVyLCBpZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2V0SW50ZXJ2YWwoc2NoZWR1bGVyLmZsdXNoLmJpbmQoc2NoZWR1bGVyLCB0aGlzKSwgZGVsYXkpO1xuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnJlY3ljbGVBc3luY0lkID0gZnVuY3Rpb24gKHNjaGVkdWxlciwgaWQsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbGF5ICE9PSBudWxsICYmIHRoaXMuZGVsYXkgPT09IGRlbGF5ICYmIHRoaXMucGVuZGluZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBpZDtcbiAgICAgICAgfVxuICAgICAgICBjbGVhckludGVydmFsKGlkKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRXJyb3IoJ2V4ZWN1dGluZyBhIGNhbmNlbGxlZCBhY3Rpb24nKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdmFyIGVycm9yID0gdGhpcy5fZXhlY3V0ZShzdGF0ZSwgZGVsYXkpO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnBlbmRpbmcgPT09IGZhbHNlICYmIHRoaXMuaWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQodGhpcy5zY2hlZHVsZXIsIHRoaXMuaWQsIG51bGwpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUuX2V4ZWN1dGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIHZhciBlcnJvcmVkID0gZmFsc2U7XG4gICAgICAgIHZhciBlcnJvclZhbHVlID0gdW5kZWZpbmVkO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy53b3JrKHN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZXJyb3JlZCA9IHRydWU7XG4gICAgICAgICAgICBlcnJvclZhbHVlID0gISFlICYmIGUgfHwgbmV3IEVycm9yKGUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvcmVkKSB7XG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICByZXR1cm4gZXJyb3JWYWx1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLl91bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGlkID0gdGhpcy5pZDtcbiAgICAgICAgdmFyIHNjaGVkdWxlciA9IHRoaXMuc2NoZWR1bGVyO1xuICAgICAgICB2YXIgYWN0aW9ucyA9IHNjaGVkdWxlci5hY3Rpb25zO1xuICAgICAgICB2YXIgaW5kZXggPSBhY3Rpb25zLmluZGV4T2YodGhpcyk7XG4gICAgICAgIHRoaXMud29yayA9IG51bGw7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBudWxsO1xuICAgICAgICB0aGlzLnBlbmRpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZXIgPSBudWxsO1xuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICBhY3Rpb25zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSB0aGlzLnJlY3ljbGVBc3luY0lkKHNjaGVkdWxlciwgaWQsIG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVsYXkgPSBudWxsO1xuICAgIH07XG4gICAgcmV0dXJuIEFzeW5jQWN0aW9uO1xufShBY3Rpb24pKTtcbmV4cG9ydCB7IEFzeW5jQWN0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3luY0FjdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmlwdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbnZhciBBY3Rpb24gPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQWN0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFjdGlvbihzY2hlZHVsZXIsIHdvcmspIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgfVxuICAgIEFjdGlvbi5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICByZXR1cm4gQWN0aW9uO1xufShTdWJzY3JpcHRpb24pKTtcbmV4cG9ydCB7IEFjdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWN0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfQXN5bmNBY3Rpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEFzeW5jQWN0aW9uIH0gZnJvbSAnLi9Bc3luY0FjdGlvbic7XG52YXIgUXVldWVBY3Rpb24gPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoUXVldWVBY3Rpb24sIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUXVldWVBY3Rpb24oc2NoZWR1bGVyLCB3b3JrKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHNjaGVkdWxlciwgd29yaykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICBfdGhpcy53b3JrID0gd29yaztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBRdWV1ZUFjdGlvbi5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAoc3RhdGUsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbGF5ID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuc2NoZWR1bGUuY2FsbCh0aGlzLCBzdGF0ZSwgZGVsYXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVsYXkgPSBkZWxheTtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHN0YXRlO1xuICAgICAgICB0aGlzLnNjaGVkdWxlci5mbHVzaCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBRdWV1ZUFjdGlvbi5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcbiAgICAgICAgcmV0dXJuIChkZWxheSA+IDAgfHwgdGhpcy5jbG9zZWQpID9cbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUuZXhlY3V0ZS5jYWxsKHRoaXMsIHN0YXRlLCBkZWxheSkgOlxuICAgICAgICAgICAgdGhpcy5fZXhlY3V0ZShzdGF0ZSwgZGVsYXkpO1xuICAgIH07XG4gICAgUXVldWVBY3Rpb24ucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkID0gZnVuY3Rpb24gKHNjaGVkdWxlciwgaWQsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChkZWxheSAhPT0gbnVsbCAmJiBkZWxheSA+IDApIHx8IChkZWxheSA9PT0gbnVsbCAmJiB0aGlzLmRlbGF5ID4gMCkpIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkLmNhbGwodGhpcywgc2NoZWR1bGVyLCBpZCwgZGVsYXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzY2hlZHVsZXIuZmx1c2godGhpcyk7XG4gICAgfTtcbiAgICByZXR1cm4gUXVldWVBY3Rpb247XG59KEFzeW5jQWN0aW9uKSk7XG5leHBvcnQgeyBRdWV1ZUFjdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UXVldWVBY3Rpb24uanMubWFwXG4iLCJ2YXIgU2NoZWR1bGVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNjaGVkdWxlcihTY2hlZHVsZXJBY3Rpb24sIG5vdykge1xuICAgICAgICBpZiAobm93ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIG5vdyA9IFNjaGVkdWxlci5ub3c7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5TY2hlZHVsZXJBY3Rpb24gPSBTY2hlZHVsZXJBY3Rpb247XG4gICAgICAgIHRoaXMubm93ID0gbm93O1xuICAgIH1cbiAgICBTY2hlZHVsZXIucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHdvcmssIGRlbGF5LCBzdGF0ZSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgdGhpcy5TY2hlZHVsZXJBY3Rpb24odGhpcywgd29yaykuc2NoZWR1bGUoc3RhdGUsIGRlbGF5KTtcbiAgICB9O1xuICAgIFNjaGVkdWxlci5ub3cgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBEYXRlLm5vdygpOyB9O1xuICAgIHJldHVybiBTY2hlZHVsZXI7XG59KCkpO1xuZXhwb3J0IHsgU2NoZWR1bGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TY2hlZHVsZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFNjaGVkdWxlciB9IGZyb20gJy4uL1NjaGVkdWxlcic7XG52YXIgQXN5bmNTY2hlZHVsZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQXN5bmNTY2hlZHVsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQXN5bmNTY2hlZHVsZXIoU2NoZWR1bGVyQWN0aW9uLCBub3cpIHtcbiAgICAgICAgaWYgKG5vdyA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBub3cgPSBTY2hlZHVsZXIubm93O1xuICAgICAgICB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIFNjaGVkdWxlckFjdGlvbiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKEFzeW5jU2NoZWR1bGVyLmRlbGVnYXRlICYmIEFzeW5jU2NoZWR1bGVyLmRlbGVnYXRlICE9PSBfdGhpcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBBc3luY1NjaGVkdWxlci5kZWxlZ2F0ZS5ub3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBub3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuYWN0aW9ucyA9IFtdO1xuICAgICAgICBfdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVkID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIEFzeW5jU2NoZWR1bGVyLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uICh3b3JrLCBkZWxheSwgc3RhdGUpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoQXN5bmNTY2hlZHVsZXIuZGVsZWdhdGUgJiYgQXN5bmNTY2hlZHVsZXIuZGVsZWdhdGUgIT09IHRoaXMpIHtcbiAgICAgICAgICAgIHJldHVybiBBc3luY1NjaGVkdWxlci5kZWxlZ2F0ZS5zY2hlZHVsZSh3b3JrLCBkZWxheSwgc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuc2NoZWR1bGUuY2FsbCh0aGlzLCB3b3JrLCBkZWxheSwgc3RhdGUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBc3luY1NjaGVkdWxlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIHZhciBhY3Rpb25zID0gdGhpcy5hY3Rpb25zO1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUpIHtcbiAgICAgICAgICAgIGFjdGlvbnMucHVzaChhY3Rpb24pO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlcnJvcjtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBpZiAoZXJyb3IgPSBhY3Rpb24uZXhlY3V0ZShhY3Rpb24uc3RhdGUsIGFjdGlvbi5kZWxheSkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKTtcbiAgICAgICAgdGhpcy5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICB3aGlsZSAoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKSB7XG4gICAgICAgICAgICAgICAgYWN0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEFzeW5jU2NoZWR1bGVyO1xufShTY2hlZHVsZXIpKTtcbmV4cG9ydCB7IEFzeW5jU2NoZWR1bGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3luY1NjaGVkdWxlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX1F1ZXVlQWN0aW9uLF9RdWV1ZVNjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBRdWV1ZUFjdGlvbiB9IGZyb20gJy4vUXVldWVBY3Rpb24nO1xuaW1wb3J0IHsgUXVldWVTY2hlZHVsZXIgfSBmcm9tICcuL1F1ZXVlU2NoZWR1bGVyJztcbmV4cG9ydCB2YXIgcXVldWUgPSAvKkBfX1BVUkVfXyovIG5ldyBRdWV1ZVNjaGVkdWxlcihRdWV1ZUFjdGlvbik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1xdWV1ZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX0FzeW5jU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBBc3luY1NjaGVkdWxlciB9IGZyb20gJy4vQXN5bmNTY2hlZHVsZXInO1xudmFyIFF1ZXVlU2NoZWR1bGVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFF1ZXVlU2NoZWR1bGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFF1ZXVlU2NoZWR1bGVyKCkge1xuICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgfVxuICAgIHJldHVybiBRdWV1ZVNjaGVkdWxlcjtcbn0oQXN5bmNTY2hlZHVsZXIpKTtcbmV4cG9ydCB7IFF1ZXVlU2NoZWR1bGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1RdWV1ZVNjaGVkdWxlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuZXhwb3J0IHZhciBFTVBUWSA9IC8qQF9fUFVSRV9fKi8gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSk7XG5leHBvcnQgZnVuY3Rpb24gZW1wdHkoc2NoZWR1bGVyKSB7XG4gICAgcmV0dXJuIHNjaGVkdWxlciA/IGVtcHR5U2NoZWR1bGVkKHNjaGVkdWxlcikgOiBFTVBUWTtcbn1cbmZ1bmN0aW9uIGVtcHR5U2NoZWR1bGVkKHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikgeyByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfSk7IH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW1wdHkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaXNTY2hlZHVsZXIodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLnNjaGVkdWxlID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNTY2hlZHVsZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgdmFyIHN1YnNjcmliZVRvQXJyYXkgPSBmdW5jdGlvbiAoYXJyYXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbiAmJiAhc3Vic2NyaWJlci5jbG9zZWQ7IGkrKykge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGFycmF5W2ldKTtcbiAgICAgICAgfVxuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUb0FycmF5LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfb2JzZXJ2YWJsZV9lbXB0eSxfb2JzZXJ2YWJsZV9vZixfb2JzZXJ2YWJsZV90aHJvd0Vycm9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGVtcHR5IH0gZnJvbSAnLi9vYnNlcnZhYmxlL2VtcHR5JztcbmltcG9ydCB7IG9mIH0gZnJvbSAnLi9vYnNlcnZhYmxlL29mJztcbmltcG9ydCB7IHRocm93RXJyb3IgfSBmcm9tICcuL29ic2VydmFibGUvdGhyb3dFcnJvcic7XG5leHBvcnQgdmFyIE5vdGlmaWNhdGlvbktpbmQ7XG4vKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoTm90aWZpY2F0aW9uS2luZCkge1xuICAgIE5vdGlmaWNhdGlvbktpbmRbXCJORVhUXCJdID0gXCJOXCI7XG4gICAgTm90aWZpY2F0aW9uS2luZFtcIkVSUk9SXCJdID0gXCJFXCI7XG4gICAgTm90aWZpY2F0aW9uS2luZFtcIkNPTVBMRVRFXCJdID0gXCJDXCI7XG59KShOb3RpZmljYXRpb25LaW5kIHx8IChOb3RpZmljYXRpb25LaW5kID0ge30pKTtcbnZhciBOb3RpZmljYXRpb24gPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTm90aWZpY2F0aW9uKGtpbmQsIHZhbHVlLCBlcnJvcikge1xuICAgICAgICB0aGlzLmtpbmQgPSBraW5kO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgdGhpcy5oYXNWYWx1ZSA9IGtpbmQgPT09ICdOJztcbiAgICB9XG4gICAgTm90aWZpY2F0aW9uLnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24gKG9ic2VydmVyKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5raW5kKSB7XG4gICAgICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JzZXJ2ZXIubmV4dCAmJiBvYnNlcnZlci5uZXh0KHRoaXMudmFsdWUpO1xuICAgICAgICAgICAgY2FzZSAnRSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9ic2VydmVyLmVycm9yICYmIG9ic2VydmVyLmVycm9yKHRoaXMuZXJyb3IpO1xuICAgICAgICAgICAgY2FzZSAnQyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9ic2VydmVyLmNvbXBsZXRlICYmIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE5vdGlmaWNhdGlvbi5wcm90b3R5cGUuZG8gPSBmdW5jdGlvbiAobmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XG4gICAgICAgIHZhciBraW5kID0gdGhpcy5raW5kO1xuICAgICAgICBzd2l0Y2ggKGtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgJ04nOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXh0ICYmIG5leHQodGhpcy52YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3IgJiYgZXJyb3IodGhpcy5lcnJvcik7XG4gICAgICAgICAgICBjYXNlICdDJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gY29tcGxldGUgJiYgY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTm90aWZpY2F0aW9uLnByb3RvdHlwZS5hY2NlcHQgPSBmdW5jdGlvbiAobmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZSkge1xuICAgICAgICBpZiAobmV4dE9yT2JzZXJ2ZXIgJiYgdHlwZW9mIG5leHRPck9ic2VydmVyLm5leHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm9ic2VydmUobmV4dE9yT2JzZXJ2ZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZG8obmV4dE9yT2JzZXJ2ZXIsIGVycm9yLCBjb21wbGV0ZSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIE5vdGlmaWNhdGlvbi5wcm90b3R5cGUudG9PYnNlcnZhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIga2luZCA9IHRoaXMua2luZDtcbiAgICAgICAgc3dpdGNoIChraW5kKSB7XG4gICAgICAgICAgICBjYXNlICdOJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gb2YodGhpcy52YWx1ZSk7XG4gICAgICAgICAgICBjYXNlICdFJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhyb3dFcnJvcih0aGlzLmVycm9yKTtcbiAgICAgICAgICAgIGNhc2UgJ0MnOlxuICAgICAgICAgICAgICAgIHJldHVybiBlbXB0eSgpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigndW5leHBlY3RlZCBub3RpZmljYXRpb24ga2luZCB2YWx1ZScpO1xuICAgIH07XG4gICAgTm90aWZpY2F0aW9uLmNyZWF0ZU5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTm90aWZpY2F0aW9uKCdOJywgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBOb3RpZmljYXRpb24udW5kZWZpbmVkVmFsdWVOb3RpZmljYXRpb247XG4gICAgfTtcbiAgICBOb3RpZmljYXRpb24uY3JlYXRlRXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBuZXcgTm90aWZpY2F0aW9uKCdFJywgdW5kZWZpbmVkLCBlcnIpO1xuICAgIH07XG4gICAgTm90aWZpY2F0aW9uLmNyZWF0ZUNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gTm90aWZpY2F0aW9uLmNvbXBsZXRlTm90aWZpY2F0aW9uO1xuICAgIH07XG4gICAgTm90aWZpY2F0aW9uLmNvbXBsZXRlTm90aWZpY2F0aW9uID0gbmV3IE5vdGlmaWNhdGlvbignQycpO1xuICAgIE5vdGlmaWNhdGlvbi51bmRlZmluZWRWYWx1ZU5vdGlmaWNhdGlvbiA9IG5ldyBOb3RpZmljYXRpb24oJ04nLCB1bmRlZmluZWQpO1xuICAgIHJldHVybiBOb3RpZmljYXRpb247XG59KCkpO1xuZXhwb3J0IHsgTm90aWZpY2F0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ob3RpZmljYXRpb24uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9TdWJzY3JpcHRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZUFycmF5KGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN1YiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgdmFyIGkgPSAwO1xuICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoaSA9PT0gaW5wdXQubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChpbnB1dFtpKytdKTtcbiAgICAgICAgICAgIGlmICghc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBzdWIuYWRkKHRoaXMuc2NoZWR1bGUoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHN1YjtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlQXJyYXkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF91dGlsX3N1YnNjcmliZVRvQXJyYXksX3NjaGVkdWxlZF9zY2hlZHVsZUFycmF5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IHN1YnNjcmliZVRvQXJyYXkgfSBmcm9tICcuLi91dGlsL3N1YnNjcmliZVRvQXJyYXknO1xuaW1wb3J0IHsgc2NoZWR1bGVBcnJheSB9IGZyb20gJy4uL3NjaGVkdWxlZC9zY2hlZHVsZUFycmF5JztcbmV4cG9ydCBmdW5jdGlvbiBmcm9tQXJyYXkoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIGlmICghc2NoZWR1bGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmVUb0FycmF5KGlucHV0KSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVBcnJheShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tQXJyYXkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF91dGlsX2lzU2NoZWR1bGVyLF9mcm9tQXJyYXksX3NjaGVkdWxlZF9zY2hlZHVsZUFycmF5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5pbXBvcnQgeyBmcm9tQXJyYXkgfSBmcm9tICcuL2Zyb21BcnJheSc7XG5pbXBvcnQgeyBzY2hlZHVsZUFycmF5IH0gZnJvbSAnLi4vc2NoZWR1bGVkL3NjaGVkdWxlQXJyYXknO1xuZXhwb3J0IGZ1bmN0aW9uIG9mKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgc2NoZWR1bGVyID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChpc1NjaGVkdWxlcihzY2hlZHVsZXIpKSB7XG4gICAgICAgIGFyZ3MucG9wKCk7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZUFycmF5KGFyZ3MsIHNjaGVkdWxlcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZnJvbUFycmF5KGFyZ3MpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9mLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gdGhyb3dFcnJvcihlcnJvciwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKCFzY2hlZHVsZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycm9yKTsgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHsgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaCwgMCwgeyBlcnJvcjogZXJyb3IsIHN1YnNjcmliZXI6IHN1YnNjcmliZXIgfSk7IH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRpc3BhdGNoKF9hKSB7XG4gICAgdmFyIGVycm9yID0gX2EuZXJyb3IsIHN1YnNjcmliZXIgPSBfYS5zdWJzY3JpYmVyO1xuICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyb3IpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGhyb3dFcnJvci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIsX05vdGlmaWNhdGlvbiBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uIH0gZnJvbSAnLi4vTm90aWZpY2F0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBvYnNlcnZlT24oc2NoZWR1bGVyLCBkZWxheSkge1xuICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGRlbGF5ID0gMDtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG9ic2VydmVPbk9wZXJhdG9yRnVuY3Rpb24oc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgT2JzZXJ2ZU9uT3BlcmF0b3Ioc2NoZWR1bGVyLCBkZWxheSkpO1xuICAgIH07XG59XG52YXIgT2JzZXJ2ZU9uT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2JzZXJ2ZU9uT3BlcmF0b3Ioc2NoZWR1bGVyLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICB0aGlzLmRlbGF5ID0gZGVsYXk7XG4gICAgfVxuICAgIE9ic2VydmVPbk9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgT2JzZXJ2ZU9uU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLnNjaGVkdWxlciwgdGhpcy5kZWxheSkpO1xuICAgIH07XG4gICAgcmV0dXJuIE9ic2VydmVPbk9wZXJhdG9yO1xufSgpKTtcbmV4cG9ydCB7IE9ic2VydmVPbk9wZXJhdG9yIH07XG52YXIgT2JzZXJ2ZU9uU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhPYnNlcnZlT25TdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIE9ic2VydmVPblN1YnNjcmliZXIoZGVzdGluYXRpb24sIHNjaGVkdWxlciwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc2NoZWR1bGVyID0gc2NoZWR1bGVyO1xuICAgICAgICBfdGhpcy5kZWxheSA9IGRlbGF5O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIE9ic2VydmVPblN1YnNjcmliZXIuZGlzcGF0Y2ggPSBmdW5jdGlvbiAoYXJnKSB7XG4gICAgICAgIHZhciBub3RpZmljYXRpb24gPSBhcmcubm90aWZpY2F0aW9uLCBkZXN0aW5hdGlvbiA9IGFyZy5kZXN0aW5hdGlvbjtcbiAgICAgICAgbm90aWZpY2F0aW9uLm9ic2VydmUoZGVzdGluYXRpb24pO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICBPYnNlcnZlT25TdWJzY3JpYmVyLnByb3RvdHlwZS5zY2hlZHVsZU1lc3NhZ2UgPSBmdW5jdGlvbiAobm90aWZpY2F0aW9uKSB7XG4gICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgIGRlc3RpbmF0aW9uLmFkZCh0aGlzLnNjaGVkdWxlci5zY2hlZHVsZShPYnNlcnZlT25TdWJzY3JpYmVyLmRpc3BhdGNoLCB0aGlzLmRlbGF5LCBuZXcgT2JzZXJ2ZU9uTWVzc2FnZShub3RpZmljYXRpb24sIHRoaXMuZGVzdGluYXRpb24pKSk7XG4gICAgfTtcbiAgICBPYnNlcnZlT25TdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB0aGlzLnNjaGVkdWxlTWVzc2FnZShOb3RpZmljYXRpb24uY3JlYXRlTmV4dCh2YWx1ZSkpO1xuICAgIH07XG4gICAgT2JzZXJ2ZU9uU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICB0aGlzLnNjaGVkdWxlTWVzc2FnZShOb3RpZmljYXRpb24uY3JlYXRlRXJyb3IoZXJyKSk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIE9ic2VydmVPblN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU1lc3NhZ2UoTm90aWZpY2F0aW9uLmNyZWF0ZUNvbXBsZXRlKCkpO1xuICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gT2JzZXJ2ZU9uU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgT2JzZXJ2ZU9uU3Vic2NyaWJlciB9O1xudmFyIE9ic2VydmVPbk1lc3NhZ2UgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gT2JzZXJ2ZU9uTWVzc2FnZShub3RpZmljYXRpb24sIGRlc3RpbmF0aW9uKSB7XG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9uID0gbm90aWZpY2F0aW9uO1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uID0gZGVzdGluYXRpb247XG4gICAgfVxuICAgIHJldHVybiBPYnNlcnZlT25NZXNzYWdlO1xufSgpKTtcbmV4cG9ydCB7IE9ic2VydmVPbk1lc3NhZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9ic2VydmVPbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YmplY3QsX3NjaGVkdWxlcl9xdWV1ZSxfU3Vic2NyaXB0aW9uLF9vcGVyYXRvcnNfb2JzZXJ2ZU9uLF91dGlsX09iamVjdFVuc3Vic2NyaWJlZEVycm9yLF9TdWJqZWN0U3Vic2NyaXB0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi9TdWJqZWN0JztcbmltcG9ydCB7IHF1ZXVlIH0gZnJvbSAnLi9zY2hlZHVsZXIvcXVldWUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgT2JzZXJ2ZU9uU3Vic2NyaWJlciB9IGZyb20gJy4vb3BlcmF0b3JzL29ic2VydmVPbic7XG5pbXBvcnQgeyBPYmplY3RVbnN1YnNjcmliZWRFcnJvciB9IGZyb20gJy4vdXRpbC9PYmplY3RVbnN1YnNjcmliZWRFcnJvcic7XG5pbXBvcnQgeyBTdWJqZWN0U3Vic2NyaXB0aW9uIH0gZnJvbSAnLi9TdWJqZWN0U3Vic2NyaXB0aW9uJztcbnZhciBSZXBsYXlTdWJqZWN0ID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFJlcGxheVN1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gUmVwbGF5U3ViamVjdChidWZmZXJTaXplLCB3aW5kb3dUaW1lLCBzY2hlZHVsZXIpIHtcbiAgICAgICAgaWYgKGJ1ZmZlclNpemUgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgYnVmZmVyU2l6ZSA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2luZG93VGltZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICB3aW5kb3dUaW1lID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMuX2V2ZW50cyA9IFtdO1xuICAgICAgICBfdGhpcy5faW5maW5pdGVUaW1lV2luZG93ID0gZmFsc2U7XG4gICAgICAgIF90aGlzLl9idWZmZXJTaXplID0gYnVmZmVyU2l6ZSA8IDEgPyAxIDogYnVmZmVyU2l6ZTtcbiAgICAgICAgX3RoaXMuX3dpbmRvd1RpbWUgPSB3aW5kb3dUaW1lIDwgMSA/IDEgOiB3aW5kb3dUaW1lO1xuICAgICAgICBpZiAod2luZG93VGltZSA9PT0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSB7XG4gICAgICAgICAgICBfdGhpcy5faW5maW5pdGVUaW1lV2luZG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIF90aGlzLm5leHQgPSBfdGhpcy5uZXh0SW5maW5pdGVUaW1lV2luZG93O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgX3RoaXMubmV4dCA9IF90aGlzLm5leHRUaW1lV2luZG93O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUmVwbGF5U3ViamVjdC5wcm90b3R5cGUubmV4dEluZmluaXRlVGltZVdpbmRvdyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgX2V2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgICAgX2V2ZW50cy5wdXNoKHZhbHVlKTtcbiAgICAgICAgaWYgKF9ldmVudHMubGVuZ3RoID4gdGhpcy5fYnVmZmVyU2l6ZSkge1xuICAgICAgICAgICAgX2V2ZW50cy5zaGlmdCgpO1xuICAgICAgICB9XG4gICAgICAgIF9zdXBlci5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMsIHZhbHVlKTtcbiAgICB9O1xuICAgIFJlcGxheVN1YmplY3QucHJvdG90eXBlLm5leHRUaW1lV2luZG93ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuX2V2ZW50cy5wdXNoKG5ldyBSZXBsYXlFdmVudCh0aGlzLl9nZXROb3coKSwgdmFsdWUpKTtcbiAgICAgICAgdGhpcy5fdHJpbUJ1ZmZlclRoZW5HZXRFdmVudHMoKTtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcywgdmFsdWUpO1xuICAgIH07XG4gICAgUmVwbGF5U3ViamVjdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBfaW5maW5pdGVUaW1lV2luZG93ID0gdGhpcy5faW5maW5pdGVUaW1lV2luZG93O1xuICAgICAgICB2YXIgX2V2ZW50cyA9IF9pbmZpbml0ZVRpbWVXaW5kb3cgPyB0aGlzLl9ldmVudHMgOiB0aGlzLl90cmltQnVmZmVyVGhlbkdldEV2ZW50cygpO1xuICAgICAgICB2YXIgc2NoZWR1bGVyID0gdGhpcy5zY2hlZHVsZXI7XG4gICAgICAgIHZhciBsZW4gPSBfZXZlbnRzLmxlbmd0aDtcbiAgICAgICAgdmFyIHN1YnNjcmlwdGlvbjtcbiAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmlzU3RvcHBlZCB8fCB0aGlzLmhhc0Vycm9yKSB7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBTdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm9ic2VydmVycy5wdXNoKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uID0gbmV3IFN1YmplY3RTdWJzY3JpcHRpb24odGhpcywgc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVkdWxlcikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoc3Vic2NyaWJlciA9IG5ldyBPYnNlcnZlT25TdWJzY3JpYmVyKHN1YnNjcmliZXIsIHNjaGVkdWxlcikpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfaW5maW5pdGVUaW1lV2luZG93KSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbiAmJiAhc3Vic2NyaWJlci5jbG9zZWQ7IGkrKykge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChfZXZlbnRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuICYmICFzdWJzY3JpYmVyLmNsb3NlZDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KF9ldmVudHNbaV0udmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmhhc0Vycm9yKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKHRoaXMudGhyb3duRXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YnNjcmlwdGlvbjtcbiAgICB9O1xuICAgIFJlcGxheVN1YmplY3QucHJvdG90eXBlLl9nZXROb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5zY2hlZHVsZXIgfHwgcXVldWUpLm5vdygpO1xuICAgIH07XG4gICAgUmVwbGF5U3ViamVjdC5wcm90b3R5cGUuX3RyaW1CdWZmZXJUaGVuR2V0RXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbm93ID0gdGhpcy5fZ2V0Tm93KCk7XG4gICAgICAgIHZhciBfYnVmZmVyU2l6ZSA9IHRoaXMuX2J1ZmZlclNpemU7XG4gICAgICAgIHZhciBfd2luZG93VGltZSA9IHRoaXMuX3dpbmRvd1RpbWU7XG4gICAgICAgIHZhciBfZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgICB2YXIgZXZlbnRzQ291bnQgPSBfZXZlbnRzLmxlbmd0aDtcbiAgICAgICAgdmFyIHNwbGljZUNvdW50ID0gMDtcbiAgICAgICAgd2hpbGUgKHNwbGljZUNvdW50IDwgZXZlbnRzQ291bnQpIHtcbiAgICAgICAgICAgIGlmICgobm93IC0gX2V2ZW50c1tzcGxpY2VDb3VudF0udGltZSkgPCBfd2luZG93VGltZSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3BsaWNlQ291bnQrKztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnRzQ291bnQgPiBfYnVmZmVyU2l6ZSkge1xuICAgICAgICAgICAgc3BsaWNlQ291bnQgPSBNYXRoLm1heChzcGxpY2VDb3VudCwgZXZlbnRzQ291bnQgLSBfYnVmZmVyU2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNwbGljZUNvdW50ID4gMCkge1xuICAgICAgICAgICAgX2V2ZW50cy5zcGxpY2UoMCwgc3BsaWNlQ291bnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfZXZlbnRzO1xuICAgIH07XG4gICAgcmV0dXJuIFJlcGxheVN1YmplY3Q7XG59KFN1YmplY3QpKTtcbmV4cG9ydCB7IFJlcGxheVN1YmplY3QgfTtcbnZhciBSZXBsYXlFdmVudCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXBsYXlFdmVudCh0aW1lLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLnRpbWUgPSB0aW1lO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBSZXBsYXlFdmVudDtcbn0oKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZXBsYXlTdWJqZWN0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3ViamVjdCxfU3Vic2NyaXB0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAnLi9TdWJqZWN0JztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcbnZhciBBc3luY1N1YmplY3QgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQXN5bmNTdWJqZWN0LCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFzeW5jU3ViamVjdCgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnZhbHVlID0gbnVsbDtcbiAgICAgICAgX3RoaXMuaGFzTmV4dCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5oYXNDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBBc3luY1N1YmplY3QucHJvdG90eXBlLl9zdWJzY3JpYmUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICBpZiAodGhpcy5oYXNFcnJvcikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcih0aGlzLnRocm93bkVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBTdWJzY3JpcHRpb24uRU1QVFk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5oYXNDb21wbGV0ZWQgJiYgdGhpcy5oYXNOZXh0KSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodGhpcy52YWx1ZSk7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gU3Vic2NyaXB0aW9uLkVNUFRZO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLl9zdWJzY3JpYmUuY2FsbCh0aGlzLCBzdWJzY3JpYmVyKTtcbiAgICB9O1xuICAgIEFzeW5jU3ViamVjdC5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuaGFzQ29tcGxldGVkKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmhhc05leHQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBBc3luY1N1YmplY3QucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGlmICghdGhpcy5oYXNDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgIF9zdXBlci5wcm90b3R5cGUuZXJyb3IuY2FsbCh0aGlzLCBlcnJvcik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIEFzeW5jU3ViamVjdC5wcm90b3R5cGUuY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuaGFzQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuaGFzTmV4dCkge1xuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcywgdGhpcy52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5jb21wbGV0ZS5jYWxsKHRoaXMpO1xuICAgIH07XG4gICAgcmV0dXJuIEFzeW5jU3ViamVjdDtcbn0oU3ViamVjdCkpO1xuZXhwb3J0IHsgQXN5bmNTdWJqZWN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Bc3luY1N1YmplY3QuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG52YXIgbmV4dEhhbmRsZSA9IDE7XG52YXIgdGFza3NCeUhhbmRsZSA9IHt9O1xuZnVuY3Rpb24gcnVuSWZQcmVzZW50KGhhbmRsZSkge1xuICAgIHZhciBjYiA9IHRhc2tzQnlIYW5kbGVbaGFuZGxlXTtcbiAgICBpZiAoY2IpIHtcbiAgICAgICAgY2IoKTtcbiAgICB9XG59XG5leHBvcnQgdmFyIEltbWVkaWF0ZSA9IHtcbiAgICBzZXRJbW1lZGlhdGU6IGZ1bmN0aW9uIChjYikge1xuICAgICAgICB2YXIgaGFuZGxlID0gbmV4dEhhbmRsZSsrO1xuICAgICAgICB0YXNrc0J5SGFuZGxlW2hhbmRsZV0gPSBjYjtcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7IHJldHVybiBydW5JZlByZXNlbnQoaGFuZGxlKTsgfSk7XG4gICAgICAgIHJldHVybiBoYW5kbGU7XG4gICAgfSxcbiAgICBjbGVhckltbWVkaWF0ZTogZnVuY3Rpb24gKGhhbmRsZSkge1xuICAgICAgICBkZWxldGUgdGFza3NCeUhhbmRsZVtoYW5kbGVdO1xuICAgIH0sXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9SW1tZWRpYXRlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfdXRpbF9JbW1lZGlhdGUsX0FzeW5jQWN0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBJbW1lZGlhdGUgfSBmcm9tICcuLi91dGlsL0ltbWVkaWF0ZSc7XG5pbXBvcnQgeyBBc3luY0FjdGlvbiB9IGZyb20gJy4vQXN5bmNBY3Rpb24nO1xudmFyIEFzYXBBY3Rpb24gPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQXNhcEFjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBBc2FwQWN0aW9uKHNjaGVkdWxlciwgd29yaykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBzY2hlZHVsZXIsIHdvcmspIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMud29yayA9IHdvcms7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQXNhcEFjdGlvbi5wcm90b3R5cGUucmVxdWVzdEFzeW5jSWQgPSBmdW5jdGlvbiAoc2NoZWR1bGVyLCBpZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVsYXkgIT09IG51bGwgJiYgZGVsYXkgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyLnByb3RvdHlwZS5yZXF1ZXN0QXN5bmNJZC5jYWxsKHRoaXMsIHNjaGVkdWxlciwgaWQsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgICAgICBzY2hlZHVsZXIuYWN0aW9ucy5wdXNoKHRoaXMpO1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlZCB8fCAoc2NoZWR1bGVyLnNjaGVkdWxlZCA9IEltbWVkaWF0ZS5zZXRJbW1lZGlhdGUoc2NoZWR1bGVyLmZsdXNoLmJpbmQoc2NoZWR1bGVyLCBudWxsKSkpO1xuICAgIH07XG4gICAgQXNhcEFjdGlvbi5wcm90b3R5cGUucmVjeWNsZUFzeW5jSWQgPSBmdW5jdGlvbiAoc2NoZWR1bGVyLCBpZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKGRlbGF5ICE9PSBudWxsICYmIGRlbGF5ID4gMCkgfHwgKGRlbGF5ID09PSBudWxsICYmIHRoaXMuZGVsYXkgPiAwKSkge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUucmVjeWNsZUFzeW5jSWQuY2FsbCh0aGlzLCBzY2hlZHVsZXIsIGlkLCBkZWxheSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVkdWxlci5hY3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgSW1tZWRpYXRlLmNsZWFySW1tZWRpYXRlKGlkKTtcbiAgICAgICAgICAgIHNjaGVkdWxlci5zY2hlZHVsZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIHJldHVybiBBc2FwQWN0aW9uO1xufShBc3luY0FjdGlvbikpO1xuZXhwb3J0IHsgQXNhcEFjdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXNhcEFjdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX0FzYXBBY3Rpb24sX0FzYXBTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgQXNhcEFjdGlvbiB9IGZyb20gJy4vQXNhcEFjdGlvbic7XG5pbXBvcnQgeyBBc2FwU2NoZWR1bGVyIH0gZnJvbSAnLi9Bc2FwU2NoZWR1bGVyJztcbmV4cG9ydCB2YXIgYXNhcCA9IC8qQF9fUFVSRV9fKi8gbmV3IEFzYXBTY2hlZHVsZXIoQXNhcEFjdGlvbik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc2FwLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfQXN5bmNTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi9Bc3luY1NjaGVkdWxlcic7XG52YXIgQXNhcFNjaGVkdWxlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhBc2FwU2NoZWR1bGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFzYXBTY2hlZHVsZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgQXNhcFNjaGVkdWxlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciBhY3Rpb25zID0gdGhpcy5hY3Rpb25zO1xuICAgICAgICB2YXIgZXJyb3I7XG4gICAgICAgIHZhciBpbmRleCA9IC0xO1xuICAgICAgICB2YXIgY291bnQgPSBhY3Rpb25zLmxlbmd0aDtcbiAgICAgICAgYWN0aW9uID0gYWN0aW9uIHx8IGFjdGlvbnMuc2hpZnQoKTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgaWYgKGVycm9yID0gYWN0aW9uLmV4ZWN1dGUoYWN0aW9uLnN0YXRlLCBhY3Rpb24uZGVsYXkpKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKCsraW5kZXggPCBjb3VudCAmJiAoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKSk7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgd2hpbGUgKCsraW5kZXggPCBjb3VudCAmJiAoYWN0aW9uID0gYWN0aW9ucy5zaGlmdCgpKSkge1xuICAgICAgICAgICAgICAgIGFjdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBBc2FwU2NoZWR1bGVyO1xufShBc3luY1NjaGVkdWxlcikpO1xuZXhwb3J0IHsgQXNhcFNjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXNhcFNjaGVkdWxlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX0FzeW5jQWN0aW9uLF9Bc3luY1NjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBBc3luY0FjdGlvbiB9IGZyb20gJy4vQXN5bmNBY3Rpb24nO1xuaW1wb3J0IHsgQXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuL0FzeW5jU2NoZWR1bGVyJztcbmV4cG9ydCB2YXIgYXN5bmMgPSAvKkBfX1BVUkVfXyovIG5ldyBBc3luY1NjaGVkdWxlcihBc3luY0FjdGlvbik7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hc3luYy5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX0FzeW5jQWN0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBBc3luY0FjdGlvbiB9IGZyb20gJy4vQXN5bmNBY3Rpb24nO1xudmFyIEFuaW1hdGlvbkZyYW1lQWN0aW9uID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEFuaW1hdGlvbkZyYW1lQWN0aW9uLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIEFuaW1hdGlvbkZyYW1lQWN0aW9uKHNjaGVkdWxlciwgd29yaykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBzY2hlZHVsZXIsIHdvcmspIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnNjaGVkdWxlciA9IHNjaGVkdWxlcjtcbiAgICAgICAgX3RoaXMud29yayA9IHdvcms7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgQW5pbWF0aW9uRnJhbWVBY3Rpb24ucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkID0gZnVuY3Rpb24gKHNjaGVkdWxlciwgaWQsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlbGF5ICE9PSBudWxsICYmIGRlbGF5ID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUucmVxdWVzdEFzeW5jSWQuY2FsbCh0aGlzLCBzY2hlZHVsZXIsIGlkLCBkZWxheSk7XG4gICAgICAgIH1cbiAgICAgICAgc2NoZWR1bGVyLmFjdGlvbnMucHVzaCh0aGlzKTtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZWQgfHwgKHNjaGVkdWxlci5zY2hlZHVsZWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc2NoZWR1bGVyLmZsdXNoKG51bGwpOyB9KSk7XG4gICAgfTtcbiAgICBBbmltYXRpb25GcmFtZUFjdGlvbi5wcm90b3R5cGUucmVjeWNsZUFzeW5jSWQgPSBmdW5jdGlvbiAoc2NoZWR1bGVyLCBpZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKGRlbGF5ICE9PSBudWxsICYmIGRlbGF5ID4gMCkgfHwgKGRlbGF5ID09PSBudWxsICYmIHRoaXMuZGVsYXkgPiAwKSkge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUucmVjeWNsZUFzeW5jSWQuY2FsbCh0aGlzLCBzY2hlZHVsZXIsIGlkLCBkZWxheSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNjaGVkdWxlci5hY3Rpb25zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoaWQpO1xuICAgICAgICAgICAgc2NoZWR1bGVyLnNjaGVkdWxlZCA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH07XG4gICAgcmV0dXJuIEFuaW1hdGlvbkZyYW1lQWN0aW9uO1xufShBc3luY0FjdGlvbikpO1xuZXhwb3J0IHsgQW5pbWF0aW9uRnJhbWVBY3Rpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFuaW1hdGlvbkZyYW1lQWN0aW9uLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfQW5pbWF0aW9uRnJhbWVBY3Rpb24sX0FuaW1hdGlvbkZyYW1lU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IEFuaW1hdGlvbkZyYW1lQWN0aW9uIH0gZnJvbSAnLi9BbmltYXRpb25GcmFtZUFjdGlvbic7XG5pbXBvcnQgeyBBbmltYXRpb25GcmFtZVNjaGVkdWxlciB9IGZyb20gJy4vQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXInO1xuZXhwb3J0IHZhciBhbmltYXRpb25GcmFtZSA9IC8qQF9fUFVSRV9fKi8gbmV3IEFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyKEFuaW1hdGlvbkZyYW1lQWN0aW9uKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFuaW1hdGlvbkZyYW1lLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfQXN5bmNTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi9Bc3luY1NjaGVkdWxlcic7XG52YXIgQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKGFjdGlvbikge1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVkID0gdW5kZWZpbmVkO1xuICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcbiAgICAgICAgdmFyIGVycm9yO1xuICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgdmFyIGNvdW50ID0gYWN0aW9ucy5sZW5ndGg7XG4gICAgICAgIGFjdGlvbiA9IGFjdGlvbiB8fCBhY3Rpb25zLnNoaWZ0KCk7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmIChlcnJvciA9IGFjdGlvbi5leGVjdXRlKGFjdGlvbi5zdGF0ZSwgYWN0aW9uLmRlbGF5KSkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICgrK2luZGV4IDwgY291bnQgJiYgKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSkpO1xuICAgICAgICB0aGlzLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHdoaWxlICgrK2luZGV4IDwgY291bnQgJiYgKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSkpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gQW5pbWF0aW9uRnJhbWVTY2hlZHVsZXI7XG59KEFzeW5jU2NoZWR1bGVyKSk7XG5leHBvcnQgeyBBbmltYXRpb25GcmFtZVNjaGVkdWxlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QW5pbWF0aW9uRnJhbWVTY2hlZHVsZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9Bc3luY0FjdGlvbixfQXN5bmNTY2hlZHVsZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEFzeW5jQWN0aW9uIH0gZnJvbSAnLi9Bc3luY0FjdGlvbic7XG5pbXBvcnQgeyBBc3luY1NjaGVkdWxlciB9IGZyb20gJy4vQXN5bmNTY2hlZHVsZXInO1xudmFyIFZpcnR1YWxUaW1lU2NoZWR1bGVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFZpcnR1YWxUaW1lU2NoZWR1bGVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFZpcnR1YWxUaW1lU2NoZWR1bGVyKFNjaGVkdWxlckFjdGlvbiwgbWF4RnJhbWVzKSB7XG4gICAgICAgIGlmIChTY2hlZHVsZXJBY3Rpb24gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgU2NoZWR1bGVyQWN0aW9uID0gVmlydHVhbEFjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWF4RnJhbWVzID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIG1heEZyYW1lcyA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBTY2hlZHVsZXJBY3Rpb24sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLmZyYW1lOyB9KSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5tYXhGcmFtZXMgPSBtYXhGcmFtZXM7XG4gICAgICAgIF90aGlzLmZyYW1lID0gMDtcbiAgICAgICAgX3RoaXMuaW5kZXggPSAtMTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBWaXJ0dWFsVGltZVNjaGVkdWxlci5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMsIGFjdGlvbnMgPSBfYS5hY3Rpb25zLCBtYXhGcmFtZXMgPSBfYS5tYXhGcmFtZXM7XG4gICAgICAgIHZhciBlcnJvciwgYWN0aW9uO1xuICAgICAgICB3aGlsZSAoKGFjdGlvbiA9IGFjdGlvbnNbMF0pICYmIGFjdGlvbi5kZWxheSA8PSBtYXhGcmFtZXMpIHtcbiAgICAgICAgICAgIGFjdGlvbnMuc2hpZnQoKTtcbiAgICAgICAgICAgIHRoaXMuZnJhbWUgPSBhY3Rpb24uZGVsYXk7XG4gICAgICAgICAgICBpZiAoZXJyb3IgPSBhY3Rpb24uZXhlY3V0ZShhY3Rpb24uc3RhdGUsIGFjdGlvbi5kZWxheSkpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHdoaWxlIChhY3Rpb24gPSBhY3Rpb25zLnNoaWZ0KCkpIHtcbiAgICAgICAgICAgICAgICBhY3Rpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBWaXJ0dWFsVGltZVNjaGVkdWxlci5mcmFtZVRpbWVGYWN0b3IgPSAxMDtcbiAgICByZXR1cm4gVmlydHVhbFRpbWVTY2hlZHVsZXI7XG59KEFzeW5jU2NoZWR1bGVyKSk7XG5leHBvcnQgeyBWaXJ0dWFsVGltZVNjaGVkdWxlciB9O1xudmFyIFZpcnR1YWxBY3Rpb24gPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoVmlydHVhbEFjdGlvbiwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBWaXJ0dWFsQWN0aW9uKHNjaGVkdWxlciwgd29yaywgaW5kZXgpIHtcbiAgICAgICAgaWYgKGluZGV4ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGluZGV4ID0gc2NoZWR1bGVyLmluZGV4ICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc2NoZWR1bGVyLCB3b3JrKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XG4gICAgICAgIF90aGlzLndvcmsgPSB3b3JrO1xuICAgICAgICBfdGhpcy5pbmRleCA9IGluZGV4O1xuICAgICAgICBfdGhpcy5hY3RpdmUgPSB0cnVlO1xuICAgICAgICBfdGhpcy5pbmRleCA9IHNjaGVkdWxlci5pbmRleCA9IGluZGV4O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFZpcnR1YWxBY3Rpb24ucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgZGVsYXkgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5pZCkge1xuICAgICAgICAgICAgcmV0dXJuIF9zdXBlci5wcm90b3R5cGUuc2NoZWR1bGUuY2FsbCh0aGlzLCBzdGF0ZSwgZGVsYXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHZhciBhY3Rpb24gPSBuZXcgVmlydHVhbEFjdGlvbih0aGlzLnNjaGVkdWxlciwgdGhpcy53b3JrKTtcbiAgICAgICAgdGhpcy5hZGQoYWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIGFjdGlvbi5zY2hlZHVsZShzdGF0ZSwgZGVsYXkpO1xuICAgIH07XG4gICAgVmlydHVhbEFjdGlvbi5wcm90b3R5cGUucmVxdWVzdEFzeW5jSWQgPSBmdW5jdGlvbiAoc2NoZWR1bGVyLCBpZCwgZGVsYXkpIHtcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGRlbGF5ID0gMDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlbGF5ID0gc2NoZWR1bGVyLmZyYW1lICsgZGVsYXk7XG4gICAgICAgIHZhciBhY3Rpb25zID0gc2NoZWR1bGVyLmFjdGlvbnM7XG4gICAgICAgIGFjdGlvbnMucHVzaCh0aGlzKTtcbiAgICAgICAgYWN0aW9ucy5zb3J0KFZpcnR1YWxBY3Rpb24uc29ydEFjdGlvbnMpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIFZpcnR1YWxBY3Rpb24ucHJvdG90eXBlLnJlY3ljbGVBc3luY0lkID0gZnVuY3Rpb24gKHNjaGVkdWxlciwgaWQsIGRlbGF5KSB7XG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICBkZWxheSA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9O1xuICAgIFZpcnR1YWxBY3Rpb24ucHJvdG90eXBlLl9leGVjdXRlID0gZnVuY3Rpb24gKHN0YXRlLCBkZWxheSkge1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUgPT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiBfc3VwZXIucHJvdG90eXBlLl9leGVjdXRlLmNhbGwodGhpcywgc3RhdGUsIGRlbGF5KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgVmlydHVhbEFjdGlvbi5zb3J0QWN0aW9ucyA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIGlmIChhLmRlbGF5ID09PSBiLmRlbGF5KSB7XG4gICAgICAgICAgICBpZiAoYS5pbmRleCA9PT0gYi5pbmRleCkge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoYS5pbmRleCA+IGIuaW5kZXgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhLmRlbGF5ID4gYi5kZWxheSkge1xuICAgICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBWaXJ0dWFsQWN0aW9uO1xufShBc3luY0FjdGlvbikpO1xuZXhwb3J0IHsgVmlydHVhbEFjdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VmlydHVhbFRpbWVTY2hlZHVsZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaWRlbnRpdHkoeCkge1xuICAgIHJldHVybiB4O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWRlbnRpdHkuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmV4cG9ydCBmdW5jdGlvbiBpc09ic2VydmFibGUob2JqKSB7XG4gICAgcmV0dXJuICEhb2JqICYmIChvYmogaW5zdGFuY2VvZiBPYnNlcnZhYmxlIHx8ICh0eXBlb2Ygb2JqLmxpZnQgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIG9iai5zdWJzY3JpYmUgPT09ICdmdW5jdGlvbicpKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzT2JzZXJ2YWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmZ1bmN0aW9uIEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9ySW1wbCgpIHtcbiAgICBFcnJvci5jYWxsKHRoaXMpO1xuICAgIHRoaXMubWVzc2FnZSA9ICdhcmd1bWVudCBvdXQgb2YgcmFuZ2UnO1xuICAgIHRoaXMubmFtZSA9ICdBcmd1bWVudE91dE9mUmFuZ2VFcnJvcic7XG4gICAgcmV0dXJuIHRoaXM7XG59XG5Bcmd1bWVudE91dE9mUmFuZ2VFcnJvckltcGwucHJvdG90eXBlID0gLypAX19QVVJFX18qLyBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG5leHBvcnQgdmFyIEFyZ3VtZW50T3V0T2ZSYW5nZUVycm9yID0gQXJndW1lbnRPdXRPZlJhbmdlRXJyb3JJbXBsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QXJndW1lbnRPdXRPZlJhbmdlRXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5mdW5jdGlvbiBFbXB0eUVycm9ySW1wbCgpIHtcbiAgICBFcnJvci5jYWxsKHRoaXMpO1xuICAgIHRoaXMubWVzc2FnZSA9ICdubyBlbGVtZW50cyBpbiBzZXF1ZW5jZSc7XG4gICAgdGhpcy5uYW1lID0gJ0VtcHR5RXJyb3InO1xuICAgIHJldHVybiB0aGlzO1xufVxuRW1wdHlFcnJvckltcGwucHJvdG90eXBlID0gLypAX19QVVJFX18qLyBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG5leHBvcnQgdmFyIEVtcHR5RXJyb3IgPSBFbXB0eUVycm9ySW1wbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVtcHR5RXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5mdW5jdGlvbiBUaW1lb3V0RXJyb3JJbXBsKCkge1xuICAgIEVycm9yLmNhbGwodGhpcyk7XG4gICAgdGhpcy5tZXNzYWdlID0gJ1RpbWVvdXQgaGFzIG9jY3VycmVkJztcbiAgICB0aGlzLm5hbWUgPSAnVGltZW91dEVycm9yJztcbiAgICByZXR1cm4gdGhpcztcbn1cblRpbWVvdXRFcnJvckltcGwucHJvdG90eXBlID0gLypAX19QVVJFX18qLyBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSk7XG5leHBvcnQgdmFyIFRpbWVvdXRFcnJvciA9IFRpbWVvdXRFcnJvckltcGw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UaW1lb3V0RXJyb3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gbWFwKHByb2plY3QsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gbWFwT3BlcmF0aW9uKHNvdXJjZSkge1xuICAgICAgICBpZiAodHlwZW9mIHByb2plY3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2FyZ3VtZW50IGlzIG5vdCBhIGZ1bmN0aW9uLiBBcmUgeW91IGxvb2tpbmcgZm9yIGBtYXBUbygpYD8nKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IE1hcE9wZXJhdG9yKHByb2plY3QsIHRoaXNBcmcpKTtcbiAgICB9O1xufVxudmFyIE1hcE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIE1hcE9wZXJhdG9yKHByb2plY3QsIHRoaXNBcmcpIHtcbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICAgICAgdGhpcy50aGlzQXJnID0gdGhpc0FyZztcbiAgICB9XG4gICAgTWFwT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBNYXBTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMucHJvamVjdCwgdGhpcy50aGlzQXJnKSk7XG4gICAgfTtcbiAgICByZXR1cm4gTWFwT3BlcmF0b3I7XG59KCkpO1xuZXhwb3J0IHsgTWFwT3BlcmF0b3IgfTtcbnZhciBNYXBTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE1hcFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gTWFwU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgcHJvamVjdCwgdGhpc0FyZykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIF90aGlzLmNvdW50ID0gMDtcbiAgICAgICAgX3RoaXMudGhpc0FyZyA9IHRoaXNBcmcgfHwgX3RoaXM7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgTWFwU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucHJvamVjdC5jYWxsKHRoaXMudGhpc0FyZywgdmFsdWUsIHRoaXMuY291bnQrKyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChyZXN1bHQpO1xuICAgIH07XG4gICAgcmV0dXJuIE1hcFN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1hcC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX0FzeW5jU3ViamVjdCxfb3BlcmF0b3JzX21hcCxfdXRpbF9jYW5SZXBvcnRFcnJvcixfdXRpbF9pc0FycmF5LF91dGlsX2lzU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IEFzeW5jU3ViamVjdCB9IGZyb20gJy4uL0FzeW5jU3ViamVjdCc7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuLi9vcGVyYXRvcnMvbWFwJztcbmltcG9ydCB7IGNhblJlcG9ydEVycm9yIH0gZnJvbSAnLi4vdXRpbC9jYW5SZXBvcnRFcnJvcic7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5leHBvcnQgZnVuY3Rpb24gYmluZENhbGxiYWNrKGNhbGxiYWNrRnVuYywgcmVzdWx0U2VsZWN0b3IsIHNjaGVkdWxlcikge1xuICAgIGlmIChyZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICBpZiAoaXNTY2hlZHVsZXIocmVzdWx0U2VsZWN0b3IpKSB7XG4gICAgICAgICAgICBzY2hlZHVsZXIgPSByZXN1bHRTZWxlY3RvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBiaW5kQ2FsbGJhY2soY2FsbGJhY2tGdW5jLCBzY2hlZHVsZXIpLmFwcGx5KHZvaWQgMCwgYXJncykucGlwZShtYXAoZnVuY3Rpb24gKGFyZ3MpIHsgcmV0dXJuIGlzQXJyYXkoYXJncykgPyByZXN1bHRTZWxlY3Rvci5hcHBseSh2b2lkIDAsIGFyZ3MpIDogcmVzdWx0U2VsZWN0b3IoYXJncyk7IH0pKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICAgIHZhciBzdWJqZWN0O1xuICAgICAgICB2YXIgcGFyYW1zID0ge1xuICAgICAgICAgICAgY29udGV4dDogY29udGV4dCxcbiAgICAgICAgICAgIHN1YmplY3Q6IHN1YmplY3QsXG4gICAgICAgICAgICBjYWxsYmFja0Z1bmM6IGNhbGxiYWNrRnVuYyxcbiAgICAgICAgICAgIHNjaGVkdWxlcjogc2NoZWR1bGVyLFxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgICAgIGlmICghc2NoZWR1bGVyKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFzdWJqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YmplY3QgPSBuZXcgQXN5bmNTdWJqZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlubmVyQXJncyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lckFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YmplY3QubmV4dChpbm5lckFyZ3MubGVuZ3RoIDw9IDEgPyBpbm5lckFyZ3NbMF0gOiBpbm5lckFyZ3MpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3ViamVjdC5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2tGdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MuY29uY2F0KFtoYW5kbGVyXSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYW5SZXBvcnRFcnJvcihzdWJqZWN0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YmplY3QuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzdWJqZWN0LnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBzdGF0ZSA9IHtcbiAgICAgICAgICAgICAgICAgICAgYXJnczogYXJncywgc3Vic2NyaWJlcjogc3Vic2NyaWJlciwgcGFyYW1zOiBwYXJhbXMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoLCAwLCBzdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG59XG5mdW5jdGlvbiBkaXNwYXRjaChzdGF0ZSkge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBhcmdzID0gc3RhdGUuYXJncywgc3Vic2NyaWJlciA9IHN0YXRlLnN1YnNjcmliZXIsIHBhcmFtcyA9IHN0YXRlLnBhcmFtcztcbiAgICB2YXIgY2FsbGJhY2tGdW5jID0gcGFyYW1zLmNhbGxiYWNrRnVuYywgY29udGV4dCA9IHBhcmFtcy5jb250ZXh0LCBzY2hlZHVsZXIgPSBwYXJhbXMuc2NoZWR1bGVyO1xuICAgIHZhciBzdWJqZWN0ID0gcGFyYW1zLnN1YmplY3Q7XG4gICAgaWYgKCFzdWJqZWN0KSB7XG4gICAgICAgIHN1YmplY3QgPSBwYXJhbXMuc3ViamVjdCA9IG5ldyBBc3luY1N1YmplY3QoKTtcbiAgICAgICAgdmFyIGhhbmRsZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaW5uZXJBcmdzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGlubmVyQXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHZhbHVlID0gaW5uZXJBcmdzLmxlbmd0aCA8PSAxID8gaW5uZXJBcmdzWzBdIDogaW5uZXJBcmdzO1xuICAgICAgICAgICAgX3RoaXMuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaE5leHQsIDAsIHsgdmFsdWU6IHZhbHVlLCBzdWJqZWN0OiBzdWJqZWN0IH0pKTtcbiAgICAgICAgfTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNhbGxiYWNrRnVuYy5hcHBseShjb250ZXh0LCBhcmdzLmNvbmNhdChbaGFuZGxlcl0pKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzdWJqZWN0LmVycm9yKGVycik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5hZGQoc3ViamVjdC5zdWJzY3JpYmUoc3Vic2NyaWJlcikpO1xufVxuZnVuY3Rpb24gZGlzcGF0Y2hOZXh0KHN0YXRlKSB7XG4gICAgdmFyIHZhbHVlID0gc3RhdGUudmFsdWUsIHN1YmplY3QgPSBzdGF0ZS5zdWJqZWN0O1xuICAgIHN1YmplY3QubmV4dCh2YWx1ZSk7XG4gICAgc3ViamVjdC5jb21wbGV0ZSgpO1xufVxuZnVuY3Rpb24gZGlzcGF0Y2hFcnJvcihzdGF0ZSkge1xuICAgIHZhciBlcnIgPSBzdGF0ZS5lcnIsIHN1YmplY3QgPSBzdGF0ZS5zdWJqZWN0O1xuICAgIHN1YmplY3QuZXJyb3IoZXJyKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJpbmRDYWxsYmFjay5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX0FzeW5jU3ViamVjdCxfb3BlcmF0b3JzX21hcCxfdXRpbF9jYW5SZXBvcnRFcnJvcixfdXRpbF9pc1NjaGVkdWxlcixfdXRpbF9pc0FycmF5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IEFzeW5jU3ViamVjdCB9IGZyb20gJy4uL0FzeW5jU3ViamVjdCc7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuLi9vcGVyYXRvcnMvbWFwJztcbmltcG9ydCB7IGNhblJlcG9ydEVycm9yIH0gZnJvbSAnLi4vdXRpbC9jYW5SZXBvcnRFcnJvcic7XG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvaXNTY2hlZHVsZXInO1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheSc7XG5leHBvcnQgZnVuY3Rpb24gYmluZE5vZGVDYWxsYmFjayhjYWxsYmFja0Z1bmMsIHJlc3VsdFNlbGVjdG9yLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAocmVzdWx0U2VsZWN0b3IpIHtcbiAgICAgICAgaWYgKGlzU2NoZWR1bGVyKHJlc3VsdFNlbGVjdG9yKSkge1xuICAgICAgICAgICAgc2NoZWR1bGVyID0gcmVzdWx0U2VsZWN0b3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYmluZE5vZGVDYWxsYmFjayhjYWxsYmFja0Z1bmMsIHNjaGVkdWxlcikuYXBwbHkodm9pZCAwLCBhcmdzKS5waXBlKG1hcChmdW5jdGlvbiAoYXJncykgeyByZXR1cm4gaXNBcnJheShhcmdzKSA/IHJlc3VsdFNlbGVjdG9yLmFwcGx5KHZvaWQgMCwgYXJncykgOiByZXN1bHRTZWxlY3RvcihhcmdzKTsgfSkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYXJhbXMgPSB7XG4gICAgICAgICAgICBzdWJqZWN0OiB1bmRlZmluZWQsXG4gICAgICAgICAgICBhcmdzOiBhcmdzLFxuICAgICAgICAgICAgY2FsbGJhY2tGdW5jOiBjYWxsYmFja0Z1bmMsXG4gICAgICAgICAgICBzY2hlZHVsZXI6IHNjaGVkdWxlcixcbiAgICAgICAgICAgIGNvbnRleHQ6IHRoaXMsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBwYXJhbXMuY29udGV4dDtcbiAgICAgICAgICAgIHZhciBzdWJqZWN0ID0gcGFyYW1zLnN1YmplY3Q7XG4gICAgICAgICAgICBpZiAoIXNjaGVkdWxlcikge1xuICAgICAgICAgICAgICAgIGlmICghc3ViamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJqZWN0ID0gcGFyYW1zLnN1YmplY3QgPSBuZXcgQXN5bmNTdWJqZWN0KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlubmVyQXJncyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lckFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBlcnIgPSBpbm5lckFyZ3Muc2hpZnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJqZWN0LmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc3ViamVjdC5uZXh0KGlubmVyQXJncy5sZW5ndGggPD0gMSA/IGlubmVyQXJnc1swXSA6IGlubmVyQXJncyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJqZWN0LmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja0Z1bmMuYXBwbHkoY29udGV4dCwgYXJncy5jb25jYXQoW2hhbmRsZXJdKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhblJlcG9ydEVycm9yKHN1YmplY3QpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3ViamVjdC5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGVycik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN1YmplY3Quc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaCwgMCwgeyBwYXJhbXM6IHBhcmFtcywgc3Vic2NyaWJlcjogc3Vic2NyaWJlciwgY29udGV4dDogY29udGV4dCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoKHN0YXRlKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcbiAgICB2YXIgcGFyYW1zID0gc3RhdGUucGFyYW1zLCBzdWJzY3JpYmVyID0gc3RhdGUuc3Vic2NyaWJlciwgY29udGV4dCA9IHN0YXRlLmNvbnRleHQ7XG4gICAgdmFyIGNhbGxiYWNrRnVuYyA9IHBhcmFtcy5jYWxsYmFja0Z1bmMsIGFyZ3MgPSBwYXJhbXMuYXJncywgc2NoZWR1bGVyID0gcGFyYW1zLnNjaGVkdWxlcjtcbiAgICB2YXIgc3ViamVjdCA9IHBhcmFtcy5zdWJqZWN0O1xuICAgIGlmICghc3ViamVjdCkge1xuICAgICAgICBzdWJqZWN0ID0gcGFyYW1zLnN1YmplY3QgPSBuZXcgQXN5bmNTdWJqZWN0KCk7XG4gICAgICAgIHZhciBoYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGlubmVyQXJncyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgICAgICBpbm5lckFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBlcnIgPSBpbm5lckFyZ3Muc2hpZnQoKTtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoRXJyb3IsIDAsIHsgZXJyOiBlcnIsIHN1YmplY3Q6IHN1YmplY3QgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gaW5uZXJBcmdzLmxlbmd0aCA8PSAxID8gaW5uZXJBcmdzWzBdIDogaW5uZXJBcmdzO1xuICAgICAgICAgICAgICAgIF90aGlzLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2hOZXh0LCAwLCB7IHZhbHVlOiB2YWx1ZSwgc3ViamVjdDogc3ViamVjdCB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjYWxsYmFja0Z1bmMuYXBwbHkoY29udGV4dCwgYXJncy5jb25jYXQoW2hhbmRsZXJdKSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoRXJyb3IsIDAsIHsgZXJyOiBlcnIsIHN1YmplY3Q6IHN1YmplY3QgfSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRoaXMuYWRkKHN1YmplY3Quc3Vic2NyaWJlKHN1YnNjcmliZXIpKTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoTmV4dChhcmcpIHtcbiAgICB2YXIgdmFsdWUgPSBhcmcudmFsdWUsIHN1YmplY3QgPSBhcmcuc3ViamVjdDtcbiAgICBzdWJqZWN0Lm5leHQodmFsdWUpO1xuICAgIHN1YmplY3QuY29tcGxldGUoKTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoRXJyb3IoYXJnKSB7XG4gICAgdmFyIGVyciA9IGFyZy5lcnIsIHN1YmplY3QgPSBhcmcuc3ViamVjdDtcbiAgICBzdWJqZWN0LmVycm9yKGVycik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iaW5kTm9kZUNhbGxiYWNrLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4vU3Vic2NyaWJlcic7XG52YXIgT3V0ZXJTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE91dGVyU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBPdXRlclN1YnNjcmliZXIoKSB7XG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcbiAgICB9XG4gICAgT3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKG91dGVyVmFsdWUsIGlubmVyVmFsdWUsIG91dGVySW5kZXgsIGlubmVySW5kZXgsIGlubmVyU3ViKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChpbm5lclZhbHVlKTtcbiAgICB9O1xuICAgIE91dGVyU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5RXJyb3IgPSBmdW5jdGlvbiAoZXJyb3IsIGlubmVyU3ViKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyb3IpO1xuICAgIH07XG4gICAgT3V0ZXJTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uIChpbm5lclN1Yikge1xuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgfTtcbiAgICByZXR1cm4gT3V0ZXJTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBPdXRlclN1YnNjcmliZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU91dGVyU3Vic2NyaWJlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YnNjcmliZXIgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xudmFyIElubmVyU3Vic2NyaWJlciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhJbm5lclN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gSW5uZXJTdWJzY3JpYmVyKHBhcmVudCwgb3V0ZXJWYWx1ZSwgb3V0ZXJJbmRleCkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgIF90aGlzLm91dGVyVmFsdWUgPSBvdXRlclZhbHVlO1xuICAgICAgICBfdGhpcy5vdXRlckluZGV4ID0gb3V0ZXJJbmRleDtcbiAgICAgICAgX3RoaXMuaW5kZXggPSAwO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIElubmVyU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdGhpcy5wYXJlbnQubm90aWZ5TmV4dCh0aGlzLm91dGVyVmFsdWUsIHZhbHVlLCB0aGlzLm91dGVySW5kZXgsIHRoaXMuaW5kZXgrKywgdGhpcyk7XG4gICAgfTtcbiAgICBJbm5lclN1YnNjcmliZXIucHJvdG90eXBlLl9lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICB0aGlzLnBhcmVudC5ub3RpZnlFcnJvcihlcnJvciwgdGhpcyk7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcbiAgICB9O1xuICAgIElubmVyU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnBhcmVudC5ub3RpZnlDb21wbGV0ZSh0aGlzKTtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgcmV0dXJuIElubmVyU3Vic2NyaWJlcjtcbn0oU3Vic2NyaWJlcikpO1xuZXhwb3J0IHsgSW5uZXJTdWJzY3JpYmVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Jbm5lclN1YnNjcmliZXIuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3ltYm9sSXRlcmF0b3IoKSB7XG4gICAgaWYgKHR5cGVvZiBTeW1ib2wgIT09ICdmdW5jdGlvbicgfHwgIVN5bWJvbC5pdGVyYXRvcikge1xuICAgICAgICByZXR1cm4gJ0BAaXRlcmF0b3InO1xuICAgIH1cbiAgICByZXR1cm4gU3ltYm9sLml0ZXJhdG9yO1xufVxuZXhwb3J0IHZhciBpdGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gZ2V0U3ltYm9sSXRlcmF0b3IoKTtcbmV4cG9ydCB2YXIgJCRpdGVyYXRvciA9IGl0ZXJhdG9yO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXRlcmF0b3IuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgdmFyIGlzQXJyYXlMaWtlID0gKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4ICYmIHR5cGVvZiB4Lmxlbmd0aCA9PT0gJ251bWJlcicgJiYgdHlwZW9mIHggIT09ICdmdW5jdGlvbic7IH0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNBcnJheUxpa2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUICBQVVJFX0lNUE9SVFNfRU5EICovXG5leHBvcnQgZnVuY3Rpb24gaXNQcm9taXNlKHZhbHVlKSB7XG4gICAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlLnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsdWUudGhlbiA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzUHJvbWlzZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3N1YnNjcmliZVRvQXJyYXksX3N1YnNjcmliZVRvUHJvbWlzZSxfc3Vic2NyaWJlVG9JdGVyYWJsZSxfc3Vic2NyaWJlVG9PYnNlcnZhYmxlLF9pc0FycmF5TGlrZSxfaXNQcm9taXNlLF9pc09iamVjdCxfc3ltYm9sX2l0ZXJhdG9yLF9zeW1ib2xfb2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBzdWJzY3JpYmVUb0FycmF5IH0gZnJvbSAnLi9zdWJzY3JpYmVUb0FycmF5JztcbmltcG9ydCB7IHN1YnNjcmliZVRvUHJvbWlzZSB9IGZyb20gJy4vc3Vic2NyaWJlVG9Qcm9taXNlJztcbmltcG9ydCB7IHN1YnNjcmliZVRvSXRlcmFibGUgfSBmcm9tICcuL3N1YnNjcmliZVRvSXRlcmFibGUnO1xuaW1wb3J0IHsgc3Vic2NyaWJlVG9PYnNlcnZhYmxlIH0gZnJvbSAnLi9zdWJzY3JpYmVUb09ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNBcnJheUxpa2UgfSBmcm9tICcuL2lzQXJyYXlMaWtlJztcbmltcG9ydCB7IGlzUHJvbWlzZSB9IGZyb20gJy4vaXNQcm9taXNlJztcbmltcG9ydCB7IGlzT2JqZWN0IH0gZnJvbSAnLi9pc09iamVjdCc7XG5pbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xuaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4uL3N5bWJvbC9vYnNlcnZhYmxlJztcbmV4cG9ydCB2YXIgc3Vic2NyaWJlVG8gPSBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgaWYgKCEhcmVzdWx0ICYmIHR5cGVvZiByZXN1bHRbU3ltYm9sX29ic2VydmFibGVdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVUb09ic2VydmFibGUocmVzdWx0KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNBcnJheUxpa2UocmVzdWx0KSkge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlVG9BcnJheShyZXN1bHQpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1Byb21pc2UocmVzdWx0KSkge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlVG9Qcm9taXNlKHJlc3VsdCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCEhcmVzdWx0ICYmIHR5cGVvZiByZXN1bHRbU3ltYm9sX2l0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gc3Vic2NyaWJlVG9JdGVyYWJsZShyZXN1bHQpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdmFyIHZhbHVlID0gaXNPYmplY3QocmVzdWx0KSA/ICdhbiBpbnZhbGlkIG9iamVjdCcgOiBcIidcIiArIHJlc3VsdCArIFwiJ1wiO1xuICAgICAgICB2YXIgbXNnID0gXCJZb3UgcHJvdmlkZWQgXCIgKyB2YWx1ZSArIFwiIHdoZXJlIGEgc3RyZWFtIHdhcyBleHBlY3RlZC5cIlxuICAgICAgICAgICAgKyAnIFlvdSBjYW4gcHJvdmlkZSBhbiBPYnNlcnZhYmxlLCBQcm9taXNlLCBBcnJheSwgb3IgSXRlcmFibGUuJztcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihtc2cpO1xuICAgIH1cbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUby5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3N5bWJvbF9vYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XG5leHBvcnQgdmFyIHN1YnNjcmliZVRvT2JzZXJ2YWJsZSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIG9icyA9IG9ialtTeW1ib2xfb2JzZXJ2YWJsZV0oKTtcbiAgICAgICAgaWYgKHR5cGVvZiBvYnMuc3Vic2NyaWJlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdQcm92aWRlZCBvYmplY3QgZG9lcyBub3QgY29ycmVjdGx5IGltcGxlbWVudCBTeW1ib2wub2JzZXJ2YWJsZScpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG9icy5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgICAgIH1cbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YnNjcmliZVRvT2JzZXJ2YWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX2hvc3RSZXBvcnRFcnJvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBob3N0UmVwb3J0RXJyb3IgfSBmcm9tICcuL2hvc3RSZXBvcnRFcnJvcic7XG5leHBvcnQgdmFyIHN1YnNjcmliZVRvUHJvbWlzZSA9IGZ1bmN0aW9uIChwcm9taXNlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICghc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnIpOyB9KVxuICAgICAgICAgICAgLnRoZW4obnVsbCwgaG9zdFJlcG9ydEVycm9yKTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUb1Byb21pc2UuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9zeW1ib2xfaXRlcmF0b3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaXRlcmF0b3IgYXMgU3ltYm9sX2l0ZXJhdG9yIH0gZnJvbSAnLi4vc3ltYm9sL2l0ZXJhdG9yJztcbmV4cG9ydCB2YXIgc3Vic2NyaWJlVG9JdGVyYWJsZSA9IGZ1bmN0aW9uIChpdGVyYWJsZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgaXRlcmF0b3IgPSBpdGVyYWJsZVtTeW1ib2xfaXRlcmF0b3JdKCk7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gaXRlcmF0b3IubmV4dCgpO1xuICAgICAgICAgICAgaWYgKGl0ZW0uZG9uZSkge1xuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChpdGVtLnZhbHVlKTtcbiAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IHdoaWxlICh0cnVlKTtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVyYXRvci5yZXR1cm4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyO1xuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NyaWJlVG9JdGVyYWJsZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX0lubmVyU3Vic2NyaWJlcixfc3Vic2NyaWJlVG8sX09ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgSW5uZXJTdWJzY3JpYmVyIH0gZnJvbSAnLi4vSW5uZXJTdWJzY3JpYmVyJztcbmltcG9ydCB7IHN1YnNjcmliZVRvIH0gZnJvbSAnLi9zdWJzY3JpYmVUbyc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5leHBvcnQgZnVuY3Rpb24gc3Vic2NyaWJlVG9SZXN1bHQob3V0ZXJTdWJzY3JpYmVyLCByZXN1bHQsIG91dGVyVmFsdWUsIG91dGVySW5kZXgsIGRlc3RpbmF0aW9uKSB7XG4gICAgaWYgKGRlc3RpbmF0aW9uID09PSB2b2lkIDApIHtcbiAgICAgICAgZGVzdGluYXRpb24gPSBuZXcgSW5uZXJTdWJzY3JpYmVyKG91dGVyU3Vic2NyaWJlciwgb3V0ZXJWYWx1ZSwgb3V0ZXJJbmRleCk7XG4gICAgfVxuICAgIGlmIChkZXN0aW5hdGlvbi5jbG9zZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIE9ic2VydmFibGUpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5zdWJzY3JpYmUoZGVzdGluYXRpb24pO1xuICAgIH1cbiAgICByZXR1cm4gc3Vic2NyaWJlVG8ocmVzdWx0KShkZXN0aW5hdGlvbik7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zdWJzY3JpYmVUb1Jlc3VsdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX3V0aWxfaXNTY2hlZHVsZXIsX3V0aWxfaXNBcnJheSxfT3V0ZXJTdWJzY3JpYmVyLF91dGlsX3N1YnNjcmliZVRvUmVzdWx0LF9mcm9tQXJyYXkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IE91dGVyU3Vic2NyaWJlciB9IGZyb20gJy4uL091dGVyU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb1Jlc3VsdCB9IGZyb20gJy4uL3V0aWwvc3Vic2NyaWJlVG9SZXN1bHQnO1xuaW1wb3J0IHsgZnJvbUFycmF5IH0gZnJvbSAnLi9mcm9tQXJyYXknO1xudmFyIE5PTkUgPSB7fTtcbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lTGF0ZXN0KCkge1xuICAgIHZhciBvYnNlcnZhYmxlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG9ic2VydmFibGVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciByZXN1bHRTZWxlY3RvciA9IG51bGw7XG4gICAgdmFyIHNjaGVkdWxlciA9IG51bGw7XG4gICAgaWYgKGlzU2NoZWR1bGVyKG9ic2VydmFibGVzW29ic2VydmFibGVzLmxlbmd0aCAtIDFdKSkge1xuICAgICAgICBzY2hlZHVsZXIgPSBvYnNlcnZhYmxlcy5wb3AoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYnNlcnZhYmxlc1tvYnNlcnZhYmxlcy5sZW5ndGggLSAxXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXN1bHRTZWxlY3RvciA9IG9ic2VydmFibGVzLnBvcCgpO1xuICAgIH1cbiAgICBpZiAob2JzZXJ2YWJsZXMubGVuZ3RoID09PSAxICYmIGlzQXJyYXkob2JzZXJ2YWJsZXNbMF0pKSB7XG4gICAgICAgIG9ic2VydmFibGVzID0gb2JzZXJ2YWJsZXNbMF07XG4gICAgfVxuICAgIHJldHVybiBmcm9tQXJyYXkob2JzZXJ2YWJsZXMsIHNjaGVkdWxlcikubGlmdChuZXcgQ29tYmluZUxhdGVzdE9wZXJhdG9yKHJlc3VsdFNlbGVjdG9yKSk7XG59XG52YXIgQ29tYmluZUxhdGVzdE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbWJpbmVMYXRlc3RPcGVyYXRvcihyZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICB0aGlzLnJlc3VsdFNlbGVjdG9yID0gcmVzdWx0U2VsZWN0b3I7XG4gICAgfVxuICAgIENvbWJpbmVMYXRlc3RPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IENvbWJpbmVMYXRlc3RTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMucmVzdWx0U2VsZWN0b3IpKTtcbiAgICB9O1xuICAgIHJldHVybiBDb21iaW5lTGF0ZXN0T3BlcmF0b3I7XG59KCkpO1xuZXhwb3J0IHsgQ29tYmluZUxhdGVzdE9wZXJhdG9yIH07XG52YXIgQ29tYmluZUxhdGVzdFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQ29tYmluZUxhdGVzdFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29tYmluZUxhdGVzdFN1YnNjcmliZXIoZGVzdGluYXRpb24sIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5yZXN1bHRTZWxlY3RvciA9IHJlc3VsdFNlbGVjdG9yO1xuICAgICAgICBfdGhpcy5hY3RpdmUgPSAwO1xuICAgICAgICBfdGhpcy52YWx1ZXMgPSBbXTtcbiAgICAgICAgX3RoaXMub2JzZXJ2YWJsZXMgPSBbXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAob2JzZXJ2YWJsZSkge1xuICAgICAgICB0aGlzLnZhbHVlcy5wdXNoKE5PTkUpO1xuICAgICAgICB0aGlzLm9ic2VydmFibGVzLnB1c2gob2JzZXJ2YWJsZSk7XG4gICAgfTtcbiAgICBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZXMgPSB0aGlzLm9ic2VydmFibGVzO1xuICAgICAgICB2YXIgbGVuID0gb2JzZXJ2YWJsZXMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGxlbjtcbiAgICAgICAgICAgIHRoaXMudG9SZXNwb25kID0gbGVuO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBvYnNlcnZhYmxlID0gb2JzZXJ2YWJsZXNbaV07XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQoc3Vic2NyaWJlVG9SZXN1bHQodGhpcywgb2JzZXJ2YWJsZSwgb2JzZXJ2YWJsZSwgaSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAodW51c2VkKSB7XG4gICAgICAgIGlmICgodGhpcy5hY3RpdmUgLT0gMSkgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29tYmluZUxhdGVzdFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAob3V0ZXJWYWx1ZSwgaW5uZXJWYWx1ZSwgb3V0ZXJJbmRleCwgaW5uZXJJbmRleCwgaW5uZXJTdWIpIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IHRoaXMudmFsdWVzO1xuICAgICAgICB2YXIgb2xkVmFsID0gdmFsdWVzW291dGVySW5kZXhdO1xuICAgICAgICB2YXIgdG9SZXNwb25kID0gIXRoaXMudG9SZXNwb25kXG4gICAgICAgICAgICA/IDBcbiAgICAgICAgICAgIDogb2xkVmFsID09PSBOT05FID8gLS10aGlzLnRvUmVzcG9uZCA6IHRoaXMudG9SZXNwb25kO1xuICAgICAgICB2YWx1ZXNbb3V0ZXJJbmRleF0gPSBpbm5lclZhbHVlO1xuICAgICAgICBpZiAodG9SZXNwb25kID09PSAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyeVJlc3VsdFNlbGVjdG9yKHZhbHVlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWVzLnNsaWNlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlci5wcm90b3R5cGUuX3RyeVJlc3VsdFNlbGVjdG9yID0gZnVuY3Rpb24gKHZhbHVlcykge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5yZXN1bHRTZWxlY3Rvci5hcHBseSh0aGlzLCB2YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQocmVzdWx0KTtcbiAgICB9O1xuICAgIHJldHVybiBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlcjtcbn0oT3V0ZXJTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tYmluZUxhdGVzdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3NjaGVkdWxlT2JzZXJ2YWJsZSxfc2NoZWR1bGVQcm9taXNlLF9zY2hlZHVsZUFycmF5LF9zY2hlZHVsZUl0ZXJhYmxlLF91dGlsX2lzSW50ZXJvcE9ic2VydmFibGUsX3V0aWxfaXNQcm9taXNlLF91dGlsX2lzQXJyYXlMaWtlLF91dGlsX2lzSXRlcmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgc2NoZWR1bGVPYnNlcnZhYmxlIH0gZnJvbSAnLi9zY2hlZHVsZU9ic2VydmFibGUnO1xuaW1wb3J0IHsgc2NoZWR1bGVQcm9taXNlIH0gZnJvbSAnLi9zY2hlZHVsZVByb21pc2UnO1xuaW1wb3J0IHsgc2NoZWR1bGVBcnJheSB9IGZyb20gJy4vc2NoZWR1bGVBcnJheSc7XG5pbXBvcnQgeyBzY2hlZHVsZUl0ZXJhYmxlIH0gZnJvbSAnLi9zY2hlZHVsZUl0ZXJhYmxlJztcbmltcG9ydCB7IGlzSW50ZXJvcE9ic2VydmFibGUgfSBmcm9tICcuLi91dGlsL2lzSW50ZXJvcE9ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC9pc1Byb21pc2UnO1xuaW1wb3J0IHsgaXNBcnJheUxpa2UgfSBmcm9tICcuLi91dGlsL2lzQXJyYXlMaWtlJztcbmltcG9ydCB7IGlzSXRlcmFibGUgfSBmcm9tICcuLi91dGlsL2lzSXRlcmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlZChpbnB1dCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGlzSW50ZXJvcE9ic2VydmFibGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVPYnNlcnZhYmxlKGlucHV0LCBzY2hlZHVsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUHJvbWlzZShpbnB1dCkpIHtcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZVByb21pc2UoaW5wdXQsIHNjaGVkdWxlcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNBcnJheUxpa2UoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVBcnJheShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpc0l0ZXJhYmxlKGlucHV0KSB8fCB0eXBlb2YgaW5wdXQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKChpbnB1dCAhPT0gbnVsbCAmJiB0eXBlb2YgaW5wdXQgfHwgaW5wdXQpICsgJyBpcyBub3Qgb2JzZXJ2YWJsZScpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVkLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc3ltYm9sX29ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4uL3N5bWJvbC9vYnNlcnZhYmxlJztcbmV4cG9ydCBmdW5jdGlvbiBpc0ludGVyb3BPYnNlcnZhYmxlKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0ICYmIHR5cGVvZiBpbnB1dFtTeW1ib2xfb2JzZXJ2YWJsZV0gPT09ICdmdW5jdGlvbic7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0ludGVyb3BPYnNlcnZhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfU3Vic2NyaXB0aW9uLF9zeW1ib2xfb2JzZXJ2YWJsZSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4uL3N5bWJvbC9vYnNlcnZhYmxlJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZU9ic2VydmFibGUoaW5wdXQsIHNjaGVkdWxlcikge1xuICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICB2YXIgc3ViID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IGlucHV0W1N5bWJvbF9vYnNlcnZhYmxlXSgpO1xuICAgICAgICAgICAgc3ViLmFkZChvYnNlcnZhYmxlLnN1YnNjcmliZSh7XG4gICAgICAgICAgICAgICAgbmV4dDogZnVuY3Rpb24gKHZhbHVlKSB7IHN1Yi5hZGQoc2NoZWR1bGVyLnNjaGVkdWxlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7IH0pKTsgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGVycikgeyBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmVycm9yKGVycik7IH0pKTsgfSxcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkgeyBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7IH0pKTsgfSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gc3ViO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVPYnNlcnZhYmxlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfU3Vic2NyaXB0aW9uIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJy4uL1N1YnNjcmlwdGlvbic7XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVQcm9taXNlKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN1YiA9IG5ldyBTdWJzY3JpcHRpb24oKTtcbiAgICAgICAgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0LnRoZW4oZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7IH0pKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnIpOyB9KSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gc3ViO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVQcm9taXNlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfc3ltYm9sX2l0ZXJhdG9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uL3N5bWJvbC9pdGVyYXRvcic7XG5leHBvcnQgZnVuY3Rpb24gaXNJdGVyYWJsZShpbnB1dCkge1xuICAgIHJldHVybiBpbnB1dCAmJiB0eXBlb2YgaW5wdXRbU3ltYm9sX2l0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzSXRlcmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9TdWJzY3JpcHRpb24sX3N5bWJvbF9pdGVyYXRvciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuLi9TdWJzY3JpcHRpb24nO1xuaW1wb3J0IHsgaXRlcmF0b3IgYXMgU3ltYm9sX2l0ZXJhdG9yIH0gZnJvbSAnLi4vc3ltYm9sL2l0ZXJhdG9yJztcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZUl0ZXJhYmxlKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoIWlucHV0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSXRlcmFibGUgY2Fubm90IGJlIG51bGwnKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWIgPSBuZXcgU3Vic2NyaXB0aW9uKCk7XG4gICAgICAgIHZhciBpdGVyYXRvcjtcbiAgICAgICAgc3ViLmFkZChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoaXRlcmF0b3IgJiYgdHlwZW9mIGl0ZXJhdG9yLnJldHVybiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgIGl0ZXJhdG9yLnJldHVybigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc3ViLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaXRlcmF0b3IgPSBpbnB1dFtTeW1ib2xfaXRlcmF0b3JdKCk7XG4gICAgICAgICAgICBzdWIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlO1xuICAgICAgICAgICAgICAgIHZhciBkb25lO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBkb25lID0gcmVzdWx0LmRvbmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHN1YjtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlSXRlcmFibGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF91dGlsX3N1YnNjcmliZVRvLF9zY2hlZHVsZWRfc2NoZWR1bGVkIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IHN1YnNjcmliZVRvIH0gZnJvbSAnLi4vdXRpbC9zdWJzY3JpYmVUbyc7XG5pbXBvcnQgeyBzY2hlZHVsZWQgfSBmcm9tICcuLi9zY2hlZHVsZWQvc2NoZWR1bGVkJztcbmV4cG9ydCBmdW5jdGlvbiBmcm9tKGlucHV0LCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoIXNjaGVkdWxlcikge1xuICAgICAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBPYnNlcnZhYmxlKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZVRvKGlucHV0KSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVkKGlucHV0LCBzY2hlZHVsZXIpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb20uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF91dGlsX3N1YnNjcmliZVRvUmVzdWx0LF9PdXRlclN1YnNjcmliZXIsX0lubmVyU3Vic2NyaWJlcixfbWFwLF9vYnNlcnZhYmxlX2Zyb20gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IHN1YnNjcmliZVRvUmVzdWx0IH0gZnJvbSAnLi4vdXRpbC9zdWJzY3JpYmVUb1Jlc3VsdCc7XG5pbXBvcnQgeyBPdXRlclN1YnNjcmliZXIgfSBmcm9tICcuLi9PdXRlclN1YnNjcmliZXInO1xuaW1wb3J0IHsgSW5uZXJTdWJzY3JpYmVyIH0gZnJvbSAnLi4vSW5uZXJTdWJzY3JpYmVyJztcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4vbWFwJztcbmltcG9ydCB7IGZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2Zyb20nO1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlTWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yLCBjb25jdXJyZW50KSB7XG4gICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkge1xuICAgICAgICBjb25jdXJyZW50ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHJlc3VsdFNlbGVjdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlKSB7IHJldHVybiBzb3VyY2UucGlwZShtZXJnZU1hcChmdW5jdGlvbiAoYSwgaSkgeyByZXR1cm4gZnJvbShwcm9qZWN0KGEsIGkpKS5waXBlKG1hcChmdW5jdGlvbiAoYiwgaWkpIHsgcmV0dXJuIHJlc3VsdFNlbGVjdG9yKGEsIGIsIGksIGlpKTsgfSkpOyB9LCBjb25jdXJyZW50KSk7IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiByZXN1bHRTZWxlY3RvciA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgY29uY3VycmVudCA9IHJlc3VsdFNlbGVjdG9yO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkgeyByZXR1cm4gc291cmNlLmxpZnQobmV3IE1lcmdlTWFwT3BlcmF0b3IocHJvamVjdCwgY29uY3VycmVudCkpOyB9O1xufVxudmFyIE1lcmdlTWFwT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTWVyZ2VNYXBPcGVyYXRvcihwcm9qZWN0LCBjb25jdXJyZW50KSB7XG4gICAgICAgIGlmIChjb25jdXJyZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgIGNvbmN1cnJlbnQgPSBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICAgICAgdGhpcy5jb25jdXJyZW50ID0gY29uY3VycmVudDtcbiAgICB9XG4gICAgTWVyZ2VNYXBPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChvYnNlcnZlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBNZXJnZU1hcFN1YnNjcmliZXIob2JzZXJ2ZXIsIHRoaXMucHJvamVjdCwgdGhpcy5jb25jdXJyZW50KSk7XG4gICAgfTtcbiAgICByZXR1cm4gTWVyZ2VNYXBPcGVyYXRvcjtcbn0oKSk7XG5leHBvcnQgeyBNZXJnZU1hcE9wZXJhdG9yIH07XG52YXIgTWVyZ2VNYXBTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKE1lcmdlTWFwU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBNZXJnZU1hcFN1YnNjcmliZXIoZGVzdGluYXRpb24sIHByb2plY3QsIGNvbmN1cnJlbnQpIHtcbiAgICAgICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgY29uY3VycmVudCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMucHJvamVjdCA9IHByb2plY3Q7XG4gICAgICAgIF90aGlzLmNvbmN1cnJlbnQgPSBjb25jdXJyZW50O1xuICAgICAgICBfdGhpcy5oYXNDb21wbGV0ZWQgPSBmYWxzZTtcbiAgICAgICAgX3RoaXMuYnVmZmVyID0gW107XG4gICAgICAgIF90aGlzLmFjdGl2ZSA9IDA7XG4gICAgICAgIF90aGlzLmluZGV4ID0gMDtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBNZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSA8IHRoaXMuY29uY3VycmVudCkge1xuICAgICAgICAgICAgdGhpcy5fdHJ5TmV4dCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmJ1ZmZlci5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTWVyZ2VNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fdHJ5TmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB2YXIgaW5kZXggPSB0aGlzLmluZGV4Kys7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnByb2plY3QodmFsdWUsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmUrKztcbiAgICAgICAgdGhpcy5faW5uZXJTdWIocmVzdWx0LCB2YWx1ZSwgaW5kZXgpO1xuICAgIH07XG4gICAgTWVyZ2VNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5faW5uZXJTdWIgPSBmdW5jdGlvbiAoaXNoLCB2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgdmFyIGlubmVyU3Vic2NyaWJlciA9IG5ldyBJbm5lclN1YnNjcmliZXIodGhpcywgdW5kZWZpbmVkLCB1bmRlZmluZWQpO1xuICAgICAgICB2YXIgZGVzdGluYXRpb24gPSB0aGlzLmRlc3RpbmF0aW9uO1xuICAgICAgICBkZXN0aW5hdGlvbi5hZGQoaW5uZXJTdWJzY3JpYmVyKTtcbiAgICAgICAgc3Vic2NyaWJlVG9SZXN1bHQodGhpcywgaXNoLCB2YWx1ZSwgaW5kZXgsIGlubmVyU3Vic2NyaWJlcik7XG4gICAgfTtcbiAgICBNZXJnZU1hcFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5oYXNDb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICBpZiAodGhpcy5hY3RpdmUgPT09IDAgJiYgdGhpcy5idWZmZXIubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgIH07XG4gICAgTWVyZ2VNYXBTdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlOZXh0ID0gZnVuY3Rpb24gKG91dGVyVmFsdWUsIGlubmVyVmFsdWUsIG91dGVySW5kZXgsIGlubmVySW5kZXgsIGlubmVyU3ViKSB7XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChpbm5lclZhbHVlKTtcbiAgICB9O1xuICAgIE1lcmdlTWFwU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAoaW5uZXJTdWIpIHtcbiAgICAgICAgdmFyIGJ1ZmZlciA9IHRoaXMuYnVmZmVyO1xuICAgICAgICB0aGlzLnJlbW92ZShpbm5lclN1Yik7XG4gICAgICAgIHRoaXMuYWN0aXZlLS07XG4gICAgICAgIGlmIChidWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fbmV4dChidWZmZXIuc2hpZnQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5hY3RpdmUgPT09IDAgJiYgdGhpcy5oYXNDb21wbGV0ZWQpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIE1lcmdlTWFwU3Vic2NyaWJlcjtcbn0oT3V0ZXJTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBNZXJnZU1hcFN1YnNjcmliZXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlTWFwLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfbWVyZ2VNYXAsX3V0aWxfaWRlbnRpdHkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgbWVyZ2VNYXAgfSBmcm9tICcuL21lcmdlTWFwJztcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VBbGwoY29uY3VycmVudCkge1xuICAgIGlmIChjb25jdXJyZW50ID09PSB2b2lkIDApIHtcbiAgICAgICAgY29uY3VycmVudCA9IE51bWJlci5QT1NJVElWRV9JTkZJTklUWTtcbiAgICB9XG4gICAgcmV0dXJuIG1lcmdlTWFwKGlkZW50aXR5LCBjb25jdXJyZW50KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlQWxsLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfb2YsX29wZXJhdG9yc19jb25jYXRBbGwgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgb2YgfSBmcm9tICcuL29mJztcbmltcG9ydCB7IGNvbmNhdEFsbCB9IGZyb20gJy4uL29wZXJhdG9ycy9jb25jYXRBbGwnO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdCgpIHtcbiAgICB2YXIgb2JzZXJ2YWJsZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBvYnNlcnZhYmxlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gY29uY2F0QWxsKCkob2YuYXBwbHkodm9pZCAwLCBvYnNlcnZhYmxlcykpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uY2F0LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfbWVyZ2VBbGwgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgbWVyZ2VBbGwgfSBmcm9tICcuL21lcmdlQWxsJztcbmV4cG9ydCBmdW5jdGlvbiBjb25jYXRBbGwoKSB7XG4gICAgcmV0dXJuIG1lcmdlQWxsKDEpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uY2F0QWxsLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfZnJvbSxfZW1wdHkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgZnJvbSB9IGZyb20gJy4vZnJvbSc7XG5pbXBvcnQgeyBlbXB0eSB9IGZyb20gJy4vZW1wdHknO1xuZXhwb3J0IGZ1bmN0aW9uIGRlZmVyKG9ic2VydmFibGVGYWN0b3J5KSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBpbnB1dDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlucHV0ID0gb2JzZXJ2YWJsZUZhY3RvcnkoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzb3VyY2UgPSBpbnB1dCA/IGZyb20oaW5wdXQpIDogZW1wdHkoKTtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUoc3Vic2NyaWJlcik7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kZWZlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3V0aWxfaXNBcnJheSxfb3BlcmF0b3JzX21hcCxfdXRpbF9pc09iamVjdCxfZnJvbSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4uL29wZXJhdG9ycy9tYXAnO1xuaW1wb3J0IHsgaXNPYmplY3QgfSBmcm9tICcuLi91dGlsL2lzT2JqZWN0JztcbmltcG9ydCB7IGZyb20gfSBmcm9tICcuL2Zyb20nO1xuZXhwb3J0IGZ1bmN0aW9uIGZvcmtKb2luKCkge1xuICAgIHZhciBzb3VyY2VzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgc291cmNlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICBpZiAoc291cmNlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgdmFyIGZpcnN0XzEgPSBzb3VyY2VzWzBdO1xuICAgICAgICBpZiAoaXNBcnJheShmaXJzdF8xKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZvcmtKb2luSW50ZXJuYWwoZmlyc3RfMSwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzT2JqZWN0KGZpcnN0XzEpICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihmaXJzdF8xKSA9PT0gT2JqZWN0LnByb3RvdHlwZSkge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhmaXJzdF8xKTtcbiAgICAgICAgICAgIHJldHVybiBmb3JrSm9pbkludGVybmFsKGtleXMubWFwKGZ1bmN0aW9uIChrZXkpIHsgcmV0dXJuIGZpcnN0XzFba2V5XTsgfSksIGtleXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc291cmNlc1tzb3VyY2VzLmxlbmd0aCAtIDFdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciByZXN1bHRTZWxlY3Rvcl8xID0gc291cmNlcy5wb3AoKTtcbiAgICAgICAgc291cmNlcyA9IChzb3VyY2VzLmxlbmd0aCA9PT0gMSAmJiBpc0FycmF5KHNvdXJjZXNbMF0pKSA/IHNvdXJjZXNbMF0gOiBzb3VyY2VzO1xuICAgICAgICByZXR1cm4gZm9ya0pvaW5JbnRlcm5hbChzb3VyY2VzLCBudWxsKS5waXBlKG1hcChmdW5jdGlvbiAoYXJncykgeyByZXR1cm4gcmVzdWx0U2VsZWN0b3JfMS5hcHBseSh2b2lkIDAsIGFyZ3MpOyB9KSk7XG4gICAgfVxuICAgIHJldHVybiBmb3JrSm9pbkludGVybmFsKHNvdXJjZXMsIG51bGwpO1xufVxuZnVuY3Rpb24gZm9ya0pvaW5JbnRlcm5hbChzb3VyY2VzLCBrZXlzKSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBsZW4gPSBzb3VyY2VzLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YWx1ZXMgPSBuZXcgQXJyYXkobGVuKTtcbiAgICAgICAgdmFyIGNvbXBsZXRlZCA9IDA7XG4gICAgICAgIHZhciBlbWl0dGVkID0gMDtcbiAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgdmFyIHNvdXJjZSA9IGZyb20oc291cmNlc1tpXSk7XG4gICAgICAgICAgICB2YXIgaGFzVmFsdWUgPSBmYWxzZTtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKHNvdXJjZS5zdWJzY3JpYmUoe1xuICAgICAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWhhc1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNWYWx1ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbWl0dGVkKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzW2ldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGVycikgeyByZXR1cm4gc3Vic2NyaWJlci5lcnJvcihlcnIpOyB9LFxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlZCsrO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tcGxldGVkID09PSBsZW4gfHwgIWhhc1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW1pdHRlZCA9PT0gbGVuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGtleXMgP1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXlzLnJlZHVjZShmdW5jdGlvbiAocmVzdWx0LCBrZXksIGkpIHsgcmV0dXJuIChyZXN1bHRba2V5XSA9IHZhbHVlc1tpXSwgcmVzdWx0KTsgfSwge30pIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgX2xvb3BfMShpKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm9ya0pvaW4uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF91dGlsX2lzQXJyYXksX3V0aWxfaXNGdW5jdGlvbixfb3BlcmF0b3JzX21hcCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xuaW1wb3J0IHsgbWFwIH0gZnJvbSAnLi4vb3BlcmF0b3JzL21hcCc7XG52YXIgdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21FdmVudCh0YXJnZXQsIGV2ZW50TmFtZSwgb3B0aW9ucywgcmVzdWx0U2VsZWN0b3IpIHtcbiAgICBpZiAoaXNGdW5jdGlvbihvcHRpb25zKSkge1xuICAgICAgICByZXN1bHRTZWxlY3RvciA9IG9wdGlvbnM7XG4gICAgICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChyZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICByZXR1cm4gZnJvbUV2ZW50KHRhcmdldCwgZXZlbnROYW1lLCBvcHRpb25zKS5waXBlKG1hcChmdW5jdGlvbiAoYXJncykgeyByZXR1cm4gaXNBcnJheShhcmdzKSA/IHJlc3VsdFNlbGVjdG9yLmFwcGx5KHZvaWQgMCwgYXJncykgOiByZXN1bHRTZWxlY3RvcihhcmdzKTsgfSkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlcihlKSB7XG4gICAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2V0dXBTdWJzY3JpcHRpb24odGFyZ2V0LCBldmVudE5hbWUsIGhhbmRsZXIsIHN1YnNjcmliZXIsIG9wdGlvbnMpO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gc2V0dXBTdWJzY3JpcHRpb24oc291cmNlT2JqLCBldmVudE5hbWUsIGhhbmRsZXIsIHN1YnNjcmliZXIsIG9wdGlvbnMpIHtcbiAgICB2YXIgdW5zdWJzY3JpYmU7XG4gICAgaWYgKGlzRXZlbnRUYXJnZXQoc291cmNlT2JqKSkge1xuICAgICAgICB2YXIgc291cmNlXzEgPSBzb3VyY2VPYmo7XG4gICAgICAgIHNvdXJjZU9iai5hZGRFdmVudExpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgICAgIHVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gc291cmNlXzEucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIsIG9wdGlvbnMpOyB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyKHNvdXJjZU9iaikpIHtcbiAgICAgICAgdmFyIHNvdXJjZV8yID0gc291cmNlT2JqO1xuICAgICAgICBzb3VyY2VPYmoub24oZXZlbnROYW1lLCBoYW5kbGVyKTtcbiAgICAgICAgdW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzb3VyY2VfMi5vZmYoZXZlbnROYW1lLCBoYW5kbGVyKTsgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNOb2RlU3R5bGVFdmVudEVtaXR0ZXIoc291cmNlT2JqKSkge1xuICAgICAgICB2YXIgc291cmNlXzMgPSBzb3VyY2VPYmo7XG4gICAgICAgIHNvdXJjZU9iai5hZGRMaXN0ZW5lcihldmVudE5hbWUsIGhhbmRsZXIpO1xuICAgICAgICB1bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNvdXJjZV8zLnJlbW92ZUxpc3RlbmVyKGV2ZW50TmFtZSwgaGFuZGxlcik7IH07XG4gICAgfVxuICAgIGVsc2UgaWYgKHNvdXJjZU9iaiAmJiBzb3VyY2VPYmoubGVuZ3RoKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBzb3VyY2VPYmoubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHNldHVwU3Vic2NyaXB0aW9uKHNvdXJjZU9ialtpXSwgZXZlbnROYW1lLCBoYW5kbGVyLCBzdWJzY3JpYmVyLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBldmVudCB0YXJnZXQnKTtcbiAgICB9XG4gICAgc3Vic2NyaWJlci5hZGQodW5zdWJzY3JpYmUpO1xufVxuZnVuY3Rpb24gaXNOb2RlU3R5bGVFdmVudEVtaXR0ZXIoc291cmNlT2JqKSB7XG4gICAgcmV0dXJuIHNvdXJjZU9iaiAmJiB0eXBlb2Ygc291cmNlT2JqLmFkZExpc3RlbmVyID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBzb3VyY2VPYmoucmVtb3ZlTGlzdGVuZXIgPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyKHNvdXJjZU9iaikge1xuICAgIHJldHVybiBzb3VyY2VPYmogJiYgdHlwZW9mIHNvdXJjZU9iai5vbiA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2Ygc291cmNlT2JqLm9mZiA9PT0gJ2Z1bmN0aW9uJztcbn1cbmZ1bmN0aW9uIGlzRXZlbnRUYXJnZXQoc291cmNlT2JqKSB7XG4gICAgcmV0dXJuIHNvdXJjZU9iaiAmJiB0eXBlb2Ygc291cmNlT2JqLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHNvdXJjZU9iai5yZW1vdmVFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZnJvbUV2ZW50LmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfdXRpbF9pc0FycmF5LF91dGlsX2lzRnVuY3Rpb24sX29wZXJhdG9yc19tYXAgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheSc7XG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcbmltcG9ydCB7IG1hcCB9IGZyb20gJy4uL29wZXJhdG9ycy9tYXAnO1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21FdmVudFBhdHRlcm4oYWRkSGFuZGxlciwgcmVtb3ZlSGFuZGxlciwgcmVzdWx0U2VsZWN0b3IpIHtcbiAgICBpZiAocmVzdWx0U2VsZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIGZyb21FdmVudFBhdHRlcm4oYWRkSGFuZGxlciwgcmVtb3ZlSGFuZGxlcikucGlwZShtYXAoZnVuY3Rpb24gKGFyZ3MpIHsgcmV0dXJuIGlzQXJyYXkoYXJncykgPyByZXN1bHRTZWxlY3Rvci5hcHBseSh2b2lkIDAsIGFyZ3MpIDogcmVzdWx0U2VsZWN0b3IoYXJncyk7IH0pKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBoYW5kbGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGUgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgZVtfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN1YnNjcmliZXIubmV4dChlLmxlbmd0aCA9PT0gMSA/IGVbMF0gOiBlKTtcbiAgICAgICAgfTtcbiAgICAgICAgdmFyIHJldFZhbHVlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0VmFsdWUgPSBhZGRIYW5kbGVyKGhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0Z1bmN0aW9uKHJlbW92ZUhhbmRsZXIpKSB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiByZW1vdmVIYW5kbGVyKGhhbmRsZXIsIHJldFZhbHVlKTsgfTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb21FdmVudFBhdHRlcm4uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF91dGlsX2lkZW50aXR5LF91dGlsX2lzU2NoZWR1bGVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGlkZW50aXR5IH0gZnJvbSAnLi4vdXRpbC9pZGVudGl0eSc7XG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvaXNTY2hlZHVsZXInO1xuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlKGluaXRpYWxTdGF0ZU9yT3B0aW9ucywgY29uZGl0aW9uLCBpdGVyYXRlLCByZXN1bHRTZWxlY3Rvck9yT2JzZXJ2YWJsZSwgc2NoZWR1bGVyKSB7XG4gICAgdmFyIHJlc3VsdFNlbGVjdG9yO1xuICAgIHZhciBpbml0aWFsU3RhdGU7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMSkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGluaXRpYWxTdGF0ZU9yT3B0aW9ucztcbiAgICAgICAgaW5pdGlhbFN0YXRlID0gb3B0aW9ucy5pbml0aWFsU3RhdGU7XG4gICAgICAgIGNvbmRpdGlvbiA9IG9wdGlvbnMuY29uZGl0aW9uO1xuICAgICAgICBpdGVyYXRlID0gb3B0aW9ucy5pdGVyYXRlO1xuICAgICAgICByZXN1bHRTZWxlY3RvciA9IG9wdGlvbnMucmVzdWx0U2VsZWN0b3IgfHwgaWRlbnRpdHk7XG4gICAgICAgIHNjaGVkdWxlciA9IG9wdGlvbnMuc2NoZWR1bGVyO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZXN1bHRTZWxlY3Rvck9yT2JzZXJ2YWJsZSA9PT0gdW5kZWZpbmVkIHx8IGlzU2NoZWR1bGVyKHJlc3VsdFNlbGVjdG9yT3JPYnNlcnZhYmxlKSkge1xuICAgICAgICBpbml0aWFsU3RhdGUgPSBpbml0aWFsU3RhdGVPck9wdGlvbnM7XG4gICAgICAgIHJlc3VsdFNlbGVjdG9yID0gaWRlbnRpdHk7XG4gICAgICAgIHNjaGVkdWxlciA9IHJlc3VsdFNlbGVjdG9yT3JPYnNlcnZhYmxlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaW5pdGlhbFN0YXRlID0gaW5pdGlhbFN0YXRlT3JPcHRpb25zO1xuICAgICAgICByZXN1bHRTZWxlY3RvciA9IHJlc3VsdFNlbGVjdG9yT3JPYnNlcnZhYmxlO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gaW5pdGlhbFN0YXRlO1xuICAgICAgICBpZiAoc2NoZWR1bGVyKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoLCAwLCB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlcjogc3Vic2NyaWJlcixcbiAgICAgICAgICAgICAgICBpdGVyYXRlOiBpdGVyYXRlLFxuICAgICAgICAgICAgICAgIGNvbmRpdGlvbjogY29uZGl0aW9uLFxuICAgICAgICAgICAgICAgIHJlc3VsdFNlbGVjdG9yOiByZXN1bHRTZWxlY3RvcixcbiAgICAgICAgICAgICAgICBzdGF0ZTogc3RhdGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGRvIHtcbiAgICAgICAgICAgIGlmIChjb25kaXRpb24pIHtcbiAgICAgICAgICAgICAgICB2YXIgY29uZGl0aW9uUmVzdWx0ID0gdm9pZCAwO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbmRpdGlvblJlc3VsdCA9IGNvbmRpdGlvbihzdGF0ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWNvbmRpdGlvblJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB2YWx1ZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSByZXN1bHRTZWxlY3RvcihzdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xuICAgICAgICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHN0YXRlID0gaXRlcmF0ZShzdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gd2hpbGUgKHRydWUpO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gZGlzcGF0Y2goc3RhdGUpIHtcbiAgICB2YXIgc3Vic2NyaWJlciA9IHN0YXRlLnN1YnNjcmliZXIsIGNvbmRpdGlvbiA9IHN0YXRlLmNvbmRpdGlvbjtcbiAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHN0YXRlLm5lZWRJdGVyYXRlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzdGF0ZS5zdGF0ZSA9IHN0YXRlLml0ZXJhdGUoc3RhdGUuc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHN0YXRlLm5lZWRJdGVyYXRlID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGNvbmRpdGlvbikge1xuICAgICAgICB2YXIgY29uZGl0aW9uUmVzdWx0ID0gdm9pZCAwO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uZGl0aW9uUmVzdWx0ID0gY29uZGl0aW9uKHN0YXRlLnN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29uZGl0aW9uUmVzdWx0KSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgdmFsdWU7XG4gICAgdHJ5IHtcbiAgICAgICAgdmFsdWUgPSBzdGF0ZS5yZXN1bHRTZWxlY3RvcihzdGF0ZS5zdGF0ZSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcbiAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuc2NoZWR1bGUoc3RhdGUpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2VuZXJhdGUuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9kZWZlcixfZW1wdHkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgZGVmZXIgfSBmcm9tICcuL2RlZmVyJztcbmltcG9ydCB7IEVNUFRZIH0gZnJvbSAnLi9lbXB0eSc7XG5leHBvcnQgZnVuY3Rpb24gaWlmKGNvbmRpdGlvbiwgdHJ1ZVJlc3VsdCwgZmFsc2VSZXN1bHQpIHtcbiAgICBpZiAodHJ1ZVJlc3VsdCA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHRydWVSZXN1bHQgPSBFTVBUWTtcbiAgICB9XG4gICAgaWYgKGZhbHNlUmVzdWx0ID09PSB2b2lkIDApIHtcbiAgICAgICAgZmFsc2VSZXN1bHQgPSBFTVBUWTtcbiAgICB9XG4gICAgcmV0dXJuIGRlZmVyKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvbmRpdGlvbigpID8gdHJ1ZVJlc3VsdCA6IGZhbHNlUmVzdWx0OyB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlpZi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX2lzQXJyYXkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4vaXNBcnJheSc7XG5leHBvcnQgZnVuY3Rpb24gaXNOdW1lcmljKHZhbCkge1xuICAgIHJldHVybiAhaXNBcnJheSh2YWwpICYmICh2YWwgLSBwYXJzZUZsb2F0KHZhbCkgKyAxKSA+PSAwO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNOdW1lcmljLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfc2NoZWR1bGVyX2FzeW5jLF91dGlsX2lzTnVtZXJpYyBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBhc3luYyB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5pbXBvcnQgeyBpc051bWVyaWMgfSBmcm9tICcuLi91dGlsL2lzTnVtZXJpYyc7XG5leHBvcnQgZnVuY3Rpb24gaW50ZXJ2YWwocGVyaW9kLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAocGVyaW9kID09PSB2b2lkIDApIHtcbiAgICAgICAgcGVyaW9kID0gMDtcbiAgICB9XG4gICAgaWYgKHNjaGVkdWxlciA9PT0gdm9pZCAwKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IGFzeW5jO1xuICAgIH1cbiAgICBpZiAoIWlzTnVtZXJpYyhwZXJpb2QpIHx8IHBlcmlvZCA8IDApIHtcbiAgICAgICAgcGVyaW9kID0gMDtcbiAgICB9XG4gICAgaWYgKCFzY2hlZHVsZXIgfHwgdHlwZW9mIHNjaGVkdWxlci5zY2hlZHVsZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBzY2hlZHVsZXIgPSBhc3luYztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHN1YnNjcmliZXIuYWRkKHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaCwgcGVyaW9kLCB7IHN1YnNjcmliZXI6IHN1YnNjcmliZXIsIGNvdW50ZXI6IDAsIHBlcmlvZDogcGVyaW9kIH0pKTtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZXI7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBkaXNwYXRjaChzdGF0ZSkge1xuICAgIHZhciBzdWJzY3JpYmVyID0gc3RhdGUuc3Vic2NyaWJlciwgY291bnRlciA9IHN0YXRlLmNvdW50ZXIsIHBlcmlvZCA9IHN0YXRlLnBlcmlvZDtcbiAgICBzdWJzY3JpYmVyLm5leHQoY291bnRlcik7XG4gICAgdGhpcy5zY2hlZHVsZSh7IHN1YnNjcmliZXI6IHN1YnNjcmliZXIsIGNvdW50ZXI6IGNvdW50ZXIgKyAxLCBwZXJpb2Q6IHBlcmlvZCB9LCBwZXJpb2QpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJ2YWwuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF91dGlsX2lzU2NoZWR1bGVyLF9vcGVyYXRvcnNfbWVyZ2VBbGwsX2Zyb21BcnJheSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvaXNTY2hlZHVsZXInO1xuaW1wb3J0IHsgbWVyZ2VBbGwgfSBmcm9tICcuLi9vcGVyYXRvcnMvbWVyZ2VBbGwnO1xuaW1wb3J0IHsgZnJvbUFycmF5IH0gZnJvbSAnLi9mcm9tQXJyYXknO1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlKCkge1xuICAgIHZhciBvYnNlcnZhYmxlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG9ic2VydmFibGVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBjb25jdXJyZW50ID0gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgIHZhciBzY2hlZHVsZXIgPSBudWxsO1xuICAgIHZhciBsYXN0ID0gb2JzZXJ2YWJsZXNbb2JzZXJ2YWJsZXMubGVuZ3RoIC0gMV07XG4gICAgaWYgKGlzU2NoZWR1bGVyKGxhc3QpKSB7XG4gICAgICAgIHNjaGVkdWxlciA9IG9ic2VydmFibGVzLnBvcCgpO1xuICAgICAgICBpZiAob2JzZXJ2YWJsZXMubGVuZ3RoID4gMSAmJiB0eXBlb2Ygb2JzZXJ2YWJsZXNbb2JzZXJ2YWJsZXMubGVuZ3RoIC0gMV0gPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBjb25jdXJyZW50ID0gb2JzZXJ2YWJsZXMucG9wKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGxhc3QgPT09ICdudW1iZXInKSB7XG4gICAgICAgIGNvbmN1cnJlbnQgPSBvYnNlcnZhYmxlcy5wb3AoKTtcbiAgICB9XG4gICAgaWYgKHNjaGVkdWxlciA9PT0gbnVsbCAmJiBvYnNlcnZhYmxlcy5sZW5ndGggPT09IDEgJiYgb2JzZXJ2YWJsZXNbMF0gaW5zdGFuY2VvZiBPYnNlcnZhYmxlKSB7XG4gICAgICAgIHJldHVybiBvYnNlcnZhYmxlc1swXTtcbiAgICB9XG4gICAgcmV0dXJuIG1lcmdlQWxsKGNvbmN1cnJlbnQpKGZyb21BcnJheShvYnNlcnZhYmxlcywgc2NoZWR1bGVyKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXJnZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX3V0aWxfbm9vcCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi4vdXRpbC9ub29wJztcbmV4cG9ydCB2YXIgTkVWRVIgPSAvKkBfX1BVUkVfXyovIG5ldyBPYnNlcnZhYmxlKG5vb3ApO1xuZXhwb3J0IGZ1bmN0aW9uIG5ldmVyKCkge1xuICAgIHJldHVybiBORVZFUjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5ldmVyLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfZnJvbSxfdXRpbF9pc0FycmF5LF9lbXB0eSBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBmcm9tIH0gZnJvbSAnLi9mcm9tJztcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgRU1QVFkgfSBmcm9tICcuL2VtcHR5JztcbmV4cG9ydCBmdW5jdGlvbiBvbkVycm9yUmVzdW1lTmV4dCgpIHtcbiAgICB2YXIgc291cmNlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIHNvdXJjZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgaWYgKHNvdXJjZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBFTVBUWTtcbiAgICB9XG4gICAgdmFyIGZpcnN0ID0gc291cmNlc1swXSwgcmVtYWluZGVyID0gc291cmNlcy5zbGljZSgxKTtcbiAgICBpZiAoc291cmNlcy5sZW5ndGggPT09IDEgJiYgaXNBcnJheShmaXJzdCkpIHtcbiAgICAgICAgcmV0dXJuIG9uRXJyb3JSZXN1bWVOZXh0LmFwcGx5KHZvaWQgMCwgZmlyc3QpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgdmFyIHN1Yk5leHQgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBzdWJzY3JpYmVyLmFkZChvbkVycm9yUmVzdW1lTmV4dC5hcHBseSh2b2lkIDAsIHJlbWFpbmRlcikuc3Vic2NyaWJlKHN1YnNjcmliZXIpKTsgfTtcbiAgICAgICAgcmV0dXJuIGZyb20oZmlyc3QpLnN1YnNjcmliZSh7XG4gICAgICAgICAgICBuZXh0OiBmdW5jdGlvbiAodmFsdWUpIHsgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTsgfSxcbiAgICAgICAgICAgIGVycm9yOiBzdWJOZXh0LFxuICAgICAgICAgICAgY29tcGxldGU6IHN1Yk5leHQsXG4gICAgICAgIH0pO1xuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b25FcnJvclJlc3VtZU5leHQuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF9PYnNlcnZhYmxlLF9TdWJzY3JpcHRpb24gUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcbmV4cG9ydCBmdW5jdGlvbiBwYWlycyhvYmosIHNjaGVkdWxlcikge1xuICAgIGlmICghc2NoZWR1bGVyKSB7XG4gICAgICAgIHJldHVybiBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAoc3Vic2NyaWJlcikge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aCAmJiAhc3Vic2NyaWJlci5jbG9zZWQ7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoW2tleSwgb2JqW2tleV1dKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gbmV3IFN1YnNjcmlwdGlvbigpO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9uLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZGlzcGF0Y2gsIDAsIHsga2V5czoga2V5cywgaW5kZXg6IDAsIHN1YnNjcmliZXI6IHN1YnNjcmliZXIsIHN1YnNjcmlwdGlvbjogc3Vic2NyaXB0aW9uLCBvYmo6IG9iaiB9KSk7XG4gICAgICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZGlzcGF0Y2goc3RhdGUpIHtcbiAgICB2YXIga2V5cyA9IHN0YXRlLmtleXMsIGluZGV4ID0gc3RhdGUuaW5kZXgsIHN1YnNjcmliZXIgPSBzdGF0ZS5zdWJzY3JpYmVyLCBzdWJzY3JpcHRpb24gPSBzdGF0ZS5zdWJzY3JpcHRpb24sIG9iaiA9IHN0YXRlLm9iajtcbiAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XG4gICAgICAgIGlmIChpbmRleCA8IGtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB2YXIga2V5ID0ga2V5c1tpbmRleF07XG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoW2tleSwgb2JqW2tleV1dKTtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi5hZGQodGhpcy5zY2hlZHVsZSh7IGtleXM6IGtleXMsIGluZGV4OiBpbmRleCArIDEsIHN1YnNjcmliZXI6IHN1YnNjcmliZXIsIHN1YnNjcmlwdGlvbjogc3Vic2NyaXB0aW9uLCBvYmo6IG9iaiB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWlycy5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCBmdW5jdGlvbiBub3QocHJlZCwgdGhpc0FyZykge1xuICAgIGZ1bmN0aW9uIG5vdFByZWQoKSB7XG4gICAgICAgIHJldHVybiAhKG5vdFByZWQucHJlZC5hcHBseShub3RQcmVkLnRoaXNBcmcsIGFyZ3VtZW50cykpO1xuICAgIH1cbiAgICBub3RQcmVkLnByZWQgPSBwcmVkO1xuICAgIG5vdFByZWQudGhpc0FyZyA9IHRoaXNBcmc7XG4gICAgcmV0dXJuIG5vdFByZWQ7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ub3QuanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9TdWJzY3JpYmVyIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi4vU3Vic2NyaWJlcic7XG5leHBvcnQgZnVuY3Rpb24gZmlsdGVyKHByZWRpY2F0ZSwgdGhpc0FyZykge1xuICAgIHJldHVybiBmdW5jdGlvbiBmaWx0ZXJPcGVyYXRvckZ1bmN0aW9uKHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLmxpZnQobmV3IEZpbHRlck9wZXJhdG9yKHByZWRpY2F0ZSwgdGhpc0FyZykpO1xuICAgIH07XG59XG52YXIgRmlsdGVyT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gRmlsdGVyT3BlcmF0b3IocHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgICAgIHRoaXMucHJlZGljYXRlID0gcHJlZGljYXRlO1xuICAgICAgICB0aGlzLnRoaXNBcmcgPSB0aGlzQXJnO1xuICAgIH1cbiAgICBGaWx0ZXJPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IEZpbHRlclN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5wcmVkaWNhdGUsIHRoaXMudGhpc0FyZykpO1xuICAgIH07XG4gICAgcmV0dXJuIEZpbHRlck9wZXJhdG9yO1xufSgpKTtcbnZhciBGaWx0ZXJTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKEZpbHRlclN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gRmlsdGVyU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgcHJlZGljYXRlLCB0aGlzQXJnKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5wcmVkaWNhdGUgPSBwcmVkaWNhdGU7XG4gICAgICAgIF90aGlzLnRoaXNBcmcgPSB0aGlzQXJnO1xuICAgICAgICBfdGhpcy5jb3VudCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgRmlsdGVyU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMucHJlZGljYXRlLmNhbGwodGhpcy50aGlzQXJnLCB2YWx1ZSwgdGhpcy5jb3VudCsrKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKGVycik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIEZpbHRlclN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3V0aWxfbm90LF91dGlsX3N1YnNjcmliZVRvLF9vcGVyYXRvcnNfZmlsdGVyLF9PYnNlcnZhYmxlIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IG5vdCB9IGZyb20gJy4uL3V0aWwvbm90JztcbmltcG9ydCB7IHN1YnNjcmliZVRvIH0gZnJvbSAnLi4vdXRpbC9zdWJzY3JpYmVUbyc7XG5pbXBvcnQgeyBmaWx0ZXIgfSBmcm9tICcuLi9vcGVyYXRvcnMvZmlsdGVyJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmV4cG9ydCBmdW5jdGlvbiBwYXJ0aXRpb24oc291cmNlLCBwcmVkaWNhdGUsIHRoaXNBcmcpIHtcbiAgICByZXR1cm4gW1xuICAgICAgICBmaWx0ZXIocHJlZGljYXRlLCB0aGlzQXJnKShuZXcgT2JzZXJ2YWJsZShzdWJzY3JpYmVUbyhzb3VyY2UpKSksXG4gICAgICAgIGZpbHRlcihub3QocHJlZGljYXRlLCB0aGlzQXJnKSkobmV3IE9ic2VydmFibGUoc3Vic2NyaWJlVG8oc291cmNlKSkpXG4gICAgXTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnRpdGlvbi5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX3V0aWxfaXNBcnJheSxfZnJvbUFycmF5LF9PdXRlclN1YnNjcmliZXIsX3V0aWxfc3Vic2NyaWJlVG9SZXN1bHQgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuLi91dGlsL2lzQXJyYXknO1xuaW1wb3J0IHsgZnJvbUFycmF5IH0gZnJvbSAnLi9mcm9tQXJyYXknO1xuaW1wb3J0IHsgT3V0ZXJTdWJzY3JpYmVyIH0gZnJvbSAnLi4vT3V0ZXJTdWJzY3JpYmVyJztcbmltcG9ydCB7IHN1YnNjcmliZVRvUmVzdWx0IH0gZnJvbSAnLi4vdXRpbC9zdWJzY3JpYmVUb1Jlc3VsdCc7XG5leHBvcnQgZnVuY3Rpb24gcmFjZSgpIHtcbiAgICB2YXIgb2JzZXJ2YWJsZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBvYnNlcnZhYmxlc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICBpZiAob2JzZXJ2YWJsZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGlmIChpc0FycmF5KG9ic2VydmFibGVzWzBdKSkge1xuICAgICAgICAgICAgb2JzZXJ2YWJsZXMgPSBvYnNlcnZhYmxlc1swXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBvYnNlcnZhYmxlc1swXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZnJvbUFycmF5KG9ic2VydmFibGVzLCB1bmRlZmluZWQpLmxpZnQobmV3IFJhY2VPcGVyYXRvcigpKTtcbn1cbnZhciBSYWNlT3BlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmFjZU9wZXJhdG9yKCkge1xuICAgIH1cbiAgICBSYWNlT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBSYWNlU3Vic2NyaWJlcihzdWJzY3JpYmVyKSk7XG4gICAgfTtcbiAgICByZXR1cm4gUmFjZU9wZXJhdG9yO1xufSgpKTtcbmV4cG9ydCB7IFJhY2VPcGVyYXRvciB9O1xudmFyIFJhY2VTdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFJhY2VTdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFJhY2VTdWJzY3JpYmVyKGRlc3RpbmF0aW9uKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5oYXNGaXJzdCA9IGZhbHNlO1xuICAgICAgICBfdGhpcy5vYnNlcnZhYmxlcyA9IFtdO1xuICAgICAgICBfdGhpcy5zdWJzY3JpcHRpb25zID0gW107XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgUmFjZVN1YnNjcmliZXIucHJvdG90eXBlLl9uZXh0ID0gZnVuY3Rpb24gKG9ic2VydmFibGUpIHtcbiAgICAgICAgdGhpcy5vYnNlcnZhYmxlcy5wdXNoKG9ic2VydmFibGUpO1xuICAgIH07XG4gICAgUmFjZVN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG9ic2VydmFibGVzID0gdGhpcy5vYnNlcnZhYmxlcztcbiAgICAgICAgdmFyIGxlbiA9IG9ic2VydmFibGVzLmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbiA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW4gJiYgIXRoaXMuaGFzRmlyc3Q7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBvYnNlcnZhYmxlID0gb2JzZXJ2YWJsZXNbaV07XG4gICAgICAgICAgICAgICAgdmFyIHN1YnNjcmlwdGlvbiA9IHN1YnNjcmliZVRvUmVzdWx0KHRoaXMsIG9ic2VydmFibGUsIG9ic2VydmFibGUsIGkpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnN1YnNjcmlwdGlvbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMub2JzZXJ2YWJsZXMgPSBudWxsO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSYWNlU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChvdXRlclZhbHVlLCBpbm5lclZhbHVlLCBvdXRlckluZGV4LCBpbm5lckluZGV4LCBpbm5lclN1Yikge1xuICAgICAgICBpZiAoIXRoaXMuaGFzRmlyc3QpIHtcbiAgICAgICAgICAgIHRoaXMuaGFzRmlyc3QgPSB0cnVlO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnN1YnNjcmlwdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoaSAhPT0gb3V0ZXJJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gdGhpcy5zdWJzY3JpcHRpb25zW2ldO1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmUoc3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChpbm5lclZhbHVlKTtcbiAgICB9O1xuICAgIHJldHVybiBSYWNlU3Vic2NyaWJlcjtcbn0oT3V0ZXJTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBSYWNlU3Vic2NyaWJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmFjZS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xuZXhwb3J0IGZ1bmN0aW9uIHJhbmdlKHN0YXJ0LCBjb3VudCwgc2NoZWR1bGVyKSB7XG4gICAgaWYgKHN0YXJ0ID09PSB2b2lkIDApIHtcbiAgICAgICAgc3RhcnQgPSAwO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgICAgICAgaWYgKGNvdW50ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvdW50ID0gc3RhcnQ7XG4gICAgICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGluZGV4ID0gMDtcbiAgICAgICAgdmFyIGN1cnJlbnQgPSBzdGFydDtcbiAgICAgICAgaWYgKHNjaGVkdWxlcikge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlci5zY2hlZHVsZShkaXNwYXRjaCwgMCwge1xuICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCwgY291bnQ6IGNvdW50LCBzdGFydDogc3RhcnQsIHN1YnNjcmliZXI6IHN1YnNjcmliZXJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCsrID49IGNvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChjdXJyZW50KyspO1xuICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpYmVyLmNsb3NlZCkge1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlICh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRpc3BhdGNoKHN0YXRlKSB7XG4gICAgdmFyIHN0YXJ0ID0gc3RhdGUuc3RhcnQsIGluZGV4ID0gc3RhdGUuaW5kZXgsIGNvdW50ID0gc3RhdGUuY291bnQsIHN1YnNjcmliZXIgPSBzdGF0ZS5zdWJzY3JpYmVyO1xuICAgIGlmIChpbmRleCA+PSBjb3VudCkge1xuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3Vic2NyaWJlci5uZXh0KHN0YXJ0KTtcbiAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzdGF0ZS5pbmRleCA9IGluZGV4ICsgMTtcbiAgICBzdGF0ZS5zdGFydCA9IHN0YXJ0ICsgMTtcbiAgICB0aGlzLnNjaGVkdWxlKHN0YXRlKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJhbmdlLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCBfT2JzZXJ2YWJsZSxfc2NoZWR1bGVyX2FzeW5jLF91dGlsX2lzTnVtZXJpYyxfdXRpbF9pc1NjaGVkdWxlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XG5pbXBvcnQgeyBhc3luYyB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XG5pbXBvcnQgeyBpc051bWVyaWMgfSBmcm9tICcuLi91dGlsL2lzTnVtZXJpYyc7XG5pbXBvcnQgeyBpc1NjaGVkdWxlciB9IGZyb20gJy4uL3V0aWwvaXNTY2hlZHVsZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHRpbWVyKGR1ZVRpbWUsIHBlcmlvZE9yU2NoZWR1bGVyLCBzY2hlZHVsZXIpIHtcbiAgICBpZiAoZHVlVGltZSA9PT0gdm9pZCAwKSB7XG4gICAgICAgIGR1ZVRpbWUgPSAwO1xuICAgIH1cbiAgICB2YXIgcGVyaW9kID0gLTE7XG4gICAgaWYgKGlzTnVtZXJpYyhwZXJpb2RPclNjaGVkdWxlcikpIHtcbiAgICAgICAgcGVyaW9kID0gTnVtYmVyKHBlcmlvZE9yU2NoZWR1bGVyKSA8IDEgJiYgMSB8fCBOdW1iZXIocGVyaW9kT3JTY2hlZHVsZXIpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc1NjaGVkdWxlcihwZXJpb2RPclNjaGVkdWxlcikpIHtcbiAgICAgICAgc2NoZWR1bGVyID0gcGVyaW9kT3JTY2hlZHVsZXI7XG4gICAgfVxuICAgIGlmICghaXNTY2hlZHVsZXIoc2NoZWR1bGVyKSkge1xuICAgICAgICBzY2hlZHVsZXIgPSBhc3luYztcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBkdWUgPSBpc051bWVyaWMoZHVlVGltZSlcbiAgICAgICAgICAgID8gZHVlVGltZVxuICAgICAgICAgICAgOiAoK2R1ZVRpbWUgLSBzY2hlZHVsZXIubm93KCkpO1xuICAgICAgICByZXR1cm4gc2NoZWR1bGVyLnNjaGVkdWxlKGRpc3BhdGNoLCBkdWUsIHtcbiAgICAgICAgICAgIGluZGV4OiAwLCBwZXJpb2Q6IHBlcmlvZCwgc3Vic2NyaWJlcjogc3Vic2NyaWJlclxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGRpc3BhdGNoKHN0YXRlKSB7XG4gICAgdmFyIGluZGV4ID0gc3RhdGUuaW5kZXgsIHBlcmlvZCA9IHN0YXRlLnBlcmlvZCwgc3Vic2NyaWJlciA9IHN0YXRlLnN1YnNjcmliZXI7XG4gICAgc3Vic2NyaWJlci5uZXh0KGluZGV4KTtcbiAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBlbHNlIGlmIChwZXJpb2QgPT09IC0xKSB7XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XG4gICAgfVxuICAgIHN0YXRlLmluZGV4ID0gaW5kZXggKyAxO1xuICAgIHRoaXMuc2NoZWR1bGUoc3RhdGUsIHBlcmlvZCk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aW1lci5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX09ic2VydmFibGUsX2Zyb20sX2VtcHR5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcbmltcG9ydCB7IGZyb20gfSBmcm9tICcuL2Zyb20nO1xuaW1wb3J0IHsgRU1QVFkgfSBmcm9tICcuL2VtcHR5JztcbmV4cG9ydCBmdW5jdGlvbiB1c2luZyhyZXNvdXJjZUZhY3RvcnksIG9ic2VydmFibGVGYWN0b3J5KSB7XG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciByZXNvdXJjZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc291cmNlID0gcmVzb3VyY2VGYWN0b3J5KCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gb2JzZXJ2YWJsZUZhY3RvcnkocmVzb3VyY2UpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHNvdXJjZSA9IHJlc3VsdCA/IGZyb20ocmVzdWx0KSA6IEVNUFRZO1xuICAgICAgICB2YXIgc3Vic2NyaXB0aW9uID0gc291cmNlLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgaWYgKHJlc291cmNlKSB7XG4gICAgICAgICAgICAgICAgcmVzb3VyY2UudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzaW5nLmpzLm1hcFxuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfZnJvbUFycmF5LF91dGlsX2lzQXJyYXksX1N1YnNjcmliZXIsX091dGVyU3Vic2NyaWJlcixfdXRpbF9zdWJzY3JpYmVUb1Jlc3VsdCxfLi5faW50ZXJuYWxfc3ltYm9sX2l0ZXJhdG9yIFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCAqIGFzIHRzbGliXzEgZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBmcm9tQXJyYXkgfSBmcm9tICcuL2Zyb21BcnJheSc7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IFN1YnNjcmliZXIgfSBmcm9tICcuLi9TdWJzY3JpYmVyJztcbmltcG9ydCB7IE91dGVyU3Vic2NyaWJlciB9IGZyb20gJy4uL091dGVyU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb1Jlc3VsdCB9IGZyb20gJy4uL3V0aWwvc3Vic2NyaWJlVG9SZXN1bHQnO1xuaW1wb3J0IHsgaXRlcmF0b3IgYXMgU3ltYm9sX2l0ZXJhdG9yIH0gZnJvbSAnLi4vLi4vaW50ZXJuYWwvc3ltYm9sL2l0ZXJhdG9yJztcbmV4cG9ydCBmdW5jdGlvbiB6aXAoKSB7XG4gICAgdmFyIG9ic2VydmFibGVzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgb2JzZXJ2YWJsZXNbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdFNlbGVjdG9yID0gb2JzZXJ2YWJsZXNbb2JzZXJ2YWJsZXMubGVuZ3RoIC0gMV07XG4gICAgaWYgKHR5cGVvZiByZXN1bHRTZWxlY3RvciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBvYnNlcnZhYmxlcy5wb3AoKTtcbiAgICB9XG4gICAgcmV0dXJuIGZyb21BcnJheShvYnNlcnZhYmxlcywgdW5kZWZpbmVkKS5saWZ0KG5ldyBaaXBPcGVyYXRvcihyZXN1bHRTZWxlY3RvcikpO1xufVxudmFyIFppcE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFppcE9wZXJhdG9yKHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgIHRoaXMucmVzdWx0U2VsZWN0b3IgPSByZXN1bHRTZWxlY3RvcjtcbiAgICB9XG4gICAgWmlwT3BlcmF0b3IucHJvdG90eXBlLmNhbGwgPSBmdW5jdGlvbiAoc3Vic2NyaWJlciwgc291cmNlKSB7XG4gICAgICAgIHJldHVybiBzb3VyY2Uuc3Vic2NyaWJlKG5ldyBaaXBTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMucmVzdWx0U2VsZWN0b3IpKTtcbiAgICB9O1xuICAgIHJldHVybiBaaXBPcGVyYXRvcjtcbn0oKSk7XG5leHBvcnQgeyBaaXBPcGVyYXRvciB9O1xudmFyIFppcFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoWmlwU3Vic2NyaWJlciwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBaaXBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCByZXN1bHRTZWxlY3RvciwgdmFsdWVzKSB7XG4gICAgICAgIGlmICh2YWx1ZXMgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgdmFsdWVzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBkZXN0aW5hdGlvbikgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuaXRlcmF0b3JzID0gW107XG4gICAgICAgIF90aGlzLmFjdGl2ZSA9IDA7XG4gICAgICAgIF90aGlzLnJlc3VsdFNlbGVjdG9yID0gKHR5cGVvZiByZXN1bHRTZWxlY3RvciA9PT0gJ2Z1bmN0aW9uJykgPyByZXN1bHRTZWxlY3RvciA6IG51bGw7XG4gICAgICAgIF90aGlzLnZhbHVlcyA9IHZhbHVlcztcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBaaXBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICB2YXIgaXRlcmF0b3JzID0gdGhpcy5pdGVyYXRvcnM7XG4gICAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgaXRlcmF0b3JzLnB1c2gobmV3IFN0YXRpY0FycmF5SXRlcmF0b3IodmFsdWUpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWVbU3ltYm9sX2l0ZXJhdG9yXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgaXRlcmF0b3JzLnB1c2gobmV3IFN0YXRpY0l0ZXJhdG9yKHZhbHVlW1N5bWJvbF9pdGVyYXRvcl0oKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaXRlcmF0b3JzLnB1c2gobmV3IFppcEJ1ZmZlckl0ZXJhdG9yKHRoaXMuZGVzdGluYXRpb24sIHRoaXMsIHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFppcFN1YnNjcmliZXIucHJvdG90eXBlLl9jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9ycyA9IHRoaXMuaXRlcmF0b3JzO1xuICAgICAgICB2YXIgbGVuID0gaXRlcmF0b3JzLmxlbmd0aDtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xuICAgICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hY3RpdmUgPSBsZW47XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IGl0ZXJhdG9yc1tpXTtcbiAgICAgICAgICAgIGlmIChpdGVyYXRvci5zdGlsbFVuc3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgICAgIHZhciBkZXN0aW5hdGlvbiA9IHRoaXMuZGVzdGluYXRpb247XG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb24uYWRkKGl0ZXJhdG9yLnN1YnNjcmliZShpdGVyYXRvciwgaSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmUtLTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgWmlwU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5SW5hY3RpdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlLS07XG4gICAgICAgIGlmICh0aGlzLmFjdGl2ZSA9PT0gMCkge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBaaXBTdWJzY3JpYmVyLnByb3RvdHlwZS5jaGVja0l0ZXJhdG9ycyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGl0ZXJhdG9ycyA9IHRoaXMuaXRlcmF0b3JzO1xuICAgICAgICB2YXIgbGVuID0gaXRlcmF0b3JzLmxlbmd0aDtcbiAgICAgICAgdmFyIGRlc3RpbmF0aW9uID0gdGhpcy5kZXN0aW5hdGlvbjtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JzW2ldO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBpdGVyYXRvci5oYXNWYWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJiAhaXRlcmF0b3IuaGFzVmFsdWUoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgc2hvdWxkQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgdmFyIGl0ZXJhdG9yID0gaXRlcmF0b3JzW2ldO1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgIGlmIChpdGVyYXRvci5oYXNDb21wbGV0ZWQoKSkge1xuICAgICAgICAgICAgICAgIHNob3VsZENvbXBsZXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZXN1bHQuZG9uZSkge1xuICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXJncy5wdXNoKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMucmVzdWx0U2VsZWN0b3IpIHtcbiAgICAgICAgICAgIHRoaXMuX3RyeXJlc3VsdFNlbGVjdG9yKGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZGVzdGluYXRpb24ubmV4dChhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2hvdWxkQ29tcGxldGUpIHtcbiAgICAgICAgICAgIGRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFppcFN1YnNjcmliZXIucHJvdG90eXBlLl90cnlyZXN1bHRTZWxlY3RvciA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnJlc3VsdFNlbGVjdG9yLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQocmVzdWx0KTtcbiAgICB9O1xuICAgIHJldHVybiBaaXBTdWJzY3JpYmVyO1xufShTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBaaXBTdWJzY3JpYmVyIH07XG52YXIgU3RhdGljSXRlcmF0b3IgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gU3RhdGljSXRlcmF0b3IoaXRlcmF0b3IpIHtcbiAgICAgICAgdGhpcy5pdGVyYXRvciA9IGl0ZXJhdG9yO1xuICAgICAgICB0aGlzLm5leHRSZXN1bHQgPSBpdGVyYXRvci5uZXh0KCk7XG4gICAgfVxuICAgIFN0YXRpY0l0ZXJhdG9yLnByb3RvdHlwZS5oYXNWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICBTdGF0aWNJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRoaXMubmV4dFJlc3VsdDtcbiAgICAgICAgdGhpcy5uZXh0UmVzdWx0ID0gdGhpcy5pdGVyYXRvci5uZXh0KCk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICBTdGF0aWNJdGVyYXRvci5wcm90b3R5cGUuaGFzQ29tcGxldGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgbmV4dFJlc3VsdCA9IHRoaXMubmV4dFJlc3VsdDtcbiAgICAgICAgcmV0dXJuIG5leHRSZXN1bHQgJiYgbmV4dFJlc3VsdC5kb25lO1xuICAgIH07XG4gICAgcmV0dXJuIFN0YXRpY0l0ZXJhdG9yO1xufSgpKTtcbnZhciBTdGF0aWNBcnJheUl0ZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFN0YXRpY0FycmF5SXRlcmF0b3IoYXJyYXkpIHtcbiAgICAgICAgdGhpcy5hcnJheSA9IGFycmF5O1xuICAgICAgICB0aGlzLmluZGV4ID0gMDtcbiAgICAgICAgdGhpcy5sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLmxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcbiAgICB9XG4gICAgU3RhdGljQXJyYXlJdGVyYXRvci5wcm90b3R5cGVbU3ltYm9sX2l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBTdGF0aWNBcnJheUl0ZXJhdG9yLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBpID0gdGhpcy5pbmRleCsrO1xuICAgICAgICB2YXIgYXJyYXkgPSB0aGlzLmFycmF5O1xuICAgICAgICByZXR1cm4gaSA8IHRoaXMubGVuZ3RoID8geyB2YWx1ZTogYXJyYXlbaV0sIGRvbmU6IGZhbHNlIH0gOiB7IHZhbHVlOiBudWxsLCBkb25lOiB0cnVlIH07XG4gICAgfTtcbiAgICBTdGF0aWNBcnJheUl0ZXJhdG9yLnByb3RvdHlwZS5oYXNWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJyYXkubGVuZ3RoID4gdGhpcy5pbmRleDtcbiAgICB9O1xuICAgIFN0YXRpY0FycmF5SXRlcmF0b3IucHJvdG90eXBlLmhhc0NvbXBsZXRlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXJyYXkubGVuZ3RoID09PSB0aGlzLmluZGV4O1xuICAgIH07XG4gICAgcmV0dXJuIFN0YXRpY0FycmF5SXRlcmF0b3I7XG59KCkpO1xudmFyIFppcEJ1ZmZlckl0ZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFppcEJ1ZmZlckl0ZXJhdG9yLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFppcEJ1ZmZlckl0ZXJhdG9yKGRlc3RpbmF0aW9uLCBwYXJlbnQsIG9ic2VydmFibGUpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLnBhcmVudCA9IHBhcmVudDtcbiAgICAgICAgX3RoaXMub2JzZXJ2YWJsZSA9IG9ic2VydmFibGU7XG4gICAgICAgIF90aGlzLnN0aWxsVW5zdWJzY3JpYmVkID0gdHJ1ZTtcbiAgICAgICAgX3RoaXMuYnVmZmVyID0gW107XG4gICAgICAgIF90aGlzLmlzQ29tcGxldGUgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBaaXBCdWZmZXJJdGVyYXRvci5wcm90b3R5cGVbU3ltYm9sX2l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBaaXBCdWZmZXJJdGVyYXRvci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGJ1ZmZlciA9IHRoaXMuYnVmZmVyO1xuICAgICAgICBpZiAoYnVmZmVyLmxlbmd0aCA9PT0gMCAmJiB0aGlzLmlzQ29tcGxldGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBudWxsLCBkb25lOiB0cnVlIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogYnVmZmVyLnNoaWZ0KCksIGRvbmU6IGZhbHNlIH07XG4gICAgICAgIH1cbiAgICB9O1xuICAgIFppcEJ1ZmZlckl0ZXJhdG9yLnByb3RvdHlwZS5oYXNWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyLmxlbmd0aCA+IDA7XG4gICAgfTtcbiAgICBaaXBCdWZmZXJJdGVyYXRvci5wcm90b3R5cGUuaGFzQ29tcGxldGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIubGVuZ3RoID09PSAwICYmIHRoaXMuaXNDb21wbGV0ZTtcbiAgICB9O1xuICAgIFppcEJ1ZmZlckl0ZXJhdG9yLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuaXNDb21wbGV0ZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLnBhcmVudC5ub3RpZnlJbmFjdGl2ZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5jb21wbGV0ZSgpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBaaXBCdWZmZXJJdGVyYXRvci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChvdXRlclZhbHVlLCBpbm5lclZhbHVlLCBvdXRlckluZGV4LCBpbm5lckluZGV4LCBpbm5lclN1Yikge1xuICAgICAgICB0aGlzLmJ1ZmZlci5wdXNoKGlubmVyVmFsdWUpO1xuICAgICAgICB0aGlzLnBhcmVudC5jaGVja0l0ZXJhdG9ycygpO1xuICAgIH07XG4gICAgWmlwQnVmZmVySXRlcmF0b3IucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZVRvUmVzdWx0KHRoaXMsIHRoaXMub2JzZXJ2YWJsZSwgdGhpcywgaW5kZXgpO1xuICAgIH07XG4gICAgcmV0dXJuIFppcEJ1ZmZlckl0ZXJhdG9yO1xufShPdXRlclN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXppcC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgIFBVUkVfSU1QT1JUU19FTkQgKi9cbmV4cG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuL2ludGVybmFsL09ic2VydmFibGUnO1xuZXhwb3J0IHsgQ29ubmVjdGFibGVPYnNlcnZhYmxlIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL0Nvbm5lY3RhYmxlT2JzZXJ2YWJsZSc7XG5leHBvcnQgeyBHcm91cGVkT2JzZXJ2YWJsZSB9IGZyb20gJy4vaW50ZXJuYWwvb3BlcmF0b3JzL2dyb3VwQnknO1xuZXhwb3J0IHsgb2JzZXJ2YWJsZSB9IGZyb20gJy4vaW50ZXJuYWwvc3ltYm9sL29ic2VydmFibGUnO1xuZXhwb3J0IHsgU3ViamVjdCB9IGZyb20gJy4vaW50ZXJuYWwvU3ViamVjdCc7XG5leHBvcnQgeyBCZWhhdmlvclN1YmplY3QgfSBmcm9tICcuL2ludGVybmFsL0JlaGF2aW9yU3ViamVjdCc7XG5leHBvcnQgeyBSZXBsYXlTdWJqZWN0IH0gZnJvbSAnLi9pbnRlcm5hbC9SZXBsYXlTdWJqZWN0JztcbmV4cG9ydCB7IEFzeW5jU3ViamVjdCB9IGZyb20gJy4vaW50ZXJuYWwvQXN5bmNTdWJqZWN0JztcbmV4cG9ydCB7IGFzYXAgYXMgYXNhcFNjaGVkdWxlciB9IGZyb20gJy4vaW50ZXJuYWwvc2NoZWR1bGVyL2FzYXAnO1xuZXhwb3J0IHsgYXN5bmMgYXMgYXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuL2ludGVybmFsL3NjaGVkdWxlci9hc3luYyc7XG5leHBvcnQgeyBxdWV1ZSBhcyBxdWV1ZVNjaGVkdWxlciB9IGZyb20gJy4vaW50ZXJuYWwvc2NoZWR1bGVyL3F1ZXVlJztcbmV4cG9ydCB7IGFuaW1hdGlvbkZyYW1lIGFzIGFuaW1hdGlvbkZyYW1lU2NoZWR1bGVyIH0gZnJvbSAnLi9pbnRlcm5hbC9zY2hlZHVsZXIvYW5pbWF0aW9uRnJhbWUnO1xuZXhwb3J0IHsgVmlydHVhbFRpbWVTY2hlZHVsZXIsIFZpcnR1YWxBY3Rpb24gfSBmcm9tICcuL2ludGVybmFsL3NjaGVkdWxlci9WaXJ0dWFsVGltZVNjaGVkdWxlcic7XG5leHBvcnQgeyBTY2hlZHVsZXIgfSBmcm9tICcuL2ludGVybmFsL1NjaGVkdWxlcic7XG5leHBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICcuL2ludGVybmFsL1N1YnNjcmlwdGlvbic7XG5leHBvcnQgeyBTdWJzY3JpYmVyIH0gZnJvbSAnLi9pbnRlcm5hbC9TdWJzY3JpYmVyJztcbmV4cG9ydCB7IE5vdGlmaWNhdGlvbiwgTm90aWZpY2F0aW9uS2luZCB9IGZyb20gJy4vaW50ZXJuYWwvTm90aWZpY2F0aW9uJztcbmV4cG9ydCB7IHBpcGUgfSBmcm9tICcuL2ludGVybmFsL3V0aWwvcGlwZSc7XG5leHBvcnQgeyBub29wIH0gZnJvbSAnLi9pbnRlcm5hbC91dGlsL25vb3AnO1xuZXhwb3J0IHsgaWRlbnRpdHkgfSBmcm9tICcuL2ludGVybmFsL3V0aWwvaWRlbnRpdHknO1xuZXhwb3J0IHsgaXNPYnNlcnZhYmxlIH0gZnJvbSAnLi9pbnRlcm5hbC91dGlsL2lzT2JzZXJ2YWJsZSc7XG5leHBvcnQgeyBBcmd1bWVudE91dE9mUmFuZ2VFcnJvciB9IGZyb20gJy4vaW50ZXJuYWwvdXRpbC9Bcmd1bWVudE91dE9mUmFuZ2VFcnJvcic7XG5leHBvcnQgeyBFbXB0eUVycm9yIH0gZnJvbSAnLi9pbnRlcm5hbC91dGlsL0VtcHR5RXJyb3InO1xuZXhwb3J0IHsgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgfSBmcm9tICcuL2ludGVybmFsL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xuZXhwb3J0IHsgVW5zdWJzY3JpcHRpb25FcnJvciB9IGZyb20gJy4vaW50ZXJuYWwvdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yJztcbmV4cG9ydCB7IFRpbWVvdXRFcnJvciB9IGZyb20gJy4vaW50ZXJuYWwvdXRpbC9UaW1lb3V0RXJyb3InO1xuZXhwb3J0IHsgYmluZENhbGxiYWNrIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2JpbmRDYWxsYmFjayc7XG5leHBvcnQgeyBiaW5kTm9kZUNhbGxiYWNrIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2JpbmROb2RlQ2FsbGJhY2snO1xuZXhwb3J0IHsgY29tYmluZUxhdGVzdCB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9jb21iaW5lTGF0ZXN0JztcbmV4cG9ydCB7IGNvbmNhdCB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9jb25jYXQnO1xuZXhwb3J0IHsgZGVmZXIgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvZGVmZXInO1xuZXhwb3J0IHsgZW1wdHkgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvZW1wdHknO1xuZXhwb3J0IHsgZm9ya0pvaW4gfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvZm9ya0pvaW4nO1xuZXhwb3J0IHsgZnJvbSB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tJztcbmV4cG9ydCB7IGZyb21FdmVudCB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tRXZlbnQnO1xuZXhwb3J0IHsgZnJvbUV2ZW50UGF0dGVybiB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9mcm9tRXZlbnRQYXR0ZXJuJztcbmV4cG9ydCB7IGdlbmVyYXRlIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2dlbmVyYXRlJztcbmV4cG9ydCB7IGlpZiB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS9paWYnO1xuZXhwb3J0IHsgaW50ZXJ2YWwgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvaW50ZXJ2YWwnO1xuZXhwb3J0IHsgbWVyZ2UgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvbWVyZ2UnO1xuZXhwb3J0IHsgbmV2ZXIgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvbmV2ZXInO1xuZXhwb3J0IHsgb2YgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvb2YnO1xuZXhwb3J0IHsgb25FcnJvclJlc3VtZU5leHQgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvb25FcnJvclJlc3VtZU5leHQnO1xuZXhwb3J0IHsgcGFpcnMgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvcGFpcnMnO1xuZXhwb3J0IHsgcGFydGl0aW9uIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL3BhcnRpdGlvbic7XG5leHBvcnQgeyByYWNlIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL3JhY2UnO1xuZXhwb3J0IHsgcmFuZ2UgfSBmcm9tICcuL2ludGVybmFsL29ic2VydmFibGUvcmFuZ2UnO1xuZXhwb3J0IHsgdGhyb3dFcnJvciB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS90aHJvd0Vycm9yJztcbmV4cG9ydCB7IHRpbWVyIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL3RpbWVyJztcbmV4cG9ydCB7IHVzaW5nIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL3VzaW5nJztcbmV4cG9ydCB7IHppcCB9IGZyb20gJy4vaW50ZXJuYWwvb2JzZXJ2YWJsZS96aXAnO1xuZXhwb3J0IHsgc2NoZWR1bGVkIH0gZnJvbSAnLi9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVkJztcbmV4cG9ydCB7IEVNUFRZIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL2VtcHR5JztcbmV4cG9ydCB7IE5FVkVSIH0gZnJvbSAnLi9pbnRlcm5hbC9vYnNlcnZhYmxlL25ldmVyJztcbmV4cG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vaW50ZXJuYWwvY29uZmlnJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIiwiZnVuY3Rpb24gdCh0LGUpe2lmKCEodCBpbnN0YW5jZW9mIGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9ZnVuY3Rpb24gZSh0LGUpe2Zvcih2YXIgbj0wO248ZS5sZW5ndGg7bisrKXt2YXIgcj1lW25dO3IuZW51bWVyYWJsZT1yLmVudW1lcmFibGV8fCExLHIuY29uZmlndXJhYmxlPSEwLFwidmFsdWVcImluIHImJihyLndyaXRhYmxlPSEwKSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxyLmtleSxyKX19ZnVuY3Rpb24gbih0LG4scil7cmV0dXJuIG4mJmUodC5wcm90b3R5cGUsbiksciYmZSh0LHIpLHR9ZnVuY3Rpb24gcih0LGUsbil7cmV0dXJuIGUgaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHt2YWx1ZTpuLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtlXT1uLHR9ZnVuY3Rpb24gYSh0KXtmb3IodmFyIGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXt2YXIgbj1udWxsIT1hcmd1bWVudHNbZV0/YXJndW1lbnRzW2VdOnt9LGE9T2JqZWN0LmtleXMobik7XCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyYmKGE9YS5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhuKS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KS5lbnVtZXJhYmxlfSkpKSxhLmZvckVhY2goZnVuY3Rpb24oZSl7cih0LGUsbltlXSl9KX1yZXR1cm4gdH1mdW5jdGlvbiBpKHQpe3JldHVybiBmdW5jdGlvbih0KXtpZihBcnJheS5pc0FycmF5KHQpKXtmb3IodmFyIGU9MCxuPW5ldyBBcnJheSh0Lmxlbmd0aCk7ZTx0Lmxlbmd0aDtlKyspbltlXT10W2VdO3JldHVybiBufX0odCl8fGZ1bmN0aW9uKHQpe2lmKFN5bWJvbC5pdGVyYXRvciBpbiBPYmplY3QodCl8fFwiW29iamVjdCBBcmd1bWVudHNdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCkpcmV0dXJuIEFycmF5LmZyb20odCl9KHQpfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gc3ByZWFkIG5vbi1pdGVyYWJsZSBpbnN0YW5jZVwiKX0oKX12YXIgbz17Z3JvdXBFdmVudHM6ITEsY2hhbmdlRGV0ZWN0aW9uOlwibWFudWFsXCJ9LHM9e2lkOjAsY29tcG9uZW50czp7fX07ZnVuY3Rpb24gdSh0KXtpZihcIipcIj09PXQpcmV0dXJuITA7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoZT4xP2UtMTowKSxyPTE7cjxlO3IrKyluW3ItMV09YXJndW1lbnRzW3JdO2Zvcih2YXIgYT0wLGk9bjthPGkubGVuZ3RoO2ErKyl7dmFyIG89aVthXTtpZih0LmluY2x1ZGVzKG8pKXJldHVybiEwfXJldHVybiExfWZ1bmN0aW9uIGgodCxlKXthcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdJiYodC5zb3J0KCksZS5zb3J0KCkpO2Zvcih2YXIgbj0wO248dC5sZW5ndGg7bisrKWlmKHRbbl0hPT1lW25dKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIHAodCxlKXt2YXIgbixyPVtdLGE9ITAsbz0hMSxzPXZvaWQgMDt0cnl7Zm9yKHZhciB1LGg9ZS5pbnB1dHNGcm9tW1N5bWJvbC5pdGVyYXRvcl0oKTshKGE9KHU9aC5uZXh0KCkpLmRvbmUpO2E9ITApe3ZhciBjPXUudmFsdWUsbD10LlF1ZXJ5R3JhcGhbY107bC5hY2NlcHRzSW5wdXRzP3IucHVzaC5hcHBseShyLGkocCh0LGwpKSk6ci5wdXNoKGMpfX1jYXRjaCh0KXtvPSEwLHM9dH1maW5hbGx5e3RyeXthfHxudWxsPT1oLnJldHVybnx8aC5yZXR1cm4oKX1maW5hbGx5e2lmKG8pdGhyb3cgc319cmV0dXJuIG49cixBcnJheS5mcm9tKG5ldyBTZXQobikudmFsdWVzKCkpfXZhciBjPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSgpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTt0KHRoaXMsZSkscih0aGlzLFwiZXZlbnRRdWV1ZVwiLHthZGRFbnRpdHk6W10scmVtb3ZlRW50aXR5OltdLGFkZENvbXBvbmVudHM6W10sdXBkYXRlQ29tcG9uZW50czpbXX0pLHIodGhpcyxcImFkZGVkUmVzb2x2ZXJcIiwhMSkscih0aGlzLFwiYWN0aXZlUmVzb2x2ZXJzXCIsW10pLHIodGhpcyxcImxhc3RJZFwiLDApLHIodGhpcyxcIm9wdGlvbnNcIix2b2lkIDApLHIodGhpcyxcImVudGl0aWVzXCIse30pLHIodGhpcyxcImVudGl0aWVzVG9HcmFwaElucHV0VGFibGVcIix7fSkscih0aGlzLFwiUXVlcnlHcmFwaFwiLHt9KSxyKHRoaXMsXCJHcmFwaElucHV0c1wiLFtdKTt2YXIgaT1hKHt9LG8sbik7dGhpcy5vcHRpb25zPWl9cmV0dXJuIG4oZSxbe2tleTpcImFkZEVudGl0eVwiLHZhbHVlOmZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5sYXN0SWQrKztyZXR1cm4gdGhpcy5wdXNoRXZlbnRUb1F1ZXVlKFwiYWRkRW50aXR5XCIsYSh7fSxzLHtpZDp0fSkpLHR9fSx7a2V5OlwicmVzb2x2ZVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0IGluIHRoaXMuYWN0aXZlUmVzb2x2ZXJzPVtdLHRoaXMuYWRkZWRSZXNvbHZlcj0hMSx0aGlzLmV2ZW50UXVldWUpe3ZhciBlPXQ7dGhpcy5oYW5kbGVFdmVudC5hcHBseSh0aGlzLFtlXS5jb25jYXQoaSh0aGlzLmV2ZW50UXVldWVbZV0pKSksdGhpcy5ldmVudFF1ZXVlW2VdPVtdfXJldHVybiB0aGlzfX0se2tleTpcInB1c2hFdmVudFRvUXVldWVcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGUsbj10aGlzLHI9YXJndW1lbnRzLmxlbmd0aCxhPW5ldyBBcnJheShyPjE/ci0xOjApLGk9MTtpPHI7aSsrKWFbaS0xXT1hcmd1bWVudHNbaV07aWYoKGU9dGhpcy5ldmVudFF1ZXVlW3RdKS5wdXNoLmFwcGx5KGUsYSksdGhpcy5vcHRpb25zLmdyb3VwRXZlbnRzKXtpZighdGhpcy5hZGRlZFJlc29sdmVyKXt2YXIgbz10aGlzLmxhc3RJZCsrO3RoaXMuYWN0aXZlUmVzb2x2ZXJzLnB1c2gobyksdGhpcy5hZGRlZFJlc29sdmVyPSEwLFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24oKXtuLmFjdGl2ZVJlc29sdmVycy5pbmNsdWRlcyhvKSYmbi5yZXNvbHZlKCl9KX19ZWxzZSB0aGlzLnJlc29sdmUoKTtyZXR1cm4gdGhpc319LHtrZXk6XCJ1cGRhdGVDb21wbGV4Tm9kZVwiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7dmFyIG49dGhpcy5RdWVyeUdyYXBoW2VdO2lmKG4mJm4uYWNjZXB0c0lucHV0cyl7dmFyIHI9ITAsYT0hMCxpPSExLG89dm9pZCAwO3RyeXtmb3IodmFyIHMsdT1uLmlucHV0c0Zyb21bU3ltYm9sLml0ZXJhdG9yXSgpOyEoYT0ocz11Lm5leHQoKSkuZG9uZSk7YT0hMCl7dmFyIGg9cy52YWx1ZSxwPXRoaXMuUXVlcnlHcmFwaFtoXTtpZihwJiYhcC5zbmFwc2hvdC5oYXModCkpe24uc25hcHNob3QuZGVsZXRlKHQpLHI9ITE7YnJlYWt9fX1jYXRjaCh0KXtpPSEwLG89dH1maW5hbGx5e3RyeXthfHxudWxsPT11LnJldHVybnx8dS5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgb319ciYmbi5zbmFwc2hvdC5hZGQodCl9cmV0dXJuIHRoaXN9fSx7a2V5OlwidXBkYXRlSW5wdXROb2RlXCIsdmFsdWU6ZnVuY3Rpb24odCl7Zm9yKHZhciBlPXRoaXMsbj1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KG4+MT9uLTE6MCksYT0xO2E8bjthKyspclthLTFdPWFyZ3VtZW50c1thXTt2YXIgaT10aGlzLmVudGl0aWVzVG9HcmFwaElucHV0VGFibGVbdF07aWYoaSl7dmFyIG89bmV3IFNldDtBcnJheS5mcm9tKGkudmFsdWVzKCkpLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gZS5RdWVyeUdyYXBoW3RdfSkuZm9yRWFjaChmdW5jdGlvbihlKXt2YXIgbj0hMSxhPSEwLGk9ITEscz12b2lkIDA7dHJ5e2Zvcih2YXIgaCxwPWUuZmlsdGVyc1tTeW1ib2wuaXRlcmF0b3JdKCk7IShhPShoPXAubmV4dCgpKS5kb25lKTthPSEwKXt2YXIgYz1oLnZhbHVlO2lmKHUuYXBwbHkodm9pZCAwLFtjLmNhcmVzQWJvdXRdLmNvbmNhdChyKSkpe3ZhciBsPWMudGVzdCh0KTtsIT09Yy5sYXN0VmFsdWVzW3RdJiYoYy5sYXN0VmFsdWVzW3RdPWwsbj0hMCl9fX1jYXRjaCh0KXtpPSEwLHM9dH1maW5hbGx5e3RyeXthfHxudWxsPT1wLnJldHVybnx8cC5yZXR1cm4oKX1maW5hbGx5e2lmKGkpdGhyb3cgc319aWYobil7dmFyIGY9ZS5zbmFwc2hvdC5zaXplO2lmKGUuZmlsdGVycy5maW5kKGZ1bmN0aW9uKGUpe3JldHVybiExPT09ZS5sYXN0VmFsdWVzW3RdfSk/ZS5zbmFwc2hvdC5kZWxldGUodCk6ZS5zbmFwc2hvdC5hZGQodCksZS5zbmFwc2hvdC5zaXplIT09Zil7dmFyIHY9ITAsZD0hMSx5PXZvaWQgMDt0cnl7Zm9yKHZhciBtLGc9ZS5vdXRwdXRzVG9bU3ltYm9sLml0ZXJhdG9yXSgpOyEodj0obT1nLm5leHQoKSkuZG9uZSk7dj0hMCl7dmFyIGI9bS52YWx1ZTtvLmFkZChiKX19Y2F0Y2godCl7ZD0hMCx5PXR9ZmluYWxseXt0cnl7dnx8bnVsbD09Zy5yZXR1cm58fGcucmV0dXJuKCl9ZmluYWxseXtpZihkKXRocm93IHl9fX19fSksby5zaXplJiZvLmZvckVhY2goZnVuY3Rpb24obil7ZS51cGRhdGVDb21wbGV4Tm9kZSh0LG4pfSl9cmV0dXJuIHRoaXN9fSx7a2V5OlwiYWZ0ZXJBZGRpbmdDb21wb25lbnRcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIGU9dGhpcyxuPWFyZ3VtZW50cy5sZW5ndGgscj1uZXcgQXJyYXkobj4xP24tMTowKSxhPTE7YTxuO2ErKylyW2EtMV09YXJndW1lbnRzW2FdO3ZhciBpPXRoaXMuZW50aXRpZXNUb0dyYXBoSW5wdXRUYWJsZVt0XTtpZighaSl7dmFyIG89bmV3IFNldDt0aGlzLmVudGl0aWVzVG9HcmFwaElucHV0VGFibGVbdF09byxpPW99cmV0dXJuIHRoaXMuR3JhcGhJbnB1dHMuZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybiFpLmhhcyh0KX0pLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gZS5RdWVyeUdyYXBoW3RdfSkuZm9yRWFjaChmdW5jdGlvbih0KXt1LmFwcGx5KHZvaWQgMCxbdC5kZXBlbmRlbmNpZXNdLmNvbmNhdChyKSkmJmkuYWRkKHQuaWQpfSksdGhpcy51cGRhdGVJbnB1dE5vZGUuYXBwbHkodGhpcyxbdF0uY29uY2F0KHIpKX19LHtrZXk6XCJoYW5kbGVFdmVudFwiLHZhbHVlOmZ1bmN0aW9uKHQpe2Zvcih2YXIgZT10aGlzLG49YXJndW1lbnRzLmxlbmd0aCxyPW5ldyBBcnJheShuPjE/bi0xOjApLG89MTtvPG47bysrKXJbby0xXT1hcmd1bWVudHNbb107c3dpdGNoKHQpe2Nhc2VcImFkZEVudGl0eVwiOnIuZm9yRWFjaChmdW5jdGlvbih0KXtlLmVudGl0aWVzW3QuaWRdPXQ7dmFyIG49T2JqZWN0LmtleXModC5jb21wb25lbnRzKTtuLmxlbmd0aCYmZS5hZnRlckFkZGluZ0NvbXBvbmVudC5hcHBseShlLFt0LmlkXS5jb25jYXQoaShuKSkpfSk7YnJlYWs7Y2FzZVwiYWRkQ29tcG9uZW50c1wiOnIuZm9yRWFjaChmdW5jdGlvbih0KXtlLmVudGl0aWVzW3QuaWRdLmNvbXBvbmVudHM9YSh7fSxlLmVudGl0aWVzW3QuaWRdLmNvbXBvbmVudHMsdC5jb21wb25lbnRzKTt2YXIgbj1PYmplY3Qua2V5cyh0LmNvbXBvbmVudHMpO24ubGVuZ3RoJiZlLmFmdGVyQWRkaW5nQ29tcG9uZW50LmFwcGx5KGUsW3QuaWRdLmNvbmNhdChpKG4pKSl9KTticmVhaztjYXNlXCJ1cGRhdGVDb21wb25lbnRzXCI6ci5mb3JFYWNoKGZ1bmN0aW9uKHQpe3ZhciBuPU9iamVjdC5rZXlzKHQuY29tcG9uZW50cyk7bi5sZW5ndGgmJmUudXBkYXRlSW5wdXROb2RlLmFwcGx5KGUsW3QuaWRdLmNvbmNhdChpKG4pKSl9KX1yZXR1cm4gdGhpc319LHtrZXk6XCJhZGRDb21wb25lbnRUb1wiLHZhbHVlOmZ1bmN0aW9uKHQsZSl7cmV0dXJuIHRoaXMucHVzaEV2ZW50VG9RdWV1ZShcImFkZENvbXBvbmVudHNcIix7aWQ6dCxjb21wb25lbnRzOmV9KSx0aGlzfX0se2tleTpcImFkZElucHV0Tm9kZVRvUXVlcnlHcmFwaFwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkodCksbj0wO248dDtuKyspZVtuXT1hcmd1bWVudHNbbl07dmFyIHI9ZS5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIHQubmFtZX0pLGE9ITAsbz0hMSxzPXZvaWQgMDt0cnl7Zm9yKHZhciB1LHA9dGhpcy5HcmFwaElucHV0c1tTeW1ib2wuaXRlcmF0b3JdKCk7IShhPSh1PXAubmV4dCgpKS5kb25lKTthPSEwKXt2YXIgYz11LnZhbHVlO2lmKGgodGhpcy5RdWVyeUdyYXBoW2NdLmZpbHRlcnMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0Lm5hbWV9KSxyKSlyZXR1cm4gY319Y2F0Y2godCl7bz0hMCxzPXR9ZmluYWxseXt0cnl7YXx8bnVsbD09cC5yZXR1cm58fHAucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IHN9fXZhciBsPXRoaXMubGFzdElkKyssZj1mdW5jdGlvbigpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KHQpLG49MDtuPHQ7bisrKWVbbl09YXJndW1lbnRzW25dO3ZhciByPWUubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0LmNhcmVzQWJvdXR9KSxhPVwiKlwiO3JldHVybiByLmluY2x1ZGVzKFwiKlwiKXx8KGE9QXJyYXkuZnJvbShuZXcgU2V0KHIucmVkdWNlKGZ1bmN0aW9uKHQsZSl7cmV0dXJuW10uY29uY2F0KGkodCksaShlKSl9KSkudmFsdWVzKCkpKSxhfS5hcHBseSh2b2lkIDAsZSk7cmV0dXJuIHRoaXMuUXVlcnlHcmFwaFtsXT17aWQ6bCxkZXBlbmRlbmNpZXM6ZixvdXRwdXRzVG86W10saW5wdXRzRnJvbTpbXSxhY2NlcHRzSW5wdXRzOiExLHNuYXBzaG90Om5ldyBTZXQsZmlsdGVyczplfSx0aGlzLkdyYXBoSW5wdXRzLnB1c2gobCksbH19LHtrZXk6XCJhZGRDb21wbGV4Tm9kZVwiLHZhbHVlOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PXRoaXMsZT1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KGUpLHI9MDtyPGU7cisrKW5bcl09YXJndW1lbnRzW3JdO2Zvcih2YXIgYT1wKHRoaXMse2lucHV0c0Zyb206bn0pLGk9MCxvPU9iamVjdC52YWx1ZXModGhpcy5RdWVyeUdyYXBoKTtpPG8ubGVuZ3RoO2krKyl7dmFyIHM9b1tpXTtpZihzLmFjY2VwdHNJbnB1dHMmJmgoYSxwKHRoaXMse2lucHV0c0Zyb206dGhpcy5RdWVyeUdyYXBoW3MuaWRdLmlucHV0c0Zyb219KSwhMCkpcmV0dXJuIHMuaWR9dmFyIHU9dGhpcy5sYXN0SWQrKyxjPXt9O24ubWFwKGZ1bmN0aW9uKGUpe3JldHVybiB0LlF1ZXJ5R3JhcGhbZV19KS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3Qub3V0cHV0c1RvLnB1c2godSk7dmFyIGU9ITAsbj0hMSxyPXZvaWQgMDt0cnl7Zm9yKHZhciBhLGk9dC5zbmFwc2hvdFtTeW1ib2wuaXRlcmF0b3JdKCk7IShlPShhPWkubmV4dCgpKS5kb25lKTtlPSEwKXt2YXIgbz1hLnZhbHVlO2Nbb10/Y1tvXSsrOmNbb109MX19Y2F0Y2godCl7bj0hMCxyPXR9ZmluYWxseXt0cnl7ZXx8bnVsbD09aS5yZXR1cm58fGkucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IHJ9fX0pO3ZhciBsPU9iamVjdC5rZXlzKGMpLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gY1t0XT09PW4ubGVuZ3RofSkubWFwKGZ1bmN0aW9uKHQpe3JldHVybiB0fSk7cmV0dXJuIHRoaXMuUXVlcnlHcmFwaFt1XT17ZGVwZW5kZW5jaWVzOltdLGlkOnUsb3V0cHV0c1RvOltdLGlucHV0c0Zyb206bixhY2NlcHRzSW5wdXRzOiEwLHNuYXBzaG90Om5ldyBTZXQobCksZmlsdGVyczpbXX0sdX19LHtrZXk6XCJoYXNcIix2YWx1ZTpmdW5jdGlvbigpe2Zvcih2YXIgdD10aGlzLGU9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShlKSxyPTA7cjxlO3IrKyluW3JdPWFyZ3VtZW50c1tyXTtyZXR1cm4gdGhpcy5hZGRJbnB1dE5vZGVUb1F1ZXJ5R3JhcGguYXBwbHkodGhpcyxpKG4ubWFwKGZ1bmN0aW9uKGUpe3JldHVybntuYW1lOlwiaGFzKFwiLmNvbmNhdChlLFwiKVwiKSx0ZXN0OmZ1bmN0aW9uKG4pe3JldHVybiF0LmVudGl0aWVzW25dLmNvbXBvbmVudHNbZV19LGNhcmVzQWJvdXQ6W2VdLGxhc3RWYWx1ZXM6e319fSkpKSx0aGlzfX1dKSxlfSgpLGw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKG4sYSl7dCh0aGlzLGUpLHIodGhpcyxcImVjc0dyYXBoXCIsdm9pZCAwKSxyKHRoaXMsXCJub2RlXCIsdm9pZCAwKSx0aGlzLmVjc0dyYXBoPW4sdGhpcy5ub2RlPWF9cmV0dXJuIG4oZSxbe2tleTpcInNuYXBzaG90XCIsdmFsdWU6ZnVuY3Rpb24oKXt2YXIgdD1bXSxlPSEwLG49ITEscj12b2lkIDA7dHJ5e2Zvcih2YXIgYSxpPXRoaXMubm9kZS5zbmFwc2hvdC52YWx1ZXMoKVtTeW1ib2wuaXRlcmF0b3JdKCk7IShlPShhPWkubmV4dCgpKS5kb25lKTtlPSEwKXt2YXIgbz1hLnZhbHVlO3QucHVzaCh0aGlzLmVjc0dyYXBoLmVudGl0aWVzW29dKX19Y2F0Y2godCl7bj0hMCxyPXR9ZmluYWxseXt0cnl7ZXx8bnVsbD09aS5yZXR1cm58fGkucmV0dXJuKCl9ZmluYWxseXtpZihuKXRocm93IHJ9fXJldHVybiB0fX0se2tleTpcImVhY2hcIix2YWx1ZTpmdW5jdGlvbih0KXt2YXIgZT10aGlzO3RoaXMuc25hcHNob3QoKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe3ZhciByPXQobi5jb21wb25lbnRzKTtpZihcIm1hbnVhbFwiPT09ZS5lY3NHcmFwaC5vcHRpb25zLmNoYW5nZURldGVjdGlvbiYmdm9pZCAwIT09cil7dmFyIGE9W107ciBpbnN0YW5jZW9mIEFycmF5JiZyLmxlbmd0aD9hPXI6XCJzdHJpbmdcIj09dHlwZW9mIHImJlwiKlwiIT09cj9hPVtyXTpcIipcIiE9PXImJiEwIT09cnx8KGE9T2JqZWN0LmtleXMobi5jb21wb25lbnRzKSk7dmFyIGk9e307YS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2lbdF09ITB9KSxlLmVjc0dyYXBoLnB1c2hFdmVudFRvUXVldWUoXCJ1cGRhdGVDb21wb25lbnRzXCIse2lkOm4uaWQsY29tcG9uZW50czppfSl9fSl9fV0pLGV9KCksZj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUobixhKXt0KHRoaXMsZSkscih0aGlzLFwiZWNzR3JhcGhcIix2b2lkIDApLHIodGhpcyxcInBhcmVudFwiLHZvaWQgMCkscih0aGlzLFwiY29tcG9uZW50c1wiLHZvaWQgMCkscih0aGlzLFwic25hcHNob3RcIix2b2lkIDApLHRoaXMuZWNzR3JhcGg9bix0aGlzLnBhcmVudD1hLHRoaXMucGFyZW50P3RoaXMuc25hcHNob3Q9dGhpcy5wYXJlbnQuc25hcHNob3Q6dGhpcy5zbmFwc2hvdD1uZXcgU2V0fXJldHVybiBuKGUsW3trZXk6XCJmbGFnXCIsdmFsdWU6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxuPTA7bjx0O24rKyllW25dPWFyZ3VtZW50c1tuXTtyZXR1cm4gdGhpcy5waXBlLmFwcGx5KHRoaXMsW3tuYW1lOmZ1bmN0aW9uKHQpe3JldHVyblwiZmxhZyhcIi5jb25jYXQodCxcIilcIil9LHRlc3Q6ZnVuY3Rpb24odCxlKXtyZXR1cm4gZnVuY3Rpb24obil7dmFyIHI9dC5lbnRpdGllc1tuXTtyZXR1cm4hIXImJiEhci5jb21wb25lbnRzW2VdfX19XS5jb25jYXQoZSkpfX0se2tleTpcInBpcGVcIix2YWx1ZTpmdW5jdGlvbih0KXtmb3IodmFyIG49dGhpcyxyPWFyZ3VtZW50cy5sZW5ndGgsYT1uZXcgQXJyYXkocj4xP3ItMTowKSxvPTE7bzxyO28rKylhW28tMV09YXJndW1lbnRzW29dO3ZhciBzPWEubWFwKGZ1bmN0aW9uKGUpe3JldHVybiBuLmVjc0dyYXBoLmFkZElucHV0Tm9kZVRvUXVlcnlHcmFwaCh7bmFtZTp0Lm5hbWUoZSksdGVzdDp0LnRlc3Qobi5lY3NHcmFwaCxlKSxjYXJlc0Fib3V0OltlXSxsYXN0VmFsdWVzOnt9fSl9KTtpZih0aGlzLnBhcmVudCYmIXMuaW5jbHVkZXModGhpcy5wYXJlbnQuaWQpJiZzLnB1c2godGhpcy5wYXJlbnQuaWQpLDE9PT1zLmxlbmd0aClyZXR1cm4gbmV3IGUodGhpcy5lY3NHcmFwaCx0aGlzLmVjc0dyYXBoLlF1ZXJ5R3JhcGhbc1swXV0pO2lmKHMubGVuZ3RoPjEpe3ZhciB1PXRoaXMuZWNzR3JhcGguYWRkQ29tcGxleE5vZGUoc1swXSxzWzFdKSxoPW5ldyBlKHRoaXMuZWNzR3JhcGgsdGhpcy5lY3NHcmFwaC5RdWVyeUdyYXBoW3VdKTtyZXR1cm4gMj09PXMubGVuZ3RoP2g6aC5mbGFnLmFwcGx5KGgsaShhLnNsaWNlKDIpKSl9cmV0dXJuIHRoaXN9fSx7a2V5OlwiZ2V0XCIsdmFsdWU6ZnVuY3Rpb24oKXtpZighdGhpcy5wYXJlbnQpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCBjb21wb25lbnQgb24gcXVlcnkgbm9kZSB3aXRoIG5vIHBhcmVudFwiKTtyZXR1cm4gdGhpcy5jb21wb25lbnRzP3RoaXMuY29tcG9uZW50czoodGhpcy5jb21wb25lbnRzPW5ldyBsKHRoaXMuZWNzR3JhcGgsdGhpcy5wYXJlbnQpLHRoaXMuY29tcG9uZW50cyl9fV0pLGV9KCksdj1mdW5jdGlvbigpe2Z1bmN0aW9uIGUobil7dCh0aGlzLGUpLHIodGhpcyxcImVjc0dyYXBoXCIsdm9pZCAwKSxyKHRoaXMsXCJhbGxcIix2b2lkIDApLHRoaXMuZWNzR3JhcGg9bmV3IGMobiksdGhpcy5hbGw9bmV3IGYodGhpcy5lY3NHcmFwaCl9cmV0dXJuIG4oZSxbe2tleTpcImFkZEVudGl0eVwiLHZhbHVlOmZ1bmN0aW9uKHQpe3ZhciBlPXRoaXMuZWNzR3JhcGguYWRkRW50aXR5KCk7cmV0dXJuIHRoaXMuZWNzR3JhcGguYWRkQ29tcG9uZW50VG8oZSx0KSxlfX1dKSxlfSgpO2V4cG9ydHt2IGFzIEVjcyxjIGFzIEVjc0dyYXBofTtcbiIsImltcG9ydCB7IEVjcywgQ29tcG9uZW50RXhwb3NlciB9IGZyb20gJ0BlaXgvY29yZSdcclxuaW1wb3J0IHsgS2V5Ym9hcmRJbnB1dCB9IGZyb20gJ0BlaXgvaW5wdXQnXHJcbmltcG9ydCBsb29wIGZyb20gJ21haW5sb29wLmpzJ1xyXG5cclxudHlwZSBwbGF5ZXJTdGF0ZSA9ICd1cCcgfCAnZmFsbCcgfCAnZG93bicgfCAnbm9uZScgfCAnd2FsbCdcclxudHlwZSBzaWRld2F5c1N0YXRlID0gJ2FpcicgfCAnZ3JvdW5kJ1xyXG5cclxuaW50ZXJmYWNlIFBsYXllciBleHRlbmRzIFJlY29yZDxzdHJpbmcsIHVua25vd24+IHtcclxuICAgIHJlYWRvbmx5IHNpZGVXYXlzRm9yY2U6IFJlY29yZDxzaWRld2F5c1N0YXRlLCBudW1iZXI+XHJcbiAgICByZWFkb25seSBncmF2aXR5TXVsdGlwbHllcjogUmVjb3JkPHBsYXllclN0YXRlLCBudW1iZXI+XHJcbiAgICByZWFkb25seSBzaXplOiBbbnVtYmVyLCBudW1iZXJdXHJcbiAgICByZWFkb25seSByaWdpZGJvZHk6IHRydWVcclxuICAgIHJlYWRvbmx5IGp1bXBGb3JjZTogbnVtYmVyXHJcbiAgICByZWFkb25seSBqdW1wT2Zmc2V0OiBudW1iZXJcclxuXHJcbiAgICByZW5kZXJhYmxlOiBib29sZWFuXHJcbiAgICBwb3NpdGlvbjogW251bWJlciwgbnVtYmVyXVxyXG4gICAgY29sb3I6IHN0cmluZ1xyXG4gICAgc3BlZWQ6IFtudW1iZXIsIG51bWJlcl1cclxuICAgIGxhbmRlZDogbnVtYmVyXHJcbiAgICBoaXRUaGVTaWRlOiBudW1iZXJcclxuICAgIHdhbGxKdW1wT2ZmZXN0OiBudW1iZXJcclxuICAgIGNvbGxpZGVkOiBbYm9vbGVhbiwgYm9vbGVhbl1cclxuICAgIGNvbGxpc2lvbkRpcmVjdGlvbnM6IFtudW1iZXIsIG51bWJlcl1cclxuICAgIHN0YXRlOiBwbGF5ZXJTdGF0ZVxyXG59XHJcblxyXG5jb25zdCBkaXJlY3Rpb25zID0gW1xyXG4gICAgbmV3IEtleWJvYXJkSW5wdXQoJ2Rvd24nLCAncycpLFxyXG4gICAgbmV3IEtleWJvYXJkSW5wdXQoJ3JpZ2h0JywgJ2QnKSxcclxuICAgIG5ldyBLZXlib2FyZElucHV0KCd1cCcsICd3JywgJ3NwYWNlJyksXHJcbiAgICBuZXcgS2V5Ym9hcmRJbnB1dCgnbGVmdCcsICdhJylcclxuXVxyXG5cclxuY29uc3QgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbnZhcycpIGFzIEhUTUxDYW52YXNFbGVtZW50XHJcbmNvbnN0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpIGFzIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRFxyXG5cclxuY29uc3Qgc2NyZWVuU2l6ZSA9IFt3aW5kb3cuaW5uZXJXaWR0aCwgd2luZG93LmlubmVySGVpZ2h0XVxyXG5cclxuY29uc3QgcGh5c2ljcyA9IHtcclxuICAgIGdyYXZpdHk6IFswLCAwLjAwNV0sXHJcbiAgICB0aW1lU3BlZWQ6IDAuODVcclxufVxyXG5cclxuY29uc3QgY29sb3JzOiBSZWNvcmQ8cGxheWVyU3RhdGUsIHN0cmluZz4gPSB7XHJcbiAgICBub25lOiAnYmx1ZScsXHJcbiAgICBmYWxsOiAnYmxhY2snLFxyXG4gICAgdXA6ICdncmVlbicsXHJcbiAgICBkb3duOiAncmVkJyxcclxuICAgIHdhbGw6ICd5ZWxsb3cnXHJcbn1cclxuXHJcbmNhbnZhcy53aWR0aCA9IHNjcmVlblNpemVbMF1cclxuY2FudmFzLmhlaWdodCA9IHNjcmVlblNpemVbMV1cclxuXHJcbmNvbnN0IGVjcyA9IG5ldyBFY3Moe1xyXG4gICAgZ3JvdXBFdmVudHM6IGZhbHNlLCAvLyBkZWZhdWx0XHJcbiAgICBjaGFuZ2VEZXRlY3Rpb246ICdtYW51YWwnIC8vZGVmYXVsdFxyXG59KVxyXG5cclxuY29uc3QgcmVuZGVyID0gKCk6ICgoKSA9PiB2b2lkKSA9PiB7XHJcbiAgICBjb25zdCByZW5kZXJhYmxlID0gZWNzLmFsbC5mbGFnKCdyZW5kZXJhYmxlJykuZ2V0PFBsYXllcj4oKSBhcyBDb21wb25lbnRFeHBvc2VyPFBsYXllcj5cclxuXHJcbiAgICByZXR1cm4gKCk6IHZvaWQgPT4ge1xyXG4gICAgICAgIGN0eC5jbGVhclJlY3QoMCwgMCwgMTAwMDAsIDEwMDAwKVxyXG5cclxuICAgICAgICByZW5kZXJhYmxlLmVhY2goKGVudGl0eTogUGxheWVyKTogZmFsc2UgPT4ge1xyXG4gICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gZW50aXR5LmNvbG9yXHJcbiAgICAgICAgICAgIGN0eC5maWxsUmVjdChlbnRpdHkucG9zaXRpb25bMF0sIGVudGl0eS5wb3NpdGlvblsxXSwgZW50aXR5LnNpemVbMF0sIGVudGl0eS5zaXplWzFdKVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgdXBkYXRlID0gKCk6ICgoZGVsdGE6IG51bWJlcikgPT4gdm9pZCkgPT4ge1xyXG4gICAgY29uc3QgdG9VcGRhdGUgPSBlY3MuYWxsLmZsYWcoJ3JpZ2lkYm9keScpLmdldDxQbGF5ZXI+KClcclxuXHJcbiAgICBsZXQganVtcENvdW50ID0gMFxyXG5cclxuICAgIGRpcmVjdGlvbnNbMl0udmFsdWVDaGFuZ2VzLnN1YnNjcmliZSgodmFsdWU6IGJvb2xlYW4pOiB2b2lkID0+IHtcclxuICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAganVtcENvdW50KytcclxuICAgICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IGV4aXQgPSBuZXcgS2V5Ym9hcmRJbnB1dCgncScpXHJcbiAgICBleGl0LnZhbHVlQ2hhbmdlcy5zdWJzY3JpYmUoKHZhbHVlOiBib29sZWFuKTogdm9pZCA9PiB7XHJcbiAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgIHRvVXBkYXRlLmVhY2goKGVudGl0eTogUGxheWVyKTogc3RyaW5nID0+IHtcclxuICAgICAgICAgICAgICAgIGVudGl0eS5yZW5kZXJhYmxlID0gZmFsc2VcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3JlbmRlcmFibGUnXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSlcclxuXHJcbiAgICByZXR1cm4gKGRlbHRhOiBudW1iZXIpID0+IHtcclxuICAgICAgICBjb25zdCB0aW1lID0gZGVsdGEgKiBwaHlzaWNzLnRpbWVTcGVlZFxyXG5cclxuICAgICAgICB0b1VwZGF0ZS5lYWNoKChlbnRpdHk6IFBsYXllcik6IHN0cmluZ1tdID0+IHtcclxuICAgICAgICAgICAgZW50aXR5LnNwZWVkID0gZW50aXR5LnNwZWVkLm1hcCgodmFsdWU6IG51bWJlciwgaW5kZXg6IG51bWJlcik6IG51bWJlciA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgc3RhdGU6IHBsYXllclN0YXRlID0gJ25vbmUnXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKFxyXG4gICAgICAgICAgICAgICAgICAgIChlbnRpdHkucG9zaXRpb25bMF0gPCAxMCB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkucG9zaXRpb25bMF0gKyBlbnRpdHkuc2l6ZVswXSA+IHNjcmVlblNpemVbMF0gLSAxMCkgJiZcclxuICAgICAgICAgICAgICAgICAgICBlbnRpdHkuc3BlZWRbMV0gPiAwXHJcbiAgICAgICAgICAgICAgICApIHtcclxuICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9ICd3YWxsJ1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb25zWzBdLnZhbHVlICYmIGVudGl0eS5zcGVlZFtpbmRleF0gPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSAnZG93bidcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uc1syXS52YWx1ZSAmJiBlbnRpdHkuc3BlZWRbaW5kZXhdIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gJ3VwJ1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChlbnRpdHkuc3BlZWRbaW5kZXhdID4gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN0YXRlID0gJ2ZhbGwnXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZW50aXR5LnN0YXRlID0gc3RhdGVcclxuICAgICAgICAgICAgICAgIGVudGl0eS5jb2xvciA9IGNvbG9yc1tzdGF0ZV1cclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBzcGVlZCA9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgKyBwaHlzaWNzLmdyYXZpdHlbaW5kZXhdICogZW50aXR5LmdyYXZpdHlNdWx0aXBseWVyW3N0YXRlXSAqIHRpbWVcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gc3BlZWRcclxuICAgICAgICAgICAgfSkgYXMgW251bWJlciwgbnVtYmVyXVxyXG5cclxuICAgICAgICAgICAgZW50aXR5LnBvc2l0aW9uID0gZW50aXR5LnBvc2l0aW9uLm1hcCgodmFsdWU6IG51bWJlciwgaW5kZXg6IG51bWJlcik6IG51bWJlciA9PiB7XHJcbiAgICAgICAgICAgICAgICBsZXQgcG9zaXRpb24gPSB2YWx1ZSArIHRpbWUgKiBlbnRpdHkuc3BlZWRbaW5kZXhdXHJcbiAgICAgICAgICAgICAgICBsZXQgY29sbGlzaW9uID0gZmFsc2VcclxuICAgICAgICAgICAgICAgIGxldCBjb2xsaXNpb25EaXJlY3Rpb24gPSAwXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHBvc2l0aW9uIDwgMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbiA9IHRydWVcclxuICAgICAgICAgICAgICAgICAgICBjb2xsaXNpb25EaXJlY3Rpb24gPSAtMVxyXG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gMFxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwb3NpdGlvbiArIGVudGl0eS5zaXplW2luZGV4XSA+IHNjcmVlblNpemVbaW5kZXhdKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uID0gdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIGNvbGxpc2lvbkRpcmVjdGlvbiA9IDFcclxuICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHNjcmVlblNpemVbaW5kZXhdIC0gZW50aXR5LnNpemVbaW5kZXhdXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZW50aXR5LmNvbGxpc2lvbkRpcmVjdGlvbnNbaW5kZXhdID0gY29sbGlzaW9uRGlyZWN0aW9uXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbGxpc2lvbiAhPT0gZW50aXR5LmNvbGxpZGVkW2luZGV4XSB8fCBpbmRleCA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5jb2xsaWRlZFtpbmRleF0gPSBjb2xsaXNpb25cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbGxpc2lvbiAmJiBpbmRleCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkubGFuZGVkID0gcGVyZm9ybWFuY2Uubm93KClcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGNvbGxpc2lvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5zcGVlZFtpbmRleF0gPSAwXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXggPT09IDEgJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGlyZWN0aW9uc1syXS52YWx1ZSAmJlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xsaXNpb24gJiZcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uRGlyZWN0aW9uID09PSAxICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBlcmZvcm1hbmNlLm5vdygpIC0gZW50aXR5LmxhbmRlZCA+IGVudGl0eS5qdW1wT2Zmc2V0ICYmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGp1bXBDb3VudCAhPT0gMFxyXG4gICAgICAgICAgICAgICAgICAgICkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbnRpdHkuc3BlZWRbaW5kZXhdID0gZW50aXR5Lmp1bXBGb3JjZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBqdW1wQ291bnQgPSAwXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChcclxuICAgICAgICAgICAgICAgICAgICBpbmRleCA9PT0gMSAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGRpcmVjdGlvbnNbMl0udmFsdWUgJiZcclxuICAgICAgICAgICAgICAgICAgICBlbnRpdHkuc3RhdGUgPT09ICd3YWxsJyAmJlxyXG4gICAgICAgICAgICAgICAgICAgIGp1bXBDb3VudCAhPT0gMFxyXG4gICAgICAgICAgICAgICAgKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGRpcmVjdGlvbiA9IC0xXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRpdHkucG9zaXRpb25bMF0gPiAxMCkgZGlyZWN0aW9uID0gMVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBlbnRpdHkuc3BlZWRbMV0gPSBlbnRpdHkuanVtcEZvcmNlIC8gMS4zXHJcbiAgICAgICAgICAgICAgICAgICAgZW50aXR5LnNwZWVkWzBdID0gKGRpcmVjdGlvbiAqIGVudGl0eS5qdW1wRm9yY2UpIC8gM1xyXG4gICAgICAgICAgICAgICAgICAgIGVudGl0eS5oaXRUaGVTaWRlID0gcGVyZm9ybWFuY2Uubm93KClcclxuICAgICAgICAgICAgICAgICAgICBqdW1wQ291bnQgPSAwXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwICYmIHBlcmZvcm1hbmNlLm5vdygpIC0gZW50aXR5LmhpdFRoZVNpZGUgPiBlbnRpdHkud2FsbEp1bXBPZmZlc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc2lkZXdheXNNb3ZlbWVudCA9IE51bWJlcihkaXJlY3Rpb25zWzFdLnZhbHVlKSAtIE51bWJlcihkaXJlY3Rpb25zWzNdLnZhbHVlKVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgc2lkZVdheXNTYXRlOiBzaWRld2F5c1N0YXRlID0gJ2dyb3VuZCdcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlbnRpdHkuY29sbGlkZWRbMV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2lkZVdheXNTYXRlID0gJ2FpcidcclxuICAgICAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghKHNpZGV3YXlzTW92ZW1lbnQgPT09IGNvbGxpc2lvbkRpcmVjdGlvbikpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZW50aXR5LnNwZWVkW2luZGV4XSA9IGVudGl0eS5zaWRlV2F5c0ZvcmNlW3NpZGVXYXlzU2F0ZV0gKiBzaWRld2F5c01vdmVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICBpZiAoc2lkZXdheXNNb3ZlbWVudCA9PT0gMCAmJiBzaWRlV2F5c1NhdGUgPT09ICdncm91bmQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVudGl0eS5zcGVlZFtpbmRleF0gPSAwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IHsgYWJzIH0gPSBNYXRoXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnN0IHggPSBlbnRpdHkuc3BlZWRbaW5kZXhdXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVudGl0eS5zcGVlZFtpbmRleF0gPVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAoeCAvIGFicyh4KSkgKiAoYWJzKHgpIC0gZW50aXR5LnNpZGVXYXlzRm9yY2Vbc2lkZVdheXNTYXRlXSlcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvc2l0aW9uXHJcbiAgICAgICAgICAgIH0pIGFzIFtudW1iZXIsIG51bWJlcl1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBbJ3Bvc2l0aW9uJywgJ3NwZWVkJywgJ2xhbmRlZCcsICdjb2xsaWRlZCcsICdjb2xvciddXHJcbiAgICAgICAgfSlcclxuICAgIH1cclxufVxyXG5cclxubG9vcC5zZXREcmF3KHJlbmRlcigpKVxyXG4gICAgLnNldFVwZGF0ZSh1cGRhdGUoKSlcclxuICAgIC5zdGFydCgpXHJcblxyXG5jb25zdCBpbml0aWFsRGF0YTogUGxheWVyID0ge1xyXG4gICAgcG9zaXRpb246IFsxMDAsIDEwMF0sXHJcbiAgICBzaXplOiBbNTAsIDUwXSxcclxuICAgIGNvbG9yOiAnYmx1ZScsXHJcbiAgICByZW5kZXJhYmxlOiB0cnVlLFxyXG4gICAgcmlnaWRib2R5OiB0cnVlLFxyXG4gICAgc3BlZWQ6IFswLCAwXSxcclxuICAgIGp1bXBGb3JjZTogLTEuNSxcclxuICAgIHNpZGVXYXlzRm9yY2U6IHtcclxuICAgICAgICBncm91bmQ6IDAuNzUsXHJcbiAgICAgICAgYWlyOiAwLjQ1XHJcbiAgICB9LFxyXG4gICAgY29sbGlkZWQ6IFtmYWxzZSwgZmFsc2VdLFxyXG4gICAgY29sbGlzaW9uRGlyZWN0aW9uczogWzAsIDBdLFxyXG4gICAgbGFuZGVkOiBwZXJmb3JtYW5jZS5ub3coKSxcclxuICAgIGp1bXBPZmZzZXQ6IDIwMCxcclxuICAgIGdyYXZpdHlNdWx0aXBseWVyOiB7XHJcbiAgICAgICAgdXA6IDAuNSxcclxuICAgICAgICBmYWxsOiAxLjUsXHJcbiAgICAgICAgZG93bjogMyxcclxuICAgICAgICBub25lOiAxLFxyXG4gICAgICAgIHdhbGw6IDAuMVxyXG4gICAgfSxcclxuICAgIHdhbGxKdW1wT2ZmZXN0OiA1MDAsXHJcbiAgICBoaXRUaGVTaWRlOiBwZXJmb3JtYW5jZS5ub3coKSxcclxuICAgIHN0YXRlOiAnbm9uZSdcclxufVxyXG5cclxuZWNzLmFkZEVudGl0eShpbml0aWFsRGF0YSlcclxuIl0sInNvdXJjZVJvb3QiOiIifQ==